Microsoft Windows [Version 10.0.19044.1826]
(c) Microsoft Corporation. All rights reserved.

C:\Users\mikmoran>ssh mfm@145.40.99.43
Welcome to Ubuntu 22.04 LTS (GNU/Linux 5.15.0-33-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Wed Aug 24 17:11:04 UTC 2022

  System load:            0.1435546875
  Usage of /:             5.7% of 218.06GB
  Memory usage:           4%
  Swap usage:             0%
  Processes:              636
  Users logged in:        0
  IPv4 address for bond0: 145.40.99.43
  IPv6 address for bond0: 2604:1380:4641:3b00::d

 * Super-optimized for small spaces - read how we shrank the memory
   footprint of MicroK8s to make it the smallest full K8s around.

   https://ubuntu.com/blog/microk8s-memory-optimisation

41 updates can be applied immediately.
1 of these updates is a standard security update.
To see these additional updates run: apt list --upgradable


1 updates could not be installed automatically. For more details,
see /var/log/unattended-upgrades/unattended-upgrades.log

*** System restart required ***
Last login: Tue Aug 23 21:32:00 2022 from 165.204.84.11
Welcome to Ubuntu 22.04 LTS (GNU/Linux 5.15.0-33-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Wed Aug 24 17:11:04 UTC 2022

  System load:            0.1435546875
  Usage of /:             5.7% of 218.06GB
  Memory usage:           4%
  Swap usage:             0%
  Processes:              636
  Users logged in:        0
  IPv4 address for bond0: 145.40.99.43
  IPv6 address for bond0: 2604:1380:4641:3b00::d

 * Super-optimized for small spaces - read how we shrank the memory
   footprint of MicroK8s to make it the smallest full K8s around.

   https://ubuntu.com/blog/microk8s-memory-optimisation

41 updates can be applied immediately.
1 of these updates is a standard security update.
To see these additional updates run: apt list --upgradable


1 updates could not be installed automatically. For more details,
see /var/log/unattended-upgrades/unattended-upgrades.log

*** System restart required ***
Last login: Tue Aug 23 21:32:00 2022 from 165.204.84.11
mfm@mm74:~$ ls
history_2208151459  history_220819  p.yaml  runc.amd64  weathervane  weathervane_backup
mfm@mm74:~$ cd weathervane
mfm@mm74:/home/mfm/weathervane$ ll
total 724
drwxrwxr-x 21 mfm  mfm    4096 Aug 23 04:13 ./
drwxr-x--- 10 mfm  mfm    4096 Aug 23 21:38 ../
-rw-r--r--  1 root root      0 Aug 17 19:56 .accept-weathervane
drwxrwxr-x  8 mfm  mfm    4096 Aug 19 19:06 .git/
-rw-rw-r--  1 mfm  mfm    2411 Aug 17 19:47 .gitignore
drwxrwxr-x 10 mfm  mfm    4096 Aug 23 03:55 .gradle/
-rw-rw-r--  1 mfm  mfm    2959 Aug 17 19:47 BRANCHING.md
-rw-rw-r--  1 mfm  mfm     200 Aug 17 19:47 Branches.md
-rw-rw-r--  1 mfm  mfm    5247 Aug 17 19:47 CODE-OF-CONDUCT.md
-rw-rw-r--  1 mfm  mfm    9540 Aug 17 19:47 CONTRIBUTING.md
-rw-rw-r--  1 mfm  mfm    4952 Aug 17 19:47 ISSUES.md
-rw-rw-r--  1 mfm  mfm    1485 Aug 17 19:47 LICENSE.txt
-rw-rw-r--  1 mfm  mfm     454 Aug 17 19:47 Notice.txt
-rw-rw-r--  1 mfm  mfm    4585 Aug 17 19:47 README.md
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:55 auctionApp/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionAppServerWarmer/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionBidService/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionWeb/
-rw-rw-r--  1 mfm  mfm   10152 Aug 17 19:47 build.gradle
-rw-rw-r--  1 mfm  mfm  378761 Aug 23 04:04 buildDockerImages.log
-rwxrwxr-x  1 mfm  mfm   13779 Aug 17 19:47 buildDockerImages.pl*
drwxrwxr-x  4 mfm  mfm    4096 Aug 17 19:47 configFiles/
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:18 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm     197 Aug 18 21:14 create-storage-class.yaml
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 dbLoader/
-rwxrwxr-x  1 mfm  mfm   21482 Aug 17 22:08 debugWeathervane.pl*
drwxr-xr-x  4 mfm  mfm    4096 Aug 23 03:56 dist/
drwxrwxr-x  8 mfm  mfm    4096 Aug 17 19:47 doc/
drwxrwxr-x 14 mfm  mfm    4096 Aug 17 19:47 dockerImages/
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 gradle/
-rw-rw-r--  1 mfm  mfm      20 Aug 17 19:47 gradle.properties
-rwxrwxr-x  1 mfm  mfm    5305 Aug 17 19:47 gradlew*
-rwxrwxr-x  1 mfm  mfm    2185 Aug 17 19:47 gradlew.bat*
-rw-rw-r--  1 mfm  mfm     354 Aug 17 21:42 my.yaml
drwxrwxr-x  3 mfm  mfm    4096 Aug 23 04:13 outDir/
drwxr-xr-x  2 root root   4096 Aug 17 19:56 output/
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv01.yaml
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv02.yaml
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv03.yaml
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:20 pv04.yaml
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:20 pv05.yaml
-rw-rw-r--  1 mfm  mfm     280 Aug 18 21:23 pvc2.yaml
-rw-rw-r--  1 mfm  mfm     280 Aug 18 21:23 pvc3.yaml
drwxrwxr-x 14 mfm  mfm    4096 Aug 17 19:47 runHarness/
-rwxrwxr-x  1 mfm  mfm   20538 Aug 18 20:34 runWeathervane.pl*
-rwxrwxr-x  1 mfm  mfm    2527 Aug 17 19:47 runmany.sh*
-rw-rw-r--  1 mfm  mfm     145 Aug 17 19:47 settings.gradle
-rw-rw-r--  1 mfm  mfm     277 Aug 18 21:23 test-pvc.yaml
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 testing/
drwxrwxr-x  2 mfm  mfm    4096 Aug 23 04:13 tmpDir/
-rw-rw-r--  1 mfm  mfm       6 Aug 17 19:47 version.txt
-rw-rw-r--  1 mfm  mfm     708 Aug 17 19:47 weathervane.config.k8s.micro
-rw-rw-r--  1 mfm  mfm     562 Aug 17 21:29 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm     721 Aug 17 19:47 weathervane.config.k8s.small2
-rwxrwxr-x  1 mfm  mfm   42556 Aug 17 19:47 weathervane.pl*
-rw-r--r--  1 root root      0 Aug 17 19:56 weathervaneResults.csv
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 workloadConfiguration/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 workloadDriver/
-rw-rw-r--  1 mfm  mfm     791 Aug 18 21:37 wv-pvc.yaml
mfm@mm74:/home/mfm/weathervane$ history > ~/history_220824
mfm@mm74:/home/mfm/weathervane$ vi ~/history_220824
mfm@mm74:/home/mfm/weathervane$ cat /etc/containers/registries.conf
# For more information on this configuration file, see containers-registries.conf(5).
#
# NOTE: RISK OF USING UNQUALIFIED IMAGE NAMES
# We recommend always using fully qualified image names including the registry
# server (full dns name), namespace, image name, and tag
# (e.g., registry.redhat.io/ubi8/ubi:latest). Pulling by digest (i.e.,
# quay.io/repository/name@digest) further eliminates the ambiguity of tags.
# When using short names, there is always an inherent risk that the image being
# pulled could be spoofed. For example, a user wants to pull an image named
# `foobar` from a registry and expects it to come from myregistry.com. If
# myregistry.com is not first in the search list, an attacker could place a
# different `foobar` image at a registry earlier in the search list. The user
# would accidentally pull and run the attacker's image and code rather than the
# intended content. We recommend only adding registries which are completely
# trusted (i.e., registries which don't allow unknown or anonymous users to
# create accounts with arbitrary names). This will prevent an image from being
# spoofed, squatted or otherwise made insecure.  If it is necessary to use one
# of these registries, it should be added at the end of the list.
#
# # An array of host[:port] registries to try when pulling an unqualified image, in order.
# unqualified-search-registries = ["example.com"]
#
# [[registry]]
# # The "prefix" field is used to choose the relevant [[registry]] TOML table;
# # (only) the TOML table with the longest match for the input image name
# # (taking into account namespace/repo/tag/digest separators) is used.
# #
# # The prefix can also be of the form: *.example.com for wildcard subdomain
# # matching.
# #
# # If the prefix field is missing, it defaults to be the same as the "location" field.
# prefix = "example.com/foo"
#
# # If true, unencrypted HTTP as well as TLS connections with untrusted
# # certificates are allowed.
# insecure = false
#
# # If true, pulling images with matching names is forbidden.
# blocked = false
#
# # The physical location of the "prefix"-rooted namespace.
# #
# # By default, this is equal to "prefix" (in which case "prefix" can be omitted
# # and the [[registry]] TOML table can only specify "location").
# #
# # Example: Given
# #   prefix = "example.com/foo"
# #   location = "internal-registry-for-example.net/bar"
# # requests for the image example.com/foo/myimage:latest will actually work with the
# # internal-registry-for-example.net/bar/myimage:latest image.
#
# # The location can be empty iff prefix is in a
# # wildcarded format: "*.example.com". In this case, the input reference will
# # be used as-is without any rewrite.
# location = internal-registry-for-example.com/bar"
#
# # (Possibly-partial) mirrors for the "prefix"-rooted namespace.
# #
# # The mirrors are attempted in the specified order; the first one that can be
# # contacted and contains the image will be used (and if none of the mirrors contains the image,
# # the primary location specified by the "registry.location" field, or using the unmodified
# # user-specified reference, is tried last).
# #
# # Each TOML table in the "mirror" array can contain the following fields, with the same semantics
# # as if specified in the [[registry]] TOML table directly:
# # - location
# # - insecure
# [[registry.mirror]]
# location = "example-mirror-0.local/mirror-for-foo"
# [[registry.mirror]]
# location = "example-mirror-1.local/mirrors/foo"
# insecure = true
# # Given the above, a pull of example.com/foo/image:latest will try:
# # 1. example-mirror-0.local/mirror-for-foo/image:latest
# # 2. example-mirror-1.local/mirrors/foo/image:latest
# # 3. internal-registry-for-example.net/bar/image:latest
# # in order, and use the first one that exists.
unqualified-search-registries=["docker.io"]
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md        auctionAppServerWarmer      dbLoader             my.yaml    pvc3.yaml          weathervane.config.k8s.micro
Branches.md         auctionBidService           debugWeathervane.pl  outDir     runHarness         weathervane.config.k8s.quickstart
CODE-OF-CONDUCT.md  auctionWeb                  dist                 output     runWeathervane.pl  weathervane.config.k8s.small2
CONTRIBUTING.md     build.gradle                doc                  pv01.yaml  runmany.sh         weathervane.pl
ISSUES.md           buildDockerImages.log       dockerImages         pv02.yaml  settings.gradle    weathervaneResults.csv
LICENSE.txt         buildDockerImages.pl        gradle               pv03.yaml  test-pvc.yaml      workloadConfiguration
Notice.txt          configFiles                 gradle.properties    pv04.yaml  testing            workloadDriver
README.md           create-persistent-vol.yaml  gradlew              pv05.yaml  tmpDir             wv-pvc.yaml
auctionApp          create-storage-class.yaml   gradlew.bat          pvc2.yaml  version.txt
mfm@mm74:/home/mfm/weathervane$ test
mfm@mm74:/home/mfm/weathervane$ which test
/usr/bin/test
mfm@mm74:/home/mfm/weathervane$ run
Command 'run' not found, did you mean:
  command 'rue' from snap darkdimension-rue (0.3.0)
  command 'runq' from deb exim4-daemon-heavy (4.95-4ubuntu2.1)
  command 'runq' from deb exim4-daemon-light (4.95-4ubuntu2.1)
  command 'runq' from deb sendmail-bin (8.15.2-22ubuntu3)
  command 'grun' from deb grun (0.9.3+git20200303-1)
  command 'rn' from deb trn4 (4.0-test77-14)
  command 'zrun' from deb moreutils (0.66-1)
  command 'runc' from deb runc (1.1.0-0ubuntu1)
  command 'crun' from deb crun (0.17+dfsg-1.1)
  command 'zun' from deb python3-zunclient (4.4.0-0ubuntu1)
  command 'srun' from deb slurm-client (21.08.5-2ubuntu1)
  command 'rup' from deb rstat-client (4.0.1-11)
See 'snap info <snapname>' for additional versions.
mfm@mm74:/home/mfm/weathervane$ vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ [1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ df .
Filesystem     1K-blocks     Used Available Use% Mounted on
/dev/sdc3      228651856 12922552 204091364   6% /
mfm@mm74:/home/mfm/weathervane$ df /tmp
Filesystem     1K-blocks     Used Available Use% Mounted on
/dev/sdc3      228651856 12922552 204091364   6% /
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ ./z
-bash: ./z: Permission denied
mfm@mm74:/home/mfm/weathervane$ . z
mfm@mm74:/home/mfm/weathervane$ ll /tmp
total 64
drwxrwxrwt 12 root root 4096 Aug 24 17:37 ./
drwxr-xr-x 23 root root 4096 Aug 17 19:47 ../
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .ICE-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .Test-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .X11-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .XIM-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .font-unix/
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_2bKt.txt
-rw-------  1 root root  279 Aug 19 19:19 cpan_install_D5gk.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_Jy44.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_KHRL.txt
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_OcwM.txt
-rw-------  1 root root   37 Aug 19 19:19 cpan_install_ZAyk.txt
drwx------  3 root root 4096 Aug 17 19:15 snap.lxd/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx/
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md        auctionAppServerWarmer      debugWeathervane.pl  output             runmany.sh                         weathervaneResults.csv
Branches.md         auctionBidService           dist                 pv01.yaml          settings.gradle                    workloadConfiguration
CODE-OF-CONDUCT.md  auctionWeb                  doc                  pv02.yaml          test-pvc.yaml                      workloadDriver
CONTRIBUTING.md     build.gradle                dockerImages         pv03.yaml          testing                            wv-pvc.yaml
ISSUES.md           buildDockerImages.log       gradle               pv04.yaml          tmpDir                             z
LICENSE.txt         buildDockerImages.pl        gradle.properties    pv05.yaml          version.txt
Notice.txt          configFiles                 gradlew              pvc2.yaml          weathervane.config.k8s.micro
README.md           create-persistent-vol.yaml  gradlew.bat          pvc3.yaml          weathervane.config.k8s.quickstart
Z_DIR               create-storage-class.yaml   my.yaml              runHarness         weathervane.config.k8s.small2
auctionApp          dbLoader                    outDir               runWeathervane.pl  weathervane.pl
mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p Z_DIR
cp z Z_DIR

mfm@mm74:/home/mfm/weathervane$ ls Z_DIR/
z
mfm@mm74:/home/mfm/weathervane$ cat Z_DIR/z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p Z_DIR
cp z Z_DIR

mfm@mm74:/home/mfm/weathervane$ rm Z_DIR/z
mfm@mm74:/home/mfm/weathervane$ rmdir Z_DIR/
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ ./z
-bash: ./z: Permission denied
mfm@mm74:/home/mfm/weathervane$ . z
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ ll /tmp
total 68
drwxrwxrwt 13 root root 4096 Aug 24 17:46 ./
drwxr-xr-x 23 root root 4096 Aug 17 19:47 ../
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .ICE-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .Test-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .X11-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .XIM-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .font-unix/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:45 220824174547/
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_2bKt.txt
-rw-------  1 root root  279 Aug 19 19:19 cpan_install_D5gk.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_Jy44.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_KHRL.txt
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_OcwM.txt
-rw-------  1 root root   37 Aug 19 19:19 cpan_install_ZAyk.txt
drwx------  3 root root 4096 Aug 17 19:15 snap.lxd/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx/
mfm@mm74:/home/mfm/weathervane$ ll /tmp/220824174547
total 28
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:45 ./
drwxrwxrwt 13 root root 4096 Aug 24 17:47 ../
-rw-rw-r--  1 mfm  mfm   400 Aug 24 17:45 ZOUTPUT
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 17:45 outDir/
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 17:45 tmpDir/
-rw-rw-r--  1 mfm  mfm   562 Aug 24 17:45 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm   261 Aug 24 17:45 z
mfm@mm74:/home/mfm/weathervane$ cat /tmp/220824174547/ZOUTPUT

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824175727
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ cd /tmp/220824175727
mfm@mm74:/tmp/220824175727$ ll
total 28
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:57 ./
drwxrwxrwt 14 root root 4096 Aug 24 17:57 ../
-rw-rw-r--  1 mfm  mfm   716 Aug 24 17:57 ZOUT
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 17:57 outDir/
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 17:57 tmpDir/
-rw-rw-r--  1 mfm  mfm   562 Aug 24 17:57 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm   277 Aug 24 17:57 z
mfm@mm74:/tmp/220824175727$ cat ZOUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/tmp/220824175727$ ls
ZOUT  outDir  tmpDir  weathervane.config.k8s.quickstart  z
mfm@mm74:/tmp/220824175727$ cat weathervane.config.k8s.quickstart
{
  "description" : "micro",
  "configurationSize": "micro",
  "runStrategy" : "fixed",
  "dockerNamespace" : "mikemoranamd",
  "kubernetesClusters" : [
    {
      "name" : "kubernetes",
      "kubeconfigFile" : "/home/mfm/.kube/config",
      "kubeconfigContext" : "kubernetes-admin@kubernetes",
    },
  ],
  "driverCluster" : "kubernetes",
  "appInstanceCluster" : "kubernetes",
  "appIngressMethod" : "clusterip",
  "cassandraDataStorageClass" : "local-storage",
  "postgresqlStorageClass" : "local-storage",
  "nginxCacheStorageClass" : "local-storage",
}
mfm@mm74:/tmp/220824175727$ ls
ZOUT  outDir  tmpDir  weathervane.config.k8s.quickstart  z
mfm@mm74:/tmp/220824175727$ cd outDir/
mfm@mm74:/tmp/220824175727/outDir$ ll
total 8
drwxrwxr-x 2 mfm mfm 4096 Aug 24 17:57 ./
drwxrwxr-x 4 mfm mfm 4096 Aug 24 17:57 ../
mfm@mm74:/tmp/220824175727/outDir$ cd ../tmpDir/
mfm@mm74:/tmp/220824175727/tmpDir$ ll
total 8
drwxrwxr-x 2 mfm mfm 4096 Aug 24 17:57 ./
drwxrwxr-x 4 mfm mfm 4096 Aug 24 17:57 ../
mfm@mm74:/tmp/220824175727/tmpDir$ cd
mfm@mm74:/home/mfm$ cd weathervane
mfm@mm74:/home/mfm/weathervane$ fg
vi z


[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ ll
total 740
drwxrwxr-x 21 mfm  mfm    4096 Aug 24 18:02 ./
drwxr-x--- 10 mfm  mfm    4096 Aug 24 17:15 ../
-rw-r--r--  1 root root      0 Aug 17 19:56 .accept-weathervane
drwxrwxr-x  8 mfm  mfm    4096 Aug 19 19:06 .git/
-rw-rw-r--  1 mfm  mfm    2411 Aug 17 19:47 .gitignore
drwxrwxr-x 10 mfm  mfm    4096 Aug 23 03:55 .gradle/
-rw-------  1 mfm  mfm   12288 Aug 24 18:02 .z.swp
-rw-rw-r--  1 mfm  mfm    2959 Aug 17 19:47 BRANCHING.md
-rw-rw-r--  1 mfm  mfm     200 Aug 17 19:47 Branches.md
-rw-rw-r--  1 mfm  mfm    5247 Aug 17 19:47 CODE-OF-CONDUCT.md
-rw-rw-r--  1 mfm  mfm    9540 Aug 17 19:47 CONTRIBUTING.md
-rw-rw-r--  1 mfm  mfm    4952 Aug 17 19:47 ISSUES.md
-rw-rw-r--  1 mfm  mfm    1485 Aug 17 19:47 LICENSE.txt
-rw-rw-r--  1 mfm  mfm     454 Aug 17 19:47 Notice.txt
-rw-rw-r--  1 mfm  mfm    4585 Aug 17 19:47 README.md
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:55 auctionApp/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionAppServerWarmer/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionBidService/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionWeb/
-rw-rw-r--  1 mfm  mfm   10152 Aug 17 19:47 build.gradle
-rw-rw-r--  1 mfm  mfm  378761 Aug 23 04:04 buildDockerImages.log
-rwxrwxr-x  1 mfm  mfm   13779 Aug 17 19:47 buildDockerImages.pl*
drwxrwxr-x  4 mfm  mfm    4096 Aug 17 19:47 configFiles/
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:18 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm     197 Aug 18 21:14 create-storage-class.yaml
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 dbLoader/
-rwxrwxr-x  1 mfm  mfm   21482 Aug 17 22:08 debugWeathervane.pl*
drwxr-xr-x  4 mfm  mfm    4096 Aug 23 03:56 dist/
drwxrwxr-x  8 mfm  mfm    4096 Aug 17 19:47 doc/
drwxrwxr-x 14 mfm  mfm    4096 Aug 17 19:47 dockerImages/
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 gradle/
-rw-rw-r--  1 mfm  mfm      20 Aug 17 19:47 gradle.properties
-rwxrwxr-x  1 mfm  mfm    5305 Aug 17 19:47 gradlew*
-rwxrwxr-x  1 mfm  mfm    2185 Aug 17 19:47 gradlew.bat*
-rw-rw-r--  1 mfm  mfm     354 Aug 17 21:42 my.yaml
drwxrwxr-x  3 mfm  mfm    4096 Aug 23 04:13 outDir/
drwxr-xr-x  2 root root   4096 Aug 17 19:56 output/
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv01.yaml
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv02.yaml
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv03.yaml
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:20 pv04.yaml
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:20 pv05.yaml
-rw-rw-r--  1 mfm  mfm     280 Aug 18 21:23 pvc2.yaml
-rw-rw-r--  1 mfm  mfm     280 Aug 18 21:23 pvc3.yaml
drwxrwxr-x 14 mfm  mfm    4096 Aug 17 19:47 runHarness/
-rwxrwxr-x  1 mfm  mfm   20538 Aug 18 20:34 runWeathervane.pl*
-rwxrwxr-x  1 mfm  mfm    2527 Aug 17 19:47 runmany.sh*
-rw-rw-r--  1 mfm  mfm     145 Aug 17 19:47 settings.gradle
-rw-rw-r--  1 mfm  mfm     277 Aug 18 21:23 test-pvc.yaml
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 testing/
drwxrwxr-x  2 mfm  mfm    4096 Aug 23 04:13 tmpDir/
-rw-rw-r--  1 mfm  mfm       6 Aug 17 19:47 version.txt
-rw-rw-r--  1 mfm  mfm     708 Aug 17 19:47 weathervane.config.k8s.micro
-rw-rw-r--  1 mfm  mfm     562 Aug 17 21:29 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm     721 Aug 17 19:47 weathervane.config.k8s.small2
-rwxrwxr-x  1 mfm  mfm   42556 Aug 17 19:47 weathervane.pl*
-rw-r--r--  1 root root      0 Aug 17 19:56 weathervaneResults.csv
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 workloadConfiguration/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 workloadDriver/
-rw-rw-r--  1 mfm  mfm     791 Aug 18 21:37 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm     294 Aug 24 18:02 z
mfm@mm74:/home/mfm/weathervane$ ll *.yaml
-rw-rw-r-- 1 mfm mfm 460 Aug 18 21:18 create-persistent-vol.yaml
-rw-rw-r-- 1 mfm mfm 197 Aug 18 21:14 create-storage-class.yaml
-rw-rw-r-- 1 mfm mfm 354 Aug 17 21:42 my.yaml
-rw-rw-r-- 1 mfm mfm 461 Aug 18 21:21 pv01.yaml
-rw-rw-r-- 1 mfm mfm 461 Aug 18 21:21 pv02.yaml
-rw-rw-r-- 1 mfm mfm 461 Aug 18 21:21 pv03.yaml
-rw-rw-r-- 1 mfm mfm 460 Aug 18 21:20 pv04.yaml
-rw-rw-r-- 1 mfm mfm 460 Aug 18 21:20 pv05.yaml
-rw-rw-r-- 1 mfm mfm 280 Aug 18 21:23 pvc2.yaml
-rw-rw-r-- 1 mfm mfm 280 Aug 18 21:23 pvc3.yaml
-rw-rw-r-- 1 mfm mfm 277 Aug 18 21:23 test-pvc.yaml
-rw-rw-r-- 1 mfm mfm 791 Aug 18 21:37 wv-pvc.yaml
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ [1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ .  z
Z_DIR=/tmp/220824180359
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ ll /tmp/220824180359
total 76
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:03 ./
drwxrwxrwt 15 root root 4096 Aug 24 18:04 ../
-rw-rw-r--  1 mfm  mfm   716 Aug 24 18:04 ZOUT
-rw-rw-r--  1 mfm  mfm   460 Aug 24 18:03 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm   197 Aug 24 18:03 create-storage-class.yaml
-rw-rw-r--  1 mfm  mfm   354 Aug 24 18:03 my.yaml
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 18:03 outDir/
-rw-rw-r--  1 mfm  mfm   461 Aug 24 18:03 pv01.yaml
-rw-rw-r--  1 mfm  mfm   461 Aug 24 18:03 pv02.yaml
-rw-rw-r--  1 mfm  mfm   461 Aug 24 18:03 pv03.yaml
-rw-rw-r--  1 mfm  mfm   460 Aug 24 18:03 pv04.yaml
-rw-rw-r--  1 mfm  mfm   460 Aug 24 18:03 pv05.yaml
-rw-rw-r--  1 mfm  mfm   280 Aug 24 18:03 pvc2.yaml
-rw-rw-r--  1 mfm  mfm   280 Aug 24 18:03 pvc3.yaml
-rw-rw-r--  1 mfm  mfm   277 Aug 24 18:03 test-pvc.yaml
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 18:03 tmpDir/
-rw-rw-r--  1 mfm  mfm   562 Aug 24 18:03 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm   791 Aug 24 18:03 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm   294 Aug 24 18:03 z
mfm@mm74:/home/mfm/weathervane$ ll /tmp
total 76
drwxrwxrwt 15 root root 4096 Aug 24 18:05 ./
drwxr-xr-x 23 root root 4096 Aug 17 19:47 ../
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .ICE-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .Test-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .X11-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .XIM-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .font-unix/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:45 220824174547/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:57 220824175727/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:03 220824180359/
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_2bKt.txt
-rw-------  1 root root  279 Aug 19 19:19 cpan_install_D5gk.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_Jy44.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_KHRL.txt
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_OcwM.txt
-rw-------  1 root root   37 Aug 19 19:19 cpan_install_ZAyk.txt
drwx------  3 root root 4096 Aug 17 19:15 snap.lxd/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx/
mfm@mm74:/home/mfm/weathervane$ fg
vi z
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md        auctionAppServerWarmer      dbLoader             my.yaml    pvc3.yaml          weathervane.config.k8s.micro
Branches.md         auctionBidService           debugWeathervane.pl  outDir     runHarness         weathervane.config.k8s.quickstart
CODE-OF-CONDUCT.md  auctionWeb                  dist                 output     runWeathervane.pl  weathervane.config.k8s.small2
CONTRIBUTING.md     build.gradle                doc                  pv01.yaml  runmany.sh         weathervane.pl
ISSUES.md           buildDockerImages.log       dockerImages         pv02.yaml  settings.gradle    weathervaneResults.csv
LICENSE.txt         buildDockerImages.pl        gradle               pv03.yaml  test-pvc.yaml      workloadConfiguration
Notice.txt          configFiles                 gradle.properties    pv04.yaml  testing            workloadDriver
README.md           create-persistent-vol.yaml  gradlew              pv05.yaml  tmpDir             wv-pvc.yaml
auctionApp          create-storage-class.yaml   gradlew.bat          pvc2.yaml  version.txt        z
mfm@mm74:/home/mfm/weathervane$ git status
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   runWeathervane.pl

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        auctionApp/build/
        auctionAppServerWarmer/build/
        auctionBidService/build/
        create-persistent-vol.yaml
        create-storage-class.yaml
        dbLoader/build/
        debugWeathervane.pl
        my.yaml
        outDir/
        pv01.yaml
        pv02.yaml
        pv03.yaml
        pv04.yaml
        pv05.yaml
        pvc2.yaml
        pvc3.yaml
        test-pvc.yaml
        weathervane.config.k8s.quickstart
        weathervaneResults.csv
        workloadDriver/build/
        wv-pvc.yaml
        z

no changes added to commit (use "git add" and/or "git commit -a")
mfm@mm74:/home/mfm/weathervane$ git diff runWeathervane.pl
diff --git a/runWeathervane.pl b/runWeathervane.pl
index 28f5d790..f446029d 100755
--- a/runWeathervane.pl
+++ b/runWeathervane.pl
@@ -235,7 +235,7 @@ sub checkStorageClasses {
     ],
     \\\"resources\\\": {
       \\\"requests\\\": {
-        \\\"storage\\\": \\\"1Mi\\\"
+        \\\"storage\\\": \\\"1Gi\\\"
       }
     }
   }
@@ -252,6 +252,7 @@ END
                        # Create a PVC
                        my $pvcYamlStringCopy = $pvcYamlString;
                        $pvcYamlStringCopy =~ s/storageClassNameHere/$storageClassName/;
+                       print "\n***** $pvcYamlStringCopy\n";
                        $out = `echo "$pvcYamlStringCopy" | kubectl --kubeconfig=$kubeconfigFileName --context=$kubeconfigContext apply -f -`;

                        # Check 5 times for the status to equal Bound and exit if not sucessful
mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ vi runWeathervane.pl
mfm@mm74:/home/mfm/weathervane$ kubectl get pv
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
mfm@mm74:/home/mfm/weathervane$ cat pv01.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: weathervane-pv1
spec:
  capacity:
    storage: 10Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: local-storage
  local:
    path: /k8s/weathervane/vol/v01
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - mm74
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc
No resources found in default namespace.
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage   38h
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage   38h
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ ll /tmp
total 76
drwxrwxrwt 15 root root 4096 Aug 24 18:26 ./
drwxr-xr-x 23 root root 4096 Aug 17 19:47 ../
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .ICE-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .Test-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .X11-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .XIM-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .font-unix/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:45 220824174547/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:57 220824175727/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:03 220824180359/
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_2bKt.txt
-rw-------  1 root root  279 Aug 19 19:19 cpan_install_D5gk.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_Jy44.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_KHRL.txt
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_OcwM.txt
-rw-------  1 root root   37 Aug 19 19:19 cpan_install_ZAyk.txt
drwx------  3 root root 4096 Aug 17 19:15 snap.lxd/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx/
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824182631
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ ll /tmp/220824182631
total 100
drwxrwxr-x  4 mfm  mfm   4096 Aug 24 18:26 ./
drwxrwxrwt 16 root root  4096 Aug 24 18:27 ../
-rw-rw-r--  1 mfm  mfm    716 Aug 24 18:26 ZOUT
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:26 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm    197 Aug 24 18:26 create-storage-class.yaml
-rw-rw-r--  1 mfm  mfm    354 Aug 24 18:26 my.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 18:26 outDir/
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:26 pv01.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:26 pv02.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:26 pv03.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:26 pv04.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:26 pv05.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 18:26 pvc2.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 18:26 pvc3.yaml
-rwxrwxr-x  1 mfm  mfm  20538 Aug 24 18:26 runWeathervane.pl*
-rw-rw-r--  1 mfm  mfm    277 Aug 24 18:26 test-pvc.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 18:26 tmpDir/
-rw-rw-r--  1 mfm  mfm    562 Aug 24 18:26 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm    791 Aug 24 18:26 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm    322 Aug 24 18:26 z
mfm@mm74:/home/mfm/weathervane$ vi z

[1]+  Stopped                 vi z
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ kubectl get pv
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc
No resources found in default namespace.
mfm@mm74:/home/mfm/weathervane$ kubectl get sc
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage   38h
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage   38h
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h
mfm@mm74:/home/mfm/weathervane$ jobs
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ cat create-storage-class.yaml
kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: local-storage
provisioner: kubernetes.io/no-provisioner
reclaimPolicy: Retain
volumeBindingMode: Immediate
mountOptions:
- debug
mfm@mm74:/home/mfm/weathervane$ jobs
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ [1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824184936
kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h
kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage   38h
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage   38h
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ cd /tmp/220824184936
mfm@mm74:/tmp/220824184936$ ll
total 100
drwxrwxr-x  4 mfm  mfm   4096 Aug 24 18:49 ./
drwxrwxrwt 17 root root  4096 Aug 24 18:50 ../
-rw-rw-r--  1 mfm  mfm    716 Aug 24 18:49 ZOUT
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:49 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm    197 Aug 24 18:49 create-storage-class.yaml
-rw-rw-r--  1 mfm  mfm    354 Aug 24 18:49 my.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 18:49 outDir/
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:49 pv01.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:49 pv02.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:49 pv03.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:49 pv04.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:49 pv05.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 18:49 pvc2.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 18:49 pvc3.yaml
-rwxrwxr-x  1 mfm  mfm  20538 Aug 24 18:49 runWeathervane.pl*
-rw-rw-r--  1 mfm  mfm    277 Aug 24 18:49 test-pvc.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 18:49 tmpDir/
-rw-rw-r--  1 mfm  mfm    562 Aug 24 18:49 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm    791 Aug 24 18:49 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm    676 Aug 24 18:49 z
mfm@mm74:/tmp/220824184936$ cat ZOUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/tmp/220824184936$ 1fg
1fg: command not found
mfm@mm74:/tmp/220824184936$ cd
mfm@mm74:/home/mfm$ cd weathervane
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824185250
kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h

kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h

kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage   38h
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage   38h

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ cat /tmp/220824185250/ZOUT
kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h

kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h

kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage   38h
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage   38h

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc cassandra-data-cassandra-0
Error from server (NotFound): persistentvolumeclaims "cassandra-data-cassandra-0" not found
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc cassandra-data-cassandra-0 -ns auctionw1i1
Error from server (NotFound): persistentvolumeclaims "cassandra-data-cassandra-0" not found
Error from server (NotFound): persistentvolumeclaims "auctionw1i1" not found
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc cassandra-data-cassandra-0 -namespace auctionw1i1
Error from server (NotFound): persistentvolumeclaims "cassandra-data-cassandra-0" not found
Error from server (NotFound): persistentvolumeclaims "auctionw1i1" not found
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc cassandra-data-cassandra-0 --namespace auctionw1i1
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                      STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   postgresql-postgresql-0   Pending                                      local-storage   38h
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
persistentvolumeclaim "postgresql-postgresql-0" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824191245

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            39h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            39h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            39h

$ kubectl get pvc --all-namespaces
No resources found

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv1
persistentvolume "weathervane-pv1" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            39h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            39h
mfm@mm74:/home/mfm/weathervane$ kubectl apply -f pv01.yaml
persistentvolume/weathervane-pv1 created
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Available                                    local-storage            3s
weathervane-pv2   10Gi       RWO            Retain           Released    default/weathervane-test-claim   local-storage            39h
weathervane-pv3   10Gi       RWO            Retain           Released    default/weathervane-test-claim   local-storage            39h
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv2
persistentvolume "weathervane-pv2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv3
persistentvolume "weathervane-pv3" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl apply -f pv02.yaml
persistentvolume/weathervane-pv2 created
mfm@mm74:/home/mfm/weathervane$ kubectl apply -f pv03.yaml
persistentvolume/weathervane-pv3 created
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Available           local-storage            82s
weathervane-pv2   10Gi       RWO            Retain           Available           local-storage            8s
weathervane-pv3   10Gi       RWO            Retain           Available           local-storage            4s
mfm@mm74:/home/mfm/weathervane$ g
g: command not found
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824191813

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d22h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Available           local-storage            2m36s
weathervane-pv2   10Gi       RWO            Retain           Available           local-storage            82s
weathervane-pv3   10Gi       RWO            Retain           Available           local-storage            78s

$ kubectl get pvc --all-namespaces
No resources found

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 19:18:16 2022: Weathervane Version 2.1.1
Wed Aug 24 19:18:16 2022: Command-line parameters:
Wed Aug 24 19:18:16 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 19:18:16 2022: Run Configuration has 1 workload(s).
Wed Aug 24 19:18:16 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 19:18:16 2022: Workload  has 1 micro application instances:
Wed Aug 24 19:18:16 2022:       1 CoordinationServers
Wed Aug 24 19:18:16 2022:       1 WebServers
Wed Aug 24 19:18:16 2022:       1 DbServers
Wed Aug 24 19:18:16 2022:       1 NosqlServers
Wed Aug 24 19:18:16 2022:       1 MsgServers
Wed Aug 24 19:18:16 2022:       1 AppServers
Wed Aug 24 19:18:16 2022:       0 AuctionBidServers
Wed Aug 24 19:18:17 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 19:18:17 2022: Fixed Run Strategy starting run.
Wed Aug 24 19:18:17 2022: Stopping services from previous runs.
Wed Aug 24 19:19:06 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 19:20:40 2022: Preparing data for use in current run.
Wed Aug 24 19:21:01 2022: Data is not loaded for 3000 maxUsers for appInstance 1 of workload. Loading data.
Wed Aug 24 19:23:10 2022:  appInstance 1: Loading data for a maximum of 3000 users
Wed Aug 24 19:23:14 2022: Loading data -- Initial estimate of total load time is 0 hours, 6 min, 19 sec. Workload 1, appInstance 1.
Wed Aug 24 19:25:15 2022: Loading is 53.6% complete.  Current estimate of remaining load time is 0 hours, 3 min, 31 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:00 2022: Loading is 95.5% complete.  Current estimate of remaining load time is 0 hours, 0 min, 20 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:20 2022: Loading is 99.9% complete.  Current estimate of remaining load time is 0 hours, 0 min, 0 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:20 2022: Loading data took 0 hours, 4 min, 5 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:24 2022: Preparing auctions and warming data-services for appInstance 1 of workload.
Wed Aug 24 19:27:40 2022: Starting backend services
Wed Aug 24 19:52:58 2022: Couldn't bring up all backend services for appInstance 1 of workload 1.

Wed Aug 24 19:54:03 2022: Couldn't start backend services for run 0-0. Exiting.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Exit code for Run-Harness container is 255.
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ cd /tmp/220824191813
mfm@mm74:/tmp/220824191813$ ll
total 104
drwxrwxr-x  4 mfm  mfm   4096 Aug 24 19:18 ./
drwxrwxrwt 20 root root  4096 Aug 24 19:54 ../
-rw-rw-r--  1 mfm  mfm   5381 Aug 24 19:54 ZOUT
-rw-rw-r--  1 mfm  mfm    460 Aug 24 19:18 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm    197 Aug 24 19:18 create-storage-class.yaml
-rw-rw-r--  1 mfm  mfm    354 Aug 24 19:18 my.yaml
drwxrwxr-x  3 mfm  mfm   4096 Aug 24 19:18 outDir/
-rw-rw-r--  1 mfm  mfm    461 Aug 24 19:18 pv01.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 19:18 pv02.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 19:18 pv03.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 19:18 pv04.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 19:18 pv05.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 19:18 pvc2.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 19:18 pvc3.yaml
-rwxrwxr-x  1 mfm  mfm  20538 Aug 24 19:18 runWeathervane.pl*
-rw-rw-r--  1 mfm  mfm    277 Aug 24 19:18 test-pvc.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 19:18 tmpDir/
-rw-rw-r--  1 mfm  mfm    562 Aug 24 19:18 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm    791 Aug 24 19:18 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm    807 Aug 24 19:18 z
mfm@mm74:/tmp/220824191813$ ll outDir/
total 16
drwxrwxr-x 3 mfm mfm 4096 Aug 24 19:18 ./
drwxrwxr-x 4 mfm mfm 4096 Aug 24 19:18 ../
drwxr-xr-x 3 mfm mfm 4096 Aug 24 19:18 0/
-rw-r--r-- 1 mfm mfm    1 Aug 24 19:18 sequence.num
mfm@mm74:/tmp/220824191813$ ll tmpDir/
total 8
drwxrwxr-x 2 mfm mfm 4096 Aug 24 19:18 ./
drwxrwxr-x 4 mfm mfm 4096 Aug 24 19:18 ../
mfm@mm74:/tmp/220824191813$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage            40m
weathervane-pv2   10Gi       RWO            Retain           Bound      auctionw1i1/postgresql-postgresql-0      local-storage            38m
weathervane-pv3   10Gi       RWO            Retain           Bound      auctionw1i1/cassandra-data-cassandra-0   local-storage            38m
mfm@mm74:/tmp/220824191813$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS   VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Bound    weathervane-pv3   10Gi       RWO            local-storage   36m
auctionw1i1   postgresql-postgresql-0      Bound    weathervane-pv2   10Gi       RWO            local-storage   36m
mfm@mm74:/tmp/220824191813$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d22h
mfm@mm74:/tmp/220824191813$ kubectl describe sc local-storage
Name:            local-storage
IsDefaultClass:  No
Annotations:     kubectl.kubernetes.io/last-applied-configuration={"apiVersion":"storage.k8s.io/v1","kind":"StorageClass","metadata":{"annotations":{},"name":"local-storage"},"mountOptions":["debug"],"provisioner":"kubernetes.io/no-provisioner","reclaimPolicy":"Retain","volumeBindingMode":"Immediate"}

Provisioner:           kubernetes.io/no-provisioner
Parameters:            <none>
AllowVolumeExpansion:  <unset>
MountOptions:
  debug
ReclaimPolicy:      Retain
VolumeBindingMode:  Immediate
Events:             <none>
mfm@mm74:/tmp/220824191813$ jobs
[1]+  Stopped                 vi z  (wd: /home/mfm/weathervane)
mfm@mm74:/tmp/220824191813$ fg
vi z    (wd: /home/mfm/weathervane)
mfm@mm74:/tmp/220824191813$ which awk
/usr/bin/awk
mfm@mm74:/tmp/220824191813$ kubectl delete pvc cassandra-data-cassandra-0 --namespace auctionw1i1
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
mfm@mm74:/tmp/220824191813$ kubectl delete pvc postgresql-postgresql-0 --namespace auctionw1i1
persistentvolumeclaim "postgresql-postgresql-0" deleted
mfm@mm74:/tmp/220824191813$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/tmp/220824191813$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage            50m
weathervane-pv2   10Gi       RWO            Retain           Released   auctionw1i1/postgresql-postgresql-0      local-storage            49m
weathervane-pv3   10Gi       RWO            Retain           Released   auctionw1i1/cassandra-data-cassandra-0   local-storage            49m
mfm@mm74:/tmp/220824191813$ kubectl delete pv weathervane-pv1
persistentvolume "weathervane-pv1" deleted
mfm@mm74:/tmp/220824191813$ kubectl delete pv weathervane-pv2
persistentvolume "weathervane-pv2" deleted
mfm@mm74:/tmp/220824191813$ kubectl delete pv weathervane-pv3
persistentvolume "weathervane-pv3" deleted
mfm@mm74:/tmp/220824191813$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d22h
mfm@mm74:/tmp/220824191813$ kubectl get pv --all-namespaces
No resources found
mfm@mm74:/tmp/220824191813$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/tmp/220824191813$ ls
ZOUT                        create-storage-class.yaml  outDir     pv02.yaml  pv04.yaml  pvc2.yaml  runWeathervane.pl  tmpDir                             wv-pvc.yaml
create-persistent-vol.yaml  my.yaml                    pv01.yaml  pv03.yaml  pv05.yaml  pvc3.yaml  test-pvc.yaml      weathervane.config.k8s.quickstart  z
mfm@mm74:/tmp/220824191813$ vi pv01.yaml
mfm@mm74:/tmp/220824191813$ vi pv02.yaml
mfm@mm74:/tmp/220824191813$ vi pv03.yaml
mfm@mm74:/tmp/220824191813$ mfm@mm74:/tmp/220824191813$ # changed 10Gi to 20Gi
mfm@mm74:/tmp/220824191813$ kubectl apply -f pv01.yaml
persistentvolume/weathervane-pv1 created
mfm@mm74:/tmp/220824191813$ kubectl apply -f pv02.yaml
persistentvolume/weathervane-pv2 created
mfm@mm74:/tmp/220824191813$ kubectl apply -f pv03.yaml
persistentvolume/weathervane-pv3 created
mfm@mm74:/tmp/220824191813$ fg
-bash: fg: current: no such job
mfm@mm74:/tmp/220824191813$ cd
mfm@mm74:/home/mfm$ cd weathervane\
> ^C
mfm@mm74:/home/mfm$ cd weathervane
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   20Gi       RWO            Retain           Available           local-storage            2m22s
weathervane-pv2   20Gi       RWO            Retain           Available           local-storage            2m18s
weathervane-pv3   20Gi       RWO            Retain           Available           local-storage            2m15s
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md            auctionBidService           dist               pv01.yaml          settings.gradle                    weathervaneResults.csv
Branches.md             auctionWeb                  doc                pv02.yaml          tee                                workloadConfiguration
CODE-OF-CONDUCT.md      build.gradle                dockerImages       pv03.yaml          test-pvc.yaml                      workloadDriver
CONTRIBUTING.md         buildDockerImages.log       gradle             pv04.yaml          testing                            wv-pvc.yaml
ISSUES.md               buildDockerImages.pl        gradle.properties  pv05.yaml          tmpDir                             z
LICENSE.txt             configFiles                 gradlew            pvc2.yaml          version.txt
Notice.txt              create-persistent-vol.yaml  gradlew.bat        pvc3.yaml          weathervane.config.k8s.micro
README.md               create-storage-class.yaml   my.yaml            runHarness         weathervane.config.k8s.quickstart
auctionApp              dbLoader                    outDir             runWeathervane.pl  weathervane.config.k8s.small2
auctionAppServerWarmer  debugWeathervane.pl         output             runmany.sh         weathervane.pl
mfm@mm74:/home/mfm/weathervane$ vi pv01.yaml pv02.yaml pv03.yaml
3 files to edit
mfm@mm74:/home/mfm/weathervane$ cat pv01.yaml pv02.yaml pv03.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: weathervane-pv1
spec:
  capacity:
    storage: 20Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: local-storage
  local:
    path: /k8s/weathervane/vol/v01
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - mm74
apiVersion: v1
kind: PersistentVolume
metadata:
  name: weathervane-pv2
spec:
  capacity:
    storage: 20Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: local-storage
  local:
    path: /k8s/weathervane/vol/v02
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - mm74
apiVersion: v1
kind: PersistentVolume
metadata:
  name: weathervane-pv3
spec:
  capacity:
    storage: 20Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: local-storage
  local:
    path: /k8s/weathervane/vol/v03
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - mm74
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824201306

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d22h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   20Gi       RWO            Retain           Available           local-storage            3m55s
weathervane-pv2   20Gi       RWO            Retain           Available           local-storage            3m51s
weathervane-pv3   20Gi       RWO            Retain           Available           local-storage            3m48s

$ kubectl get pvc --all-namespaces
No resources found

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 20:13:09 2022: Weathervane Version 2.1.1
Wed Aug 24 20:13:09 2022: Command-line parameters:
Wed Aug 24 20:13:09 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 20:13:09 2022: Run Configuration has 1 workload(s).
Wed Aug 24 20:13:09 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 20:13:09 2022: Workload  has 1 micro application instances:
Wed Aug 24 20:13:09 2022:       1 CoordinationServers
Wed Aug 24 20:13:09 2022:       1 WebServers
Wed Aug 24 20:13:09 2022:       1 DbServers
Wed Aug 24 20:13:09 2022:       1 NosqlServers
Wed Aug 24 20:13:09 2022:       1 MsgServers
Wed Aug 24 20:13:09 2022:       1 AppServers
Wed Aug 24 20:13:09 2022:       0 AuctionBidServers
Wed Aug 24 20:13:09 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 20:13:09 2022: Fixed Run Strategy starting run.
Wed Aug 24 20:13:09 2022: Stopping services from previous runs.
Wed Aug 24 20:13:59 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 20:15:33 2022: Preparing data for use in current run.
Wed Aug 24 20:15:52 2022: Data is already loaded for appInstance 1 of workload
Wed Aug 24 20:15:52 2022: Preparing auctions and warming data-services for appInstance 1 of workload.
Wed Aug 24 20:16:09 2022: Starting backend services
Wed Aug 24 20:41:27 2022: Couldn't bring up all backend services for appInstance 1 of workload 1.
Wed Aug 24 20:42:32 2022: Couldn't start backend services for run 0-0. Exiting.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Exit code for Run-Harness container is 255.

END OF WEATHERVANE PERL SCRIPT OUTPUT

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d23h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   20Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage            33m
weathervane-pv2   20Gi       RWO            Retain           Bound      auctionw1i1/postgresql-postgresql-0      local-storage            33m
weathervane-pv3   20Gi       RWO            Retain           Bound      auctionw1i1/cassandra-data-cassandra-0   local-storage            33m

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS   VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Bound    weathervane-pv3   20Gi       RWO            local-storage   28m
auctionw1i1   postgresql-postgresql-0      Bound    weathervane-pv2   20Gi       RWO            local-storage   28m

mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ vi pv0*.yaml
5 files to edit
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d23h
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ cd
mfm@mm74:/home/mfm$ cd weathervane
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824210845
Error from server (NotFound): persistentvolumeclaims "cassandra-data-cassandra-0" not found
Error from server (NotFound): persistentvolumeclaims "postgresql-postgresql-0" not found
Error from server (NotFound): persistentvolumes "weathervane-pv1" not found
Error from server (NotFound): persistentvolumes "weathervane-pv2" not found
Error from server (NotFound): persistentvolumes "weathervane-pv3" not found
persistentvolume/weathervane-pv1 created
persistentvolume/weathervane-pv2 created
persistentvolume/weathervane-pv3 created

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d23h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   30Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv2   30Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv3   30Gi       RWO            Retain           Available           local-storage            0s

$ kubectl get pvc --all-namespaces
No resources found


BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 21:08:48 2022: Weathervane Version 2.1.1
Wed Aug 24 21:08:48 2022: Command-line parameters:
Wed Aug 24 21:08:48 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 21:08:48 2022: Run Configuration has 1 workload(s).
Wed Aug 24 21:08:48 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 21:08:48 2022: Workload  has 1 micro application instances:
Wed Aug 24 21:08:48 2022:       1 CoordinationServers
Wed Aug 24 21:08:48 2022:       1 WebServers
Wed Aug 24 21:08:48 2022:       1 DbServers
Wed Aug 24 21:08:48 2022:       1 NosqlServers
Wed Aug 24 21:08:48 2022:       1 MsgServers
Wed Aug 24 21:08:48 2022:       1 AppServers
Wed Aug 24 21:08:48 2022:       0 AuctionBidServers
Wed Aug 24 21:08:48 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 21:08:48 2022: Fixed Run Strategy starting run.
Wed Aug 24 21:08:48 2022: Stopping services from previous runs.
Wed Aug 24 21:09:37 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 21:11:12 2022: Preparing data for use in current run.
Wed Aug 24 21:11:31 2022: Data is already loaded for appInstance 1 of workload
Wed Aug 24 21:11:31 2022: Preparing auctions and warming data-services for appInstance 1 of workload.
Wed Aug 24 21:11:48 2022: Starting backend services
Wed Aug 24 21:37:05 2022: Couldn't bring up all backend services for appInstance 1 of workload 1.
Wed Aug 24 21:38:10 2022: Couldn't start backend services for run 0-0. Exiting.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Exit code for Run-Harness container is 255.

END OF WEATHERVANE PERL SCRIPT OUTPUT

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  6d

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   30Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage            29m
weathervane-pv2   30Gi       RWO            Retain           Bound      auctionw1i1/postgresql-postgresql-0      local-storage            29m
weathervane-pv3   30Gi       RWO            Retain           Bound      auctionw1i1/cassandra-data-cassandra-0   local-storage            29m

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS   VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Bound    weathervane-pv3   30Gi       RWO            local-storage   28m
auctionw1i1   postgresql-postgresql-0      Bound    weathervane-pv2   30Gi       RWO            local-storage   28m

mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824214232
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
persistentvolumeclaim "postgresql-postgresql-0" deleted
persistentvolume "weathervane-pv1" deleted
persistentvolume "weathervane-pv2" deleted
persistentvolume "weathervane-pv3" deleted
storageclass.storage.k8s.io "local-storage" deleted
Command 'cubectl' not found, did you mean:
  command 'kubectl' from snap kubectl (1.24.4)
See 'snap info <snapname>' for additional versions.
persistentvolume/weathervane-pv1 created
persistentvolume/weathervane-pv2 created
persistentvolume/weathervane-pv3 created

$ kubectl get sc --all-namespaces
No resources found

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   40Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv2   40Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv3   40Gi       RWO            Retain           Available           local-storage            0s

$ kubectl get pvc --all-namespaces
No resources found


BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 21:42:35 2022: Weathervane Version 2.1.1
Wed Aug 24 21:42:35 2022: Command-line parameters:
Wed Aug 24 21:42:35 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 21:42:35 2022: Run Configuration has 1 workload(s).
Wed Aug 24 21:42:35 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 21:42:35 2022: Workload  has 1 micro application instances:
Wed Aug 24 21:42:35 2022:       1 CoordinationServers
Wed Aug 24 21:42:35 2022:       1 WebServers
Wed Aug 24 21:42:35 2022:       1 DbServers
Wed Aug 24 21:42:35 2022:       1 NosqlServers
Wed Aug 24 21:42:35 2022:       1 MsgServers
Wed Aug 24 21:42:35 2022:       1 AppServers
Wed Aug 24 21:42:35 2022:       0 AuctionBidServers
Wed Aug 24 21:42:35 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 21:42:35 2022: Fixed Run Strategy starting run.
Wed Aug 24 21:42:35 2022: Stopping services from previous runs.
^C
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824214330
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
cc^C
mfm@mm74:/home/mfm/weathervane$ ^C
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824214423
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
^C
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
^C
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   2m19s
auctionw1i1   postgresql-postgresql-0      Bound         weathervane-pv2   40Gi       RWO            local-storage   2m19s
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   2m43s
auctionw1i1   postgresql-postgresql-0      Bound         weathervane-pv2   40Gi       RWO            local-storage   2m43s
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
persistentvolumeclaim "postgresql-postgresql-0" deleted

^C
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   3m34s
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   3m34s
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   40Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage            5m37s
weathervane-pv2   40Gi       RWO            Retain           Bound      auctionw1i1/postgresql-postgresql-0      local-storage            5m37s
weathervane-pv3   40Gi       RWO            Retain           Bound      auctionw1i1/cassandra-data-cassandra-0   local-storage            5m37s
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv1
persistentvolume "weathervane-pv1" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv2
persistentvolume "weathervane-pv2" deleted
^C
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            6m11s
weathervane-pv3   40Gi       RWO            Retain           Bound         auctionw1i1/cassandra-data-cassandra-0   local-storage            6m11s
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv3
persistentvolume "weathervane-pv3" deleted
^C
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            6m53s
weathervane-pv3   40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage            6m53s
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   6m6s
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   6m6s
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   7m36s
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   7m36s
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            8m36s
weathervane-pv3   40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage            8m36s
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            11m
weathervane-pv3   40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage            11m
mfm@mm74:/home/mfm/weathervane$ vi create-
mfm@mm74:/home/mfm/weathervane$ vi create-storage-class.yaml
mfm@mm74:/home/mfm/weathervane$ cp create-storage-class.yaml create-storage-class2.yaml
mfm@mm74:/home/mfm/weathervane$ vi create-storage-class2.yaml
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md            auctionBidService           debugWeathervane.pl  output             runmany.sh                         weathervane.pl
Branches.md             auctionWeb                  dist                 pv01.yaml          settings.gradle                    weathervaneResults.csv
CODE-OF-CONDUCT.md      build.gradle                doc                  pv02.yaml          tee                                workloadConfiguration
CONTRIBUTING.md         buildDockerImages.log       dockerImages         pv03.yaml          test-pvc.yaml                      workloadDriver
ISSUES.md               buildDockerImages.pl        gradle               pv04.yaml          testing                            wv-pvc.yaml
LICENSE.txt             configFiles                 gradle.properties    pv05.yaml          tmpDir                             z
Notice.txt              create-persistent-vol.yaml  gradlew              pvc2.yaml          version.txt
README.md               create-storage-class.yaml   gradlew.bat          pvc3.yaml          weathervane.config.k8s.micro
auctionApp              create-storage-class2.yaml  my.yaml              runHarness         weathervane.config.k8s.quickstart
auctionAppServerWarmer  dbLoader                    outDir               runWeathervane.pl  weathervane.config.k8s.small2
mfm@mm74:/home/mfm/weathervane$ cp pv01.yaml pv04.yaml
mfm@mm74:/home/mfm/weathervane$ cp pv02.yaml pv05.yaml
mfm@mm74:/home/mfm/weathervane$ cp pv03.yaml pv06.yaml
mfm@mm74:/home/mfm/weathervane$ vi pv04.yaml pv05.yaml pv06.yaml
3 files to edit
mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p $Z_DIR
echo "Z_DIR=$Z_DIR"
cp z $Z_DIR
cp weathervane.config.k8s.quickstart $Z_DIR
cp *.yaml $Z_DIR
cp runWeathervane.pl $Z_DIR

#kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
#kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
#kubectl delete pv weathervane-pv1
#kubectl delete pv weathervane-pv2
#kubectl delete pv weathervane-pv3
#kubectl delete sc local-storage

kubectl create -f create-storage-class2.yaml
kubectl apply -f pv04.yaml
kubectl apply -f pv05.yaml
kubectl apply -f pv06.yaml



echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT


./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir $Z_DIR/outDir --tmpDir $Z_DIR/tmpDir 2>&1 | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "END OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824215836
storageclass.storage.k8s.io/local-storage2 created
persistentvolume/weathervane-pv1-2 created
persistentvolume/weathervane-pv2-2 created
persistentvolume/weathervane-pv3-2 created

$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  1s

$ kubectl get pv --all-namespaces
NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS     REASON   AGE
weathervane-pv1-2   40Gi       RWO            Retain           Available                                              local-storage2            0s
weathervane-pv2     40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage             16m
weathervane-pv2-2   40Gi       RWO            Retain           Available                                              local-storage2            0s
weathervane-pv3     40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage             16m
weathervane-pv3-2   40Gi       RWO            Retain           Available                                              local-storage2            0s

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   15m
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   15m


BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.

END OF WEATHERVANE PERL SCRIPT OUTPUT

$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  32s

$ kubectl get pv --all-namespaces
NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS     REASON   AGE
weathervane-pv1-2   40Gi       RWO            Retain           Available                                              local-storage2            31s
weathervane-pv2     40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage             16m
weathervane-pv2-2   40Gi       RWO            Retain           Available                                              local-storage2            31s
weathervane-pv3     40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage             16m
weathervane-pv3-2   40Gi       RWO            Retain           Available                                              local-storage2            31s

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   15m
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   15m

mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md        auctionApp              create-persistent-vol.yaml  gradle             pv02.yaml   runWeathervane.pl  weathervane.config.k8s.micro       z
Branches.md         auctionAppServerWarmer  create-storage-class.yaml   gradle.properties  pv03.yaml   runmany.sh         weathervane.config.k8s.quickstart
CODE-OF-CONDUCT.md  auctionBidService       create-storage-class2.yaml  gradlew            pv04.yaml   settings.gradle    weathervane.config.k8s.small2
CONTRIBUTING.md     auctionWeb              dbLoader                    gradlew.bat        pv05.yaml   tee                weathervane.pl
ISSUES.md           build.gradle            debugWeathervane.pl         my.yaml            pv06.yaml   test-pvc.yaml      weathervaneResults.csv
LICENSE.txt         buildDockerImages.log   dist                        outDir             pvc2.yaml   testing            workloadConfiguration
Notice.txt          buildDockerImages.pl    doc                         output             pvc3.yaml   tmpDir             workloadDriver
README.md           configFiles             dockerImages                pv01.yaml          runHarness  version.txt        wv-pvc.yaml
mfm@mm74:/home/mfm/weathervane$ vi weathervane.config.k8s.quickstart
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  2m2s
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS     REASON   AGE
weathervane-pv1-2   40Gi       RWO            Retain           Available                                              local-storage2            2m10s
weathervane-pv2     40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage             18m
weathervane-pv2-2   40Gi       RWO            Retain           Available                                              local-storage2            2m10s
weathervane-pv3     40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage             18m
weathervane-pv3-2   40Gi       RWO            Retain           Available                                              local-storage2            2m10s
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv1-2
persistentvolume "weathervane-pv1-2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv2-2
persistentvolume "weathervane-pv2-2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv3-2
persistentvolume "weathervane-pv3-2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            18m
weathervane-pv3   40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage            18m
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   18m
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   18m
mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p $Z_DIR
echo "Z_DIR=$Z_DIR"
cp z $Z_DIR
cp weathervane.config.k8s.quickstart $Z_DIR
cp *.yaml $Z_DIR
cp runWeathervane.pl $Z_DIR

#kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
#kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
#kubectl delete pv weathervane-pv1
#kubectl delete pv weathervane-pv2
#kubectl delete pv weathervane-pv3
#kubectl delete sc local-storage

kubectl create -f create-storage-class2.yaml
kubectl apply -f pv04.yaml
kubectl apply -f pv05.yaml
kubectl apply -f pv06.yaml



echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT


./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir $Z_DIR/outDir --tmpDir $Z_DIR/tmpDir 2>&1 | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "END OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  3m29s
mfm@mm74:/home/mfm/weathervane$ kubectl delete sc local-storage2
storageclass.storage.k8s.io "local-storage2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            19m
weathervane-pv3   40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage            19m
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   19m
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   19m
mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p $Z_DIR
echo "Z_DIR=$Z_DIR"
cp z $Z_DIR
cp weathervane.config.k8s.quickstart $Z_DIR
cp *.yaml $Z_DIR
cp runWeathervane.pl $Z_DIR

#kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
#kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
#kubectl delete pv weathervane-pv1
#kubectl delete pv weathervane-pv2
#kubectl delete pv weathervane-pv3
#kubectl delete sc local-storage

kubectl create -f create-storage-class2.yaml
kubectl apply -f pv04.yaml
kubectl apply -f pv05.yaml
kubectl apply -f pv06.yaml



echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT


./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir $Z_DIR/outDir --tmpDir $Z_DIR/tmpDir 2>&1 | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "END OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824220248
storageclass.storage.k8s.io/local-storage2 created
persistentvolume/weathervane-pv1-2 created
persistentvolume/weathervane-pv2-2 created
persistentvolume/weathervane-pv3-2 created

$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  0s

$ kubectl get pv --all-namespaces
NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS     REASON   AGE
weathervane-pv1-2   40Gi       RWO            Retain           Available                                              local-storage2            0s
weathervane-pv2     40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage             20m
weathervane-pv2-2   40Gi       RWO            Retain           Available                                              local-storage2            0s
weathervane-pv3     40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage             20m
weathervane-pv3-2   40Gi       RWO            Retain           Available                                              local-storage2            0s

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   19m
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   19m


BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage2\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 22:02:52 2022: Weathervane Version 2.1.1
Wed Aug 24 22:02:52 2022: Command-line parameters:
Wed Aug 24 22:02:52 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 22:02:52 2022: Run Configuration has 1 workload(s).
Wed Aug 24 22:02:52 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 22:02:52 2022: Workload  has 1 micro application instances:
Wed Aug 24 22:02:52 2022:       1 CoordinationServers
Wed Aug 24 22:02:52 2022:       1 WebServers
Wed Aug 24 22:02:52 2022:       1 DbServers
Wed Aug 24 22:02:52 2022:       1 NosqlServers
Wed Aug 24 22:02:52 2022:       1 MsgServers
Wed Aug 24 22:02:52 2022:       1 AppServers
Wed Aug 24 22:02:52 2022:       0 AuctionBidServers
Wed Aug 24 22:02:52 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 22:02:52 2022: Fixed Run Strategy starting run.
Wed Aug 24 22:02:52 2022: Stopping services from previous runs.
Wed Aug 24 22:04:22 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 22:05:57 2022: Preparing data for use in current run.
Wed Aug 24 22:06:15 2022: Data is already loaded for appInstance 1 of workload
Wed Aug 24 22:06:15 2022: Preparing auctions and warming data-services for appInstance 1 of workload.
Wed Aug 24 22:06:33 2022: Starting backend services


Microsoft Windows [Version 10.0.19044.1826]
(c) Microsoft Corporation. All rights reserved.

C:\Users\mikmoran>ssh mfm@145.40.99.43
Welcome to Ubuntu 22.04 LTS (GNU/Linux 5.15.0-33-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Wed Aug 24 19:42:29 UTC 2022

  System load:            0.21435546875
  Usage of /:             10.1% of 218.06GB
  Memory usage:           9%
  Swap usage:             0%
  Processes:              691
  Users logged in:        1
  IPv4 address for bond0: 145.40.99.43
  IPv6 address for bond0: 2604:1380:4641:3b00::d

 * Super-optimized for small spaces - read how we shrank the memory
   footprint of MicroK8s to make it the smallest full K8s around.

   https://ubuntu.com/blog/microk8s-memory-optimisation

41 updates can be applied immediately.
1 of these updates is a standard security update.
To see these additional updates run: apt list --upgradable


1 updates could not be installed automatically. For more details,
see /var/log/unattended-upgrades/unattended-upgrades.log

*** System restart required ***
Last login: Wed Aug 24 17:11:04 2022 from 70.112.73.191
mfm@mm74:~$ uptime
 19:42:32 up 7 days, 27 min,  2 users,  load average: 0.20, 0.57, 1.04
mfm@mm74:~$ ps -a
    PID TTY          TIME CMD
3539748 pts/0    00:00:00 vi
3578000 pts/0    00:00:00 runWeathervane.
3578001 pts/0    00:00:00 tee
3578421 pts/0    00:00:00 podman
3631671 pts/1    00:00:00 ps
mfm@mm74:~$ cd /tmp
mfm@mm74:/tmp$ ll
total 96
drwxrwxrwt 20 root root 4096 Aug 24 19:42 ./
drwxr-xr-x 23 root root 4096 Aug 17 19:47 ../
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .ICE-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .Test-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .X11-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .XIM-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .font-unix/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:45 220824174547/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:57 220824175727/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:03 220824180359/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:26 220824182631/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:49 220824184936/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:52 220824185250/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 19:12 220824191245/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 19:18 220824191813/
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_2bKt.txt
-rw-------  1 root root  279 Aug 19 19:19 cpan_install_D5gk.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_Jy44.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_KHRL.txt
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_OcwM.txt
-rw-------  1 root root   37 Aug 19 19:19 cpan_install_ZAyk.txt
drwx------  3 root root 4096 Aug 17 19:15 snap.lxd/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx/
mfm@mm74:/tmp$ cd 220824191813/
mfm@mm74:/tmp/220824191813$ ll
total 104
drwxrwxr-x  4 mfm  mfm   4096 Aug 24 19:18 ./
drwxrwxrwt 20 root root  4096 Aug 24 19:43 ../
-rw-rw-r--  1 mfm  mfm   5001 Aug 24 19:27 ZOUT
-rw-rw-r--  1 mfm  mfm    460 Aug 24 19:18 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm    197 Aug 24 19:18 create-storage-class.yaml
-rw-rw-r--  1 mfm  mfm    354 Aug 24 19:18 my.yaml
drwxrwxr-x  3 mfm  mfm   4096 Aug 24 19:18 outDir/
-rw-rw-r--  1 mfm  mfm    461 Aug 24 19:18 pv01.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 19:18 pv02.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 19:18 pv03.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 19:18 pv04.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 19:18 pv05.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 19:18 pvc2.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 19:18 pvc3.yaml
-rwxrwxr-x  1 mfm  mfm  20538 Aug 24 19:18 runWeathervane.pl*
-rw-rw-r--  1 mfm  mfm    277 Aug 24 19:18 test-pvc.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 19:18 tmpDir/
-rw-rw-r--  1 mfm  mfm    562 Aug 24 19:18 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm    791 Aug 24 19:18 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm    807 Aug 24 19:18 z
mfm@mm74:/tmp/220824191813$ ll outDir/
total 16
drwxrwxr-x 3 mfm mfm 4096 Aug 24 19:18 ./
drwxrwxr-x 4 mfm mfm 4096 Aug 24 19:18 ../
drwxr-xr-x 3 mfm mfm 4096 Aug 24 19:18 0/
-rw-r--r-- 1 mfm mfm    1 Aug 24 19:18 sequence.num
mfm@mm74:/tmp/220824191813$ cat outDir/sequence.num
1mfm@mm74:/tmp/220824191813$ ll tmpDir/
total 8
drwxrwxr-x 2 mfm mfm 4096 Aug 24 19:18 ./
drwxrwxr-x 4 mfm mfm 4096 Aug 24 19:18 ../
mfm@mm74:/tmp/220824191813$ date
Wed Aug 24 19:44:46 UTC 2022
mfm@mm74:/tmp/220824191813$ uptime
 19:47:29 up 7 days, 32 min,  2 users,  load average: 0.29, 0.37, 0.82
mfm@mm74:/tmp/220824191813$ uptime
 19:48:25 up 7 days, 33 min,  2 users,  load average: 0.24, 0.34, 0.78
mfm@mm74:/tmp/220824191813$ kubectl get pods
No resources found in default namespace.
mfm@mm74:/tmp/220824191813$ kubectl get pods --all-namespaces
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          27m
auctionw1i1        postgresql-0                              1/1     Running   0          27m
auctionw1i1        rabbitmq-67fdb5bb5b-j8txh                 1/1     Running   0          27m
auctionw1i1        tomcat-748db8d59d-tb4q7                   2/2     Running   0          21m
auctionw1i1        zookeeper-0                               1/1     Running   0          27m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d
calico-system      calico-node-ghkjn                         1/1     Running   0          7d
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d
kube-system        etcd-mm74                                 1/1     Running   0          7d
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d
mfm@mm74:/tmp/220824191813$ uptime
 19:51:31 up 7 days, 36 min,  2 users,  load average: 0.33, 0.33, 0.70
mfm@mm74:/tmp/220824191813$ kubectl get pods --all-namespaces
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          29m
auctionw1i1        postgresql-0                              1/1     Running   0          29m
auctionw1i1        rabbitmq-67fdb5bb5b-j8txh                 1/1     Running   0          29m
auctionw1i1        tomcat-748db8d59d-tb4q7                   2/2     Running   0          23m
auctionw1i1        zookeeper-0                               1/1     Running   0          29m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d
calico-system      calico-node-ghkjn                         1/1     Running   0          7d
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d
kube-system        etcd-mm74                                 1/1     Running   0          7d
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d
mfm@mm74:/tmp/220824191813$ uptime
 19:53:19 up 7 days, 38 min,  2 users,  load average: 0.14, 0.26, 0.63
mfm@mm74:/tmp/220824191813$ kubectl get pods --all-namespaces
NAMESPACE          NAME                                      READY   STATUS        RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running       0          31m
auctionw1i1        postgresql-0                              1/1     Running       0          31m
auctionw1i1        rabbitmq-67fdb5bb5b-j8txh                 1/1     Running       0          31m
auctionw1i1        tomcat-748db8d59d-tb4q7                   2/2     Terminating   0          25m
auctionw1i1        zookeeper-0                               1/1     Running       0          31m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running       0          7d
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running       0          7d
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running       0          7d
calico-system      calico-node-ghkjn                         1/1     Running       0          7d
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running       0          7d
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running       0          7d
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running       0          7d
kube-system        etcd-mm74                                 1/1     Running       0          7d
kube-system        kube-apiserver-mm74                       1/1     Running       0          7d
kube-system        kube-controller-manager-mm74              1/1     Running       0          7d
kube-system        kube-proxy-dl6dw                          1/1     Running       0          7d
kube-system        kube-scheduler-mm74                       1/1     Running       0          7d
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running       0          7d
mfm@mm74:/tmp/220824191813$ uptime
 19:54:23 up 7 days, 39 min,  2 users,  load average: 0.27, 0.28, 0.61
mfm@mm74:/tmp/220824191813$ kubectl get pods --all-namespaces
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d
calico-system      calico-node-ghkjn                         1/1     Running   0          7d
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d
kube-system        etcd-mm74                                 1/1     Running   0          7d
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d
mfm@mm74:/tmp/220824191813$ uptime
 20:13:31 up 7 days, 58 min,  2 users,  load average: 1.55, 0.58, 0.47
mfm@mm74:/tmp/220824191813$ kubectl get pods --all-namespaces
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d
calico-system      calico-node-ghkjn                         1/1     Running   0          7d
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d
kube-system        etcd-mm74                                 1/1     Running   0          7d
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d
mfm@mm74:/tmp/220824191813$ uptime; kubectl get pods --all-namespaces
 20:15:25 up 7 days,  1:00,  2 users,  load average: 0.59, 0.50, 0.45
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          86s
auctionw1i1        postgresql-0                              1/1     Running   0          86s
auctionw1i1        rabbitmq-89fbcddff-rbfjk                  1/1     Running   0          86s
auctionw1i1        zookeeper-0                               1/1     Running   0          86s
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d
calico-system      calico-node-ghkjn                         1/1     Running   0          7d
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d
kube-system        etcd-mm74                                 1/1     Running   0          7d
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d
mfm@mm74:/tmp/220824191813$ uptime; kubectl get pods --all-namespaces
 20:24:01 up 7 days,  1:09,  2 users,  load average: 0.18, 0.59, 0.58
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          10m
auctionw1i1        postgresql-0                              1/1     Running   0          10m
auctionw1i1        rabbitmq-89fbcddff-rbfjk                  1/1     Running   0          10m
auctionw1i1        tomcat-69c4fc4cd7-kg98p                   2/2     Running   0          7m51s
auctionw1i1        zookeeper-0                               1/1     Running   0          10m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d
calico-system      calico-node-ghkjn                         1/1     Running   0          7d
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d
kube-system        etcd-mm74                                 1/1     Running   0          7d
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d
mfm@mm74:/tmp/220824191813$ uptime; kubectl get pods --all-namespaces
 20:27:28 up 7 days,  1:12,  2 users,  load average: 0.06, 0.34, 0.48
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          13m
auctionw1i1        postgresql-0                              1/1     Running   0          13m
auctionw1i1        rabbitmq-89fbcddff-rbfjk                  1/1     Running   0          13m
auctionw1i1        tomcat-69c4fc4cd7-kg98p                   2/2     Running   0          11m
auctionw1i1        zookeeper-0                               1/1     Running   0          13m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d
calico-system      calico-node-ghkjn                         1/1     Running   0          7d
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d
kube-system        etcd-mm74                                 1/1     Running   0          7d
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d
mfm@mm74:/tmp/220824191813$ uptime; kubectl get pods --all-namespaces
 20:33:19 up 7 days,  1:18,  2 users,  load average: 0.34, 0.34, 0.43
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          19m
auctionw1i1        postgresql-0                              1/1     Running   0          19m
auctionw1i1        rabbitmq-89fbcddff-rbfjk                  1/1     Running   0          19m
auctionw1i1        tomcat-69c4fc4cd7-kg98p                   2/2     Running   0          17m
auctionw1i1        zookeeper-0                               1/1     Running   0          19m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d
calico-system      calico-node-ghkjn                         1/1     Running   0          7d
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d
kube-system        etcd-mm74                                 1/1     Running   0          7d
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d
mfm@mm74:/tmp/220824191813$ uptime; kubectl get pods --all-namespaces
 20:35:03 up 7 days,  1:20,  2 users,  load average: 0.33, 0.33, 0.41
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          21m
auctionw1i1        postgresql-0                              1/1     Running   0          21m
auctionw1i1        rabbitmq-89fbcddff-rbfjk                  1/1     Running   0          21m
auctionw1i1        tomcat-69c4fc4cd7-kg98p                   2/2     Running   0          18m
auctionw1i1        zookeeper-0                               1/1     Running   0          21m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d
calico-system      calico-node-ghkjn                         1/1     Running   0          7d
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d
kube-system        etcd-mm74                                 1/1     Running   0          7d
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d
mfm@mm74:/tmp/220824191813$ uptime; kubectl get pods --all-namespaces
 20:36:11 up 7 days,  1:21,  2 users,  load average: 0.44, 0.36, 0.42
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          22m
auctionw1i1        postgresql-0                              1/1     Running   0          22m
auctionw1i1        rabbitmq-89fbcddff-rbfjk                  1/1     Running   0          22m
auctionw1i1        tomcat-69c4fc4cd7-kg98p                   2/2     Running   0          20m
auctionw1i1        zookeeper-0                               1/1     Running   0          22m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d
calico-system      calico-node-ghkjn                         1/1     Running   0          7d
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d
kube-system        etcd-mm74                                 1/1     Running   0          7d
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d
mfm@mm74:/tmp/220824191813$ cd ..
mfm@mm74:/tmp$ ll
total 100
drwxrwxrwt 21 root root 4096 Aug 24 20:36 ./
drwxr-xr-x 23 root root 4096 Aug 17 19:47 ../
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .ICE-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .Test-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .X11-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .XIM-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .font-unix/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:45 220824174547/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:57 220824175727/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:03 220824180359/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:26 220824182631/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:49 220824184936/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:52 220824185250/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 19:12 220824191245/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 20:08 220824191813/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 20:13 220824201306/
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_2bKt.txt
-rw-------  1 root root  279 Aug 19 19:19 cpan_install_D5gk.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_Jy44.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_KHRL.txt
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_OcwM.txt
-rw-------  1 root root   37 Aug 19 19:19 cpan_install_ZAyk.txt
drwx------  3 root root 4096 Aug 17 19:15 snap.lxd/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx/
mfm@mm74:/tmp$ cd 220824201306/
mfm@mm74:/tmp/220824201306$ ll
total 104
drwxrwxr-x  4 mfm  mfm   4096 Aug 24 20:13 ./
drwxrwxrwt 21 root root  4096 Aug 24 20:36 ../
-rw-rw-r--  1 mfm  mfm   4224 Aug 24 20:16 ZOUT
-rw-rw-r--  1 mfm  mfm    460 Aug 24 20:13 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm    197 Aug 24 20:13 create-storage-class.yaml
-rw-rw-r--  1 mfm  mfm    354 Aug 24 20:13 my.yaml
drwxrwxr-x  3 mfm  mfm   4096 Aug 24 20:13 outDir/
-rw-rw-r--  1 mfm  mfm    461 Aug 24 20:13 pv01.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 20:13 pv02.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 20:13 pv03.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 20:13 pv04.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 20:13 pv05.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 20:13 pvc2.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 20:13 pvc3.yaml
-rwxrwxr-x  1 mfm  mfm  20538 Aug 24 20:13 runWeathervane.pl*
-rw-rw-r--  1 mfm  mfm    277 Aug 24 20:13 test-pvc.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 20:13 tmpDir/
-rw-rw-r--  1 mfm  mfm    562 Aug 24 20:13 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm    791 Aug 24 20:13 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm   1385 Aug 24 20:13 z
mfm@mm74:/tmp/220824201306$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p $Z_DIR
echo "Z_DIR=$Z_DIR"
cp z $Z_DIR
cp weathervane.config.k8s.quickstart $Z_DIR
cp *.yaml $Z_DIR
cp runWeathervane.pl $Z_DIR

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT


./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir $Z_DIR/outDir --tmpDir $Z_DIR/tmpDir 2>&1 | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "END OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT
mfm@mm74:/tmp/220824201306$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS   VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Bound    weathervane-pv3   20Gi       RWO            local-storage   24m
auctionw1i1   postgresql-postgresql-0      Bound    weathervane-pv2   20Gi       RWO            local-storage   24m
mfm@mm74:/tmp/220824201306$
mfm@mm74:/tmp/220824201306$ cd ..
mfm@mm74:/tmp$ lw
lw: command not found
mfm@mm74:/tmp$ lq
lq: command not found
mfm@mm74:/tmp$ ls
220824174547  220824191813           cpan_install_ZAyk.txt
220824175727  220824201306           snap.lxd
220824180359  cpan_install_2bKt.txt  systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa
220824182631  cpan_install_D5gk.txt  systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI
220824184936  cpan_install_Jy44.txt  systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9
220824185250  cpan_install_KHRL.txt  systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx
220824191245  cpan_install_OcwM.txt
mfm@mm74:/tmp$ cd 220824191813
mfm@mm74:/tmp/220824191813$ ls
ZOUT                        my.yaml    pv02.yaml  pv05.yaml  runWeathervane.pl  weathervane.config.k8s.quickstart
create-persistent-vol.yaml  outDir     pv03.yaml  pvc2.yaml  test-pvc.yaml      wv-pvc.yaml
create-storage-class.yaml   pv01.yaml  pv04.yaml  pvc3.yaml  tmpDir             z
mfm@mm74:/tmp/220824191813$ cat ZOUT

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d22h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Available           local-storage            2m36s
weathervane-pv2   10Gi       RWO            Retain           Available           local-storage            82s
weathervane-pv3   10Gi       RWO            Retain           Available           local-storage            78s

$ kubectl get pvc --all-namespaces
No resources found

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 19:18:16 2022: Weathervane Version 2.1.1
Wed Aug 24 19:18:16 2022: Command-line parameters:
Wed Aug 24 19:18:16 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 19:18:16 2022: Run Configuration has 1 workload(s).
Wed Aug 24 19:18:16 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 19:18:16 2022: Workload  has 1 micro application instances:
Wed Aug 24 19:18:16 2022:       1 CoordinationServers
Wed Aug 24 19:18:16 2022:       1 WebServers
Wed Aug 24 19:18:16 2022:       1 DbServers
Wed Aug 24 19:18:16 2022:       1 NosqlServers
Wed Aug 24 19:18:16 2022:       1 MsgServers
Wed Aug 24 19:18:16 2022:       1 AppServers
Wed Aug 24 19:18:16 2022:       0 AuctionBidServers
Wed Aug 24 19:18:17 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 19:18:17 2022: Fixed Run Strategy starting run.
Wed Aug 24 19:18:17 2022: Stopping services from previous runs.
Wed Aug 24 19:19:06 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 19:20:40 2022: Preparing data for use in current run.
Wed Aug 24 19:21:01 2022: Data is not loaded for 3000 maxUsers for appInstance 1 of workload. Loading data.
Wed Aug 24 19:23:10 2022:  appInstance 1: Loading data for a maximum of 3000 users
Wed Aug 24 19:23:14 2022: Loading data -- Initial estimate of total load time is 0 hours, 6 min, 19 sec. Workload 1, appInstance 1.
Wed Aug 24 19:25:15 2022: Loading is 53.6% complete.  Current estimate of remaining load time is 0 hours, 3 min, 31 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:00 2022: Loading is 95.5% complete.  Current estimate of remaining load time is 0 hours, 0 min, 20 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:20 2022: Loading is 99.9% complete.  Current estimate of remaining load time is 0 hours, 0 min, 0 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:20 2022: Loading data took 0 hours, 4 min, 5 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:24 2022: Preparing auctions and warming data-services for appInstance 1 of workload.
Wed Aug 24 19:27:40 2022: Starting backend services
Wed Aug 24 19:52:58 2022: Couldn't bring up all backend services for appInstance 1 of workload 1.
Wed Aug 24 19:54:03 2022: Couldn't start backend services for run 0-0. Exiting.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Exit code for Run-Harness container is 255.
mfm@mm74:/tmp/220824191813$ while read line; do
>     echo "line: $line"
> done < ($kubectl get pvc --all-namespaces)
-bash: syntax error near unexpected token `('
mfm@mm74:/tmp/220824191813$ while read line; do     echo "line: $line"; done < `$kubectl get pvc --all-namespaces`
Command 'get' not found, but there are 18 similar ones.
-bash: `$kubectl get pvc --all-namespaces`: ambiguous redirect
mfm@mm74:/tmp/220824191813$ for line in `kubectl get pvc --all-namespaces`; do echo "line: $line"; done
line: NAMESPACE
line: NAME
line: STATUS
line: VOLUME
line: CAPACITY
line: ACCESS
line: MODES
line: STORAGECLASS
line: AGE
line: auctionw1i1
line: cassandra-data-cassandra-0
line: Bound
line: weathervane-pv3
line: 20Gi
line: RWO
line: local-storage
line: 38m
line: auctionw1i1
line: postgresql-postgresql-0
line: Bound
line: weathervane-pv2
line: 20Gi
line: RWO
line: local-storage
line: 38m
mfm@mm74:/tmp/220824191813$ jobs
mfm@mm74:/tmp/220824191813$ kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
mfm@mm74:/tmp/220824191813$ kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
persistentvolumeclaim "postgresql-postgresql-0" deleted
mfm@mm74:/tmp/220824191813$ kubectl delete pv weathervane-pv1
persistentvolume "weathervane-pv1" deleted
mfm@mm74:/tmp/220824191813$ kubectl delete pv weathervane-pv2
persistentvolume "weathervane-pv2" deleted
mfm@mm74:/tmp/220824191813$ kubectl delete pv weathervane-pv3
persistentvolume "weathervane-pv3" deleted
mfm@mm74:/tmp/220824191813$
mfm@mm74:/tmp/220824191813$ cd ..
mfm@mm74:/tmp$ ll
total 104
drwxrwxrwt 22 root root 4096 Aug 24 21:09 ./
drwxr-xr-x 23 root root 4096 Aug 17 19:47 ../
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .ICE-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .Test-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .X11-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .XIM-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .font-unix/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:45 220824174547/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:57 220824175727/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:03 220824180359/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:26 220824182631/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:49 220824184936/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:52 220824185250/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 19:12 220824191245/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 20:08 220824191813/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 20:13 220824201306/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 21:08 220824210845/
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_2bKt.txt
-rw-------  1 root root  279 Aug 19 19:19 cpan_install_D5gk.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_Jy44.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_KHRL.txt
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_OcwM.txt
-rw-------  1 root root   37 Aug 19 19:19 cpan_install_ZAyk.txt
drwx------  3 root root 4096 Aug 17 19:15 snap.lxd/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx/
mfm@mm74:/tmp$ cd 220824201306
mfm@mm74:/tmp/220824201306$ cat ZOUT

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d22h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   20Gi       RWO            Retain           Available           local-storage            3m55s
weathervane-pv2   20Gi       RWO            Retain           Available           local-storage            3m51s
weathervane-pv3   20Gi       RWO            Retain           Available           local-storage            3m48s

$ kubectl get pvc --all-namespaces
No resources found

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 20:13:09 2022: Weathervane Version 2.1.1
Wed Aug 24 20:13:09 2022: Command-line parameters:
Wed Aug 24 20:13:09 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 20:13:09 2022: Run Configuration has 1 workload(s).
Wed Aug 24 20:13:09 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 20:13:09 2022: Workload  has 1 micro application instances:
Wed Aug 24 20:13:09 2022:       1 CoordinationServers
Wed Aug 24 20:13:09 2022:       1 WebServers
Wed Aug 24 20:13:09 2022:       1 DbServers
Wed Aug 24 20:13:09 2022:       1 NosqlServers
Wed Aug 24 20:13:09 2022:       1 MsgServers
Wed Aug 24 20:13:09 2022:       1 AppServers
Wed Aug 24 20:13:09 2022:       0 AuctionBidServers
Wed Aug 24 20:13:09 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 20:13:09 2022: Fixed Run Strategy starting run.
Wed Aug 24 20:13:09 2022: Stopping services from previous runs.
Wed Aug 24 20:13:59 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 20:15:33 2022: Preparing data for use in current run.
Wed Aug 24 20:15:52 2022: Data is already loaded for appInstance 1 of workload
Wed Aug 24 20:15:52 2022: Preparing auctions and warming data-services for appInstance 1 of workload.
Wed Aug 24 20:16:09 2022: Starting backend services
Wed Aug 24 20:41:27 2022: Couldn't bring up all backend services for appInstance 1 of workload 1.
Wed Aug 24 20:42:32 2022: Couldn't start backend services for run 0-0. Exiting.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Exit code for Run-Harness container is 255.

END OF WEATHERVANE PERL SCRIPT OUTPUT

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d23h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   20Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage            33m
weathervane-pv2   20Gi       RWO            Retain           Bound      auctionw1i1/postgresql-postgresql-0      local-storage            33m
weathervane-pv3   20Gi       RWO            Retain           Bound      auctionw1i1/cassandra-data-cassandra-0   local-storage            33m

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS   VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Bound    weathervane-pv3   20Gi       RWO            local-storage   28m
auctionw1i1   postgresql-postgresql-0      Bound    weathervane-pv2   20Gi       RWO            local-storage   28m

mfm@mm74:/tmp/220824201306$ cd
mfm@mm74:/home/mfm$ cd weathervane
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md            auctionBidService           dist               pv01.yaml          settings.gradle                    weathervaneResults.csv
Branches.md             auctionWeb                  doc                pv02.yaml          tee                                workloadConfiguration
CODE-OF-CONDUCT.md      build.gradle                dockerImages       pv03.yaml          test-pvc.yaml                      workloadDriver
CONTRIBUTING.md         buildDockerImages.log       gradle             pv04.yaml          testing                            wv-pvc.yaml
ISSUES.md               buildDockerImages.pl        gradle.properties  pv05.yaml          tmpDir                             z
LICENSE.txt             configFiles                 gradlew            pvc2.yaml          version.txt
Notice.txt              create-persistent-vol.yaml  gradlew.bat        pvc3.yaml          weathervane.config.k8s.micro
README.md               create-storage-class.yaml   my.yaml            runHarness         weathervane.config.k8s.quickstart
auctionApp              dbLoader                    outDir             runWeathervane.pl  weathervane.config.k8s.small2
auctionAppServerWarmer  debugWeathervane.pl         output             runmany.sh         weathervane.pl
mfm@mm74:/home/mfm/weathervane$ cat create-storage-class.yaml
kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: local-storage
provisioner: kubernetes.io/no-provisioner
reclaimPolicy: Retain
volumeBindingMode: Immediate
mountOptions:
- debug
mfm@mm74:/home/mfm/weathervane$ cat weathervane.config.k8s.quickstart
{
  "description" : "micro",
  "configurationSize": "micro",
  "runStrategy" : "fixed",
  "dockerNamespace" : "mikemoranamd",
  "kubernetesClusters" : [
    {
      "name" : "kubernetes",
      "kubeconfigFile" : "/home/mfm/.kube/config",
      "kubeconfigContext" : "kubernetes-admin@kubernetes",
    },
  ],
  "driverCluster" : "kubernetes",
  "appInstanceCluster" : "kubernetes",
  "appIngressMethod" : "clusterip",
  "cassandraDataStorageClass" : "local-storage",
  "postgresqlStorageClass" : "local-storage",
  "nginxCacheStorageClass" : "local-storage",
}
mfm@mm74:/home/mfm/weathervane$ uptime; kubectl get pods --all-namespaces
 21:18:59 up 7 days,  2:04,  2 users,  load average: 0.10, 0.28, 0.23
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          9m21s
auctionw1i1        postgresql-0                              1/1     Running   0          9m21s
auctionw1i1        rabbitmq-8544fb955b-j6j7w                 1/1     Running   0          9m21s
auctionw1i1        tomcat-7446bb855-fztzh                    2/2     Running   0          7m11s
auctionw1i1        zookeeper-0                               1/1     Running   0          9m21s
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d1h
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d1h
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d1h
calico-system      calico-node-ghkjn                         1/1     Running   0          7d1h
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d1h
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d1h
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d1h
kube-system        etcd-mm74                                 1/1     Running   0          7d1h
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d1h
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d1h
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d1h
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d1h
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d1h
mfm@mm74:/home/mfm/weathervane$ uptime; kubectl get pods --all-namespaces
 21:22:20 up 7 days,  2:07,  2 users,  load average: 0.08, 0.18, 0.19
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          12m
auctionw1i1        postgresql-0                              1/1     Running   0          12m
auctionw1i1        rabbitmq-8544fb955b-j6j7w                 1/1     Running   0          12m
auctionw1i1        tomcat-7446bb855-fztzh                    2/2     Running   0          10m
auctionw1i1        zookeeper-0                               1/1     Running   0          12m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d1h
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d1h
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d1h
calico-system      calico-node-ghkjn                         1/1     Running   0          7d1h
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d1h
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d1h
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d1h
kube-system        etcd-mm74                                 1/1     Running   0          7d1h
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d1h
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d1h
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d1h
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d1h
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d1h
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md            auctionBidService           dist               pv01.yaml          settings.gradle                    weathervaneResults.csv
Branches.md             auctionWeb                  doc                pv02.yaml          tee                                workloadConfiguration
CODE-OF-CONDUCT.md      build.gradle                dockerImages       pv03.yaml          test-pvc.yaml                      workloadDriver
CONTRIBUTING.md         buildDockerImages.log       gradle             pv04.yaml          testing                            wv-pvc.yaml
ISSUES.md               buildDockerImages.pl        gradle.properties  pv05.yaml          tmpDir                             z
LICENSE.txt             configFiles                 gradlew            pvc2.yaml          version.txt
Notice.txt              create-persistent-vol.yaml  gradlew.bat        pvc3.yaml          weathervane.config.k8s.micro
README.md               create-storage-class.yaml   my.yaml            runHarness         weathervane.config.k8s.quickstart
auctionApp              dbLoader                    outDir             runWeathervane.pl  weathervane.config.k8s.small2
auctionAppServerWarmer  debugWeathervane.pl         output             runmany.sh         weathervane.pl
mfm@mm74:/home/mfm/weathervane$ ps -a
    PID TTY          TIME CMD
3750981 pts/0    00:00:00 runWeathervane.
3750982 pts/0    00:00:00 tee
3751395 pts/0    00:00:00 podman
3791955 pts/1    00:00:00 ps
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p $Z_DIR
echo "Z_DIR=$Z_DIR"
cp z $Z_DIR
cp weathervane.config.k8s.quickstart $Z_DIR
cp *.yaml $Z_DIR
cp runWeathervane.pl $Z_DIR

kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
kubectl delete pv weathervane-pv1
kubectl delete pv weathervane-pv2
kubectl delete pv weathervane-pv3

kubectl apply -f pv01.yaml
kubectl apply -f pv02.yaml
kubectl apply -f pv03.yaml



echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT


./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir $Z_DIR/outDir --tmpDir $Z_DIR/tmpDir 2>&1 | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "END OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT
mfm@mm74:/home/mfm/weathervane$ uptime; kubectl get pods --all-namespaces
 21:34:36 up 7 days,  2:19,  2 users,  load average: 0.16, 0.14, 0.16
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          24m
auctionw1i1        postgresql-0                              1/1     Running   0          24m
auctionw1i1        rabbitmq-8544fb955b-j6j7w                 1/1     Running   0          24m
auctionw1i1        tomcat-7446bb855-fztzh                    2/2     Running   0          22m
auctionw1i1        zookeeper-0                               1/1     Running   0          24m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d1h
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d1h
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d1h
calico-system      calico-node-ghkjn                         1/1     Running   0          7d1h
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d1h
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d1h
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d1h
kube-system        etcd-mm74                                 1/1     Running   0          7d1h
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d1h
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d1h
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d1h
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d1h
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d1h
mfm@mm74:/home/mfm/weathervane$ uptime; kubectl get pods --all-namespaces
 21:36:41 up 7 days,  2:22,  2 users,  load average: 0.14, 0.14, 0.16
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          27m
auctionw1i1        postgresql-0                              1/1     Running   0          27m
auctionw1i1        rabbitmq-8544fb955b-j6j7w                 1/1     Running   0          27m
auctionw1i1        tomcat-7446bb855-fztzh                    2/2     Running   0          24m
auctionw1i1        zookeeper-0                               1/1     Running   0          27m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d1h
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d1h
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d1h
calico-system      calico-node-ghkjn                         1/1     Running   0          7d1h
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d1h
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d1h
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d1h
kube-system        etcd-mm74                                 1/1     Running   0          7d1h
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d1h
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d1h
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d1h
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d1h
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d1h
mfm@mm74:/home/mfm/weathervane$ uptime; kubectl get pods --all-namespaces
 21:37:31 up 7 days,  2:22,  2 users,  load average: 0.38, 0.22, 0.19
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          27m
auctionw1i1        postgresql-0                              1/1     Running   0          27m
auctionw1i1        rabbitmq-8544fb955b-j6j7w                 1/1     Running   0          27m
auctionw1i1        zookeeper-0                               1/1     Running   0          27m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d1h
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d1h
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d1h
calico-system      calico-node-ghkjn                         1/1     Running   0          7d1h
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d1h
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d1h
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d1h
kube-system        etcd-mm74                                 1/1     Running   0          7d1h
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d1h
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d1h
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d1h
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d1h
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d1h
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  6d
mfm@mm74:/home/mfm/weathervane$ vi create-storage-class.yaml
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  6d
mfm@mm74:/home/mfm/weathervane$ kubectl create -f create-storage-class.yaml
storageclass.storage.k8s.io/local-storage2 created
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage    kubernetes.io/no-provisioner   Retain          Immediate           false                  6d
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  4s
mfm@mm74:/home/mfm/weathervane$ !vi
vi create-storage-class.yaml
mfm@mm74:/home/mfm/weathervane$ kubectl delete sc local-storage2
storageclass.storage.k8s.io "local-storage2" deleted
mfm@mm74:/home/mfm/weathervane$ vi create-storage-class.yaml
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  6d
mfm@mm74:/home/mfm/weathervane$ vi pv0*.yaml
5 files to edit
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p $Z_DIR
echo "Z_DIR=$Z_DIR"
cp z $Z_DIR
cp weathervane.config.k8s.quickstart $Z_DIR
cp *.yaml $Z_DIR
cp runWeathervane.pl $Z_DIR

kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
kubectl delete pv weathervane-pv1
kubectl delete pv weathervane-pv2
kubectl delete pv weathervane-pv3
kubectl delete sc local-storage

kubectl create -f create-storage-class.yaml
kubectl apply -f pv01.yaml
kubectl apply -f pv02.yaml
kubectl apply -f pv03.yaml



echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT


./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir $Z_DIR/outDir --tmpDir $Z_DIR/tmpDir 2>&1 | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "END OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT
mfm@mm74:/home/mfm/weathervane$ uptime; kubectl get pods --all-namespaces
 22:04:08 up 7 days,  2:49,  2 users,  load average: 0.37, 0.55, 0.55
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d2h
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d2h
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d2h
calico-system      calico-node-ghkjn                         1/1     Running   0          7d2h
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d2h
kube-system        etcd-mm74                                 1/1     Running   0          7d2h
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d2h
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d2h
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d2h
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d2h
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d2h
mfm@mm74:/home/mfm/weathervane$ uptime; kubectl get pods --all-namespaces
 22:04:29 up 7 days,  2:49,  2 users,  load average: 0.58, 0.58, 0.56
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               0/1     Running   0          6s
auctionw1i1        postgresql-0                              0/1     Running   0          6s
auctionw1i1        rabbitmq-67fdb5bb5b-pcf6m                 0/1     Running   0          6s
auctionw1i1        zookeeper-0                               1/1     Running   0          6s
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d2h
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d2h
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d2h
calico-system      calico-node-ghkjn                         1/1     Running   0          7d2h
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d2h
kube-system        etcd-mm74                                 1/1     Running   0          7d2h
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d2h
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d2h
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d2h
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d2h
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d2h
mfm@mm74:/home/mfm/weathervane$ uptime; kubectl get pods --all-namespaces
 22:06:20 up 7 days,  2:51,  2 users,  load average: 0.63, 0.55, 0.55
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        auctiondatamanager-6596b459df-5llhb       1/1     Running   0          23s
auctionw1i1        cassandra-0                               1/1     Running   0          117s
auctionw1i1        postgresql-0                              1/1     Running   0          117s
auctionw1i1        rabbitmq-67fdb5bb5b-pcf6m                 1/1     Running   0          117s
auctionw1i1        zookeeper-0                               1/1     Running   0          117s
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d2h
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d2h
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d2h
calico-system      calico-node-ghkjn                         1/1     Running   0          7d2h
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d2h
kube-system        etcd-mm74                                 1/1     Running   0          7d2h
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d2h
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d2h
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d2h
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d2h
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d2h
mfm@mm74:/home/mfm/weathervane$ uptime; kubectl get pods --all-namespaces
 22:07:01 up 7 days,  2:52,  2 users,  load average: 0.84, 0.62, 0.57
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          2m38s
auctionw1i1        postgresql-0                              1/1     Running   0          2m38s
auctionw1i1        rabbitmq-67fdb5bb5b-pcf6m                 1/1     Running   0          2m38s
auctionw1i1        tomcat-5579768996-jpqbc                   1/2     Running   0          28s
auctionw1i1        zookeeper-0                               1/1     Running   0          2m38s
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d2h
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d2h
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d2h
calico-system      calico-node-ghkjn                         1/1     Running   0          7d2h
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d2h
kube-system        etcd-mm74                                 1/1     Running   0          7d2h
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d2h
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d2h
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d2h
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d2h
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d2h
mfm@mm74:/home/mfm/weathervane$ uptime; kubectl get pods --all-namespaces
 22:16:05 up 7 days,  3:01,  2 users,  load average: 0.23, 0.65, 0.75
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          11m
auctionw1i1        postgresql-0                              1/1     Running   0          11m
auctionw1i1        rabbitmq-67fdb5bb5b-pcf6m                 1/1     Running   0          11m
auctionw1i1        tomcat-5579768996-jpqbc                   2/2     Running   0          9m32s
auctionw1i1        zookeeper-0                               1/1     Running   0          11m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d2h
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d2h
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d2h
calico-system      calico-node-ghkjn                         1/1     Running   0          7d2h
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d2h
kube-system        etcd-mm74                                 1/1     Running   0          7d2h
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d2h
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d2h
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d2h
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d2h
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d2h
mfm@mm74:/home/mfm/weathervane$ who
mfm      pts/0        2022-08-24 17:11 (70.112.73.191)
mfm      pts/1        2022-08-24 19:42 (70.112.73.191)
mfm@mm74:/home/mfm/weathervane$ uptime; kubectl get pods --all-namespaces
 22:18:34 up 7 days,  3:03,  2 users,  load average: 0.31, 0.52, 0.68
NAMESPACE          NAME                                      READY   STATUS    RESTARTS   AGE
auctionw1i1        cassandra-0                               1/1     Running   0          14m
auctionw1i1        postgresql-0                              1/1     Running   0          14m
auctionw1i1        rabbitmq-67fdb5bb5b-pcf6m                 1/1     Running   0          14m
auctionw1i1        tomcat-5579768996-jpqbc                   2/2     Running   0          12m
auctionw1i1        zookeeper-0                               1/1     Running   0          14m
calico-apiserver   calico-apiserver-78dc9b9ff5-bgbfg         1/1     Running   0          7d2h
calico-apiserver   calico-apiserver-78dc9b9ff5-skq7k         1/1     Running   0          7d2h
calico-system      calico-kube-controllers-657d56796-lsf7k   1/1     Running   0          7d2h
calico-system      calico-node-ghkjn                         1/1     Running   0          7d2h
calico-system      calico-typha-d6bf98565-hvzmf              1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-8prtj                  1/1     Running   0          7d2h
kube-system        coredns-6d4b75cb6d-xn8r5                  1/1     Running   0          7d2h
kube-system        etcd-mm74                                 1/1     Running   0          7d2h
kube-system        kube-apiserver-mm74                       1/1     Running   0          7d2h
kube-system        kube-controller-manager-mm74              1/1     Running   0          7d2h
kube-system        kube-proxy-dl6dw                          1/1     Running   0          7d2h
kube-system        kube-scheduler-mm74                       1/1     Running   0          7d2h
tigera-operator    tigera-operator-6995cc5df5-ff74d          1/1     Running   0          7d2h
mfm@mm74:/home/mfm/weathervane$





Microsoft Windows [Version 10.0.19044.1826]
(c) Microsoft Corporation. All rights reserved.

C:\Users\mikmoran>ssh mfm@145.40.99.43
Welcome to Ubuntu 22.04 LTS (GNU/Linux 5.15.0-33-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Wed Aug 24 17:11:04 UTC 2022

  System load:            0.1435546875
  Usage of /:             5.7% of 218.06GB
  Memory usage:           4%
  Swap usage:             0%
  Processes:              636
  Users logged in:        0
  IPv4 address for bond0: 145.40.99.43
  IPv6 address for bond0: 2604:1380:4641:3b00::d

 * Super-optimized for small spaces - read how we shrank the memory
   footprint of MicroK8s to make it the smallest full K8s around.

   https://ubuntu.com/blog/microk8s-memory-optimisation

41 updates can be applied immediately.
1 of these updates is a standard security update.
To see these additional updates run: apt list --upgradable


1 updates could not be installed automatically. For more details,
see /var/log/unattended-upgrades/unattended-upgrades.log

*** System restart required ***
Last login: Tue Aug 23 21:32:00 2022 from 165.204.84.11
Welcome to Ubuntu 22.04 LTS (GNU/Linux 5.15.0-33-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Wed Aug 24 17:11:04 UTC 2022

  System load:            0.1435546875
  Usage of /:             5.7% of 218.06GB
  Memory usage:           4%
  Swap usage:             0%
  Processes:              636
  Users logged in:        0
  IPv4 address for bond0: 145.40.99.43
  IPv6 address for bond0: 2604:1380:4641:3b00::d

 * Super-optimized for small spaces - read how we shrank the memory
   footprint of MicroK8s to make it the smallest full K8s around.

   https://ubuntu.com/blog/microk8s-memory-optimisation

41 updates can be applied immediately.
1 of these updates is a standard security update.
To see these additional updates run: apt list --upgradable


1 updates could not be installed automatically. For more details,
see /var/log/unattended-upgrades/unattended-upgrades.log

*** System restart required ***
Last login: Tue Aug 23 21:32:00 2022 from 165.204.84.11
mfm@mm74:~$ ls
history_2208151459  history_220819  p.yaml  runc.amd64  weathervane  weathervane_backup
mfm@mm74:~$ cd weathervane
mfm@mm74:/home/mfm/weathervane$ ll
total 724
drwxrwxr-x 21 mfm  mfm    4096 Aug 23 04:13 ./
drwxr-x--- 10 mfm  mfm    4096 Aug 23 21:38 ../
-rw-r--r--  1 root root      0 Aug 17 19:56 .accept-weathervane
drwxrwxr-x  8 mfm  mfm    4096 Aug 19 19:06 .git/
-rw-rw-r--  1 mfm  mfm    2411 Aug 17 19:47 .gitignore
drwxrwxr-x 10 mfm  mfm    4096 Aug 23 03:55 .gradle/
-rw-rw-r--  1 mfm  mfm    2959 Aug 17 19:47 BRANCHING.md
-rw-rw-r--  1 mfm  mfm     200 Aug 17 19:47 Branches.md
-rw-rw-r--  1 mfm  mfm    5247 Aug 17 19:47 CODE-OF-CONDUCT.md
-rw-rw-r--  1 mfm  mfm    9540 Aug 17 19:47 CONTRIBUTING.md
-rw-rw-r--  1 mfm  mfm    4952 Aug 17 19:47 ISSUES.md
-rw-rw-r--  1 mfm  mfm    1485 Aug 17 19:47 LICENSE.txt
-rw-rw-r--  1 mfm  mfm     454 Aug 17 19:47 Notice.txt
-rw-rw-r--  1 mfm  mfm    4585 Aug 17 19:47 README.md
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:55 auctionApp/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionAppServerWarmer/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionBidService/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionWeb/
-rw-rw-r--  1 mfm  mfm   10152 Aug 17 19:47 build.gradle
-rw-rw-r--  1 mfm  mfm  378761 Aug 23 04:04 buildDockerImages.log
-rwxrwxr-x  1 mfm  mfm   13779 Aug 17 19:47 buildDockerImages.pl*
drwxrwxr-x  4 mfm  mfm    4096 Aug 17 19:47 configFiles/
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:18 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm     197 Aug 18 21:14 create-storage-class.yaml
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 dbLoader/
-rwxrwxr-x  1 mfm  mfm   21482 Aug 17 22:08 debugWeathervane.pl*
drwxr-xr-x  4 mfm  mfm    4096 Aug 23 03:56 dist/
drwxrwxr-x  8 mfm  mfm    4096 Aug 17 19:47 doc/
drwxrwxr-x 14 mfm  mfm    4096 Aug 17 19:47 dockerImages/
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 gradle/
-rw-rw-r--  1 mfm  mfm      20 Aug 17 19:47 gradle.properties
-rwxrwxr-x  1 mfm  mfm    5305 Aug 17 19:47 gradlew*
-rwxrwxr-x  1 mfm  mfm    2185 Aug 17 19:47 gradlew.bat*
-rw-rw-r--  1 mfm  mfm     354 Aug 17 21:42 my.yaml
drwxrwxr-x  3 mfm  mfm    4096 Aug 23 04:13 outDir/
drwxr-xr-x  2 root root   4096 Aug 17 19:56 output/
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv01.yaml
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv02.yaml
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv03.yaml
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:20 pv04.yaml
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:20 pv05.yaml
-rw-rw-r--  1 mfm  mfm     280 Aug 18 21:23 pvc2.yaml
-rw-rw-r--  1 mfm  mfm     280 Aug 18 21:23 pvc3.yaml
drwxrwxr-x 14 mfm  mfm    4096 Aug 17 19:47 runHarness/
-rwxrwxr-x  1 mfm  mfm   20538 Aug 18 20:34 runWeathervane.pl*
-rwxrwxr-x  1 mfm  mfm    2527 Aug 17 19:47 runmany.sh*
-rw-rw-r--  1 mfm  mfm     145 Aug 17 19:47 settings.gradle
-rw-rw-r--  1 mfm  mfm     277 Aug 18 21:23 test-pvc.yaml
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 testing/
drwxrwxr-x  2 mfm  mfm    4096 Aug 23 04:13 tmpDir/
-rw-rw-r--  1 mfm  mfm       6 Aug 17 19:47 version.txt
-rw-rw-r--  1 mfm  mfm     708 Aug 17 19:47 weathervane.config.k8s.micro
-rw-rw-r--  1 mfm  mfm     562 Aug 17 21:29 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm     721 Aug 17 19:47 weathervane.config.k8s.small2
-rwxrwxr-x  1 mfm  mfm   42556 Aug 17 19:47 weathervane.pl*
-rw-r--r--  1 root root      0 Aug 17 19:56 weathervaneResults.csv
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 workloadConfiguration/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 workloadDriver/
-rw-rw-r--  1 mfm  mfm     791 Aug 18 21:37 wv-pvc.yaml
mfm@mm74:/home/mfm/weathervane$ history > ~/history_220824
mfm@mm74:/home/mfm/weathervane$ vi ~/history_220824
mfm@mm74:/home/mfm/weathervane$ cat /etc/containers/registries.conf
# For more information on this configuration file, see containers-registries.conf(5).
#
# NOTE: RISK OF USING UNQUALIFIED IMAGE NAMES
# We recommend always using fully qualified image names including the registry
# server (full dns name), namespace, image name, and tag
# (e.g., registry.redhat.io/ubi8/ubi:latest). Pulling by digest (i.e.,
# quay.io/repository/name@digest) further eliminates the ambiguity of tags.
# When using short names, there is always an inherent risk that the image being
# pulled could be spoofed. For example, a user wants to pull an image named
# `foobar` from a registry and expects it to come from myregistry.com. If
# myregistry.com is not first in the search list, an attacker could place a
# different `foobar` image at a registry earlier in the search list. The user
# would accidentally pull and run the attacker's image and code rather than the
# intended content. We recommend only adding registries which are completely
# trusted (i.e., registries which don't allow unknown or anonymous users to
# create accounts with arbitrary names). This will prevent an image from being
# spoofed, squatted or otherwise made insecure.  If it is necessary to use one
# of these registries, it should be added at the end of the list.
#
# # An array of host[:port] registries to try when pulling an unqualified image, in order.
# unqualified-search-registries = ["example.com"]
#
# [[registry]]
# # The "prefix" field is used to choose the relevant [[registry]] TOML table;
# # (only) the TOML table with the longest match for the input image name
# # (taking into account namespace/repo/tag/digest separators) is used.
# #
# # The prefix can also be of the form: *.example.com for wildcard subdomain
# # matching.
# #
# # If the prefix field is missing, it defaults to be the same as the "location" field.
# prefix = "example.com/foo"
#
# # If true, unencrypted HTTP as well as TLS connections with untrusted
# # certificates are allowed.
# insecure = false
#
# # If true, pulling images with matching names is forbidden.
# blocked = false
#
# # The physical location of the "prefix"-rooted namespace.
# #
# # By default, this is equal to "prefix" (in which case "prefix" can be omitted
# # and the [[registry]] TOML table can only specify "location").
# #
# # Example: Given
# #   prefix = "example.com/foo"
# #   location = "internal-registry-for-example.net/bar"
# # requests for the image example.com/foo/myimage:latest will actually work with the
# # internal-registry-for-example.net/bar/myimage:latest image.
#
# # The location can be empty iff prefix is in a
# # wildcarded format: "*.example.com". In this case, the input reference will
# # be used as-is without any rewrite.
# location = internal-registry-for-example.com/bar"
#
# # (Possibly-partial) mirrors for the "prefix"-rooted namespace.
# #
# # The mirrors are attempted in the specified order; the first one that can be
# # contacted and contains the image will be used (and if none of the mirrors contains the image,
# # the primary location specified by the "registry.location" field, or using the unmodified
# # user-specified reference, is tried last).
# #
# # Each TOML table in the "mirror" array can contain the following fields, with the same semantics
# # as if specified in the [[registry]] TOML table directly:
# # - location
# # - insecure
# [[registry.mirror]]
# location = "example-mirror-0.local/mirror-for-foo"
# [[registry.mirror]]
# location = "example-mirror-1.local/mirrors/foo"
# insecure = true
# # Given the above, a pull of example.com/foo/image:latest will try:
# # 1. example-mirror-0.local/mirror-for-foo/image:latest
# # 2. example-mirror-1.local/mirrors/foo/image:latest
# # 3. internal-registry-for-example.net/bar/image:latest
# # in order, and use the first one that exists.
unqualified-search-registries=["docker.io"]
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md        auctionAppServerWarmer      dbLoader             my.yaml    pvc3.yaml          weathervane.config.k8s.micro
Branches.md         auctionBidService           debugWeathervane.pl  outDir     runHarness         weathervane.config.k8s.quickstart
CODE-OF-CONDUCT.md  auctionWeb                  dist                 output     runWeathervane.pl  weathervane.config.k8s.small2
CONTRIBUTING.md     build.gradle                doc                  pv01.yaml  runmany.sh         weathervane.pl
ISSUES.md           buildDockerImages.log       dockerImages         pv02.yaml  settings.gradle    weathervaneResults.csv
LICENSE.txt         buildDockerImages.pl        gradle               pv03.yaml  test-pvc.yaml      workloadConfiguration
Notice.txt          configFiles                 gradle.properties    pv04.yaml  testing            workloadDriver
README.md           create-persistent-vol.yaml  gradlew              pv05.yaml  tmpDir             wv-pvc.yaml
auctionApp          create-storage-class.yaml   gradlew.bat          pvc2.yaml  version.txt
mfm@mm74:/home/mfm/weathervane$ test
mfm@mm74:/home/mfm/weathervane$ which test
/usr/bin/test
mfm@mm74:/home/mfm/weathervane$ run
Command 'run' not found, did you mean:
  command 'rue' from snap darkdimension-rue (0.3.0)
  command 'runq' from deb exim4-daemon-heavy (4.95-4ubuntu2.1)
  command 'runq' from deb exim4-daemon-light (4.95-4ubuntu2.1)
  command 'runq' from deb sendmail-bin (8.15.2-22ubuntu3)
  command 'grun' from deb grun (0.9.3+git20200303-1)
  command 'rn' from deb trn4 (4.0-test77-14)
  command 'zrun' from deb moreutils (0.66-1)
  command 'runc' from deb runc (1.1.0-0ubuntu1)
  command 'crun' from deb crun (0.17+dfsg-1.1)
  command 'zun' from deb python3-zunclient (4.4.0-0ubuntu1)
  command 'srun' from deb slurm-client (21.08.5-2ubuntu1)
  command 'rup' from deb rstat-client (4.0.1-11)
See 'snap info <snapname>' for additional versions.
mfm@mm74:/home/mfm/weathervane$ vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ [1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ df .
Filesystem     1K-blocks     Used Available Use% Mounted on
/dev/sdc3      228651856 12922552 204091364   6% /
mfm@mm74:/home/mfm/weathervane$ df /tmp
Filesystem     1K-blocks     Used Available Use% Mounted on
/dev/sdc3      228651856 12922552 204091364   6% /
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ ./z
-bash: ./z: Permission denied
mfm@mm74:/home/mfm/weathervane$ . z
mfm@mm74:/home/mfm/weathervane$ ll /tmp
total 64
drwxrwxrwt 12 root root 4096 Aug 24 17:37 ./
drwxr-xr-x 23 root root 4096 Aug 17 19:47 ../
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .ICE-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .Test-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .X11-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .XIM-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .font-unix/
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_2bKt.txt
-rw-------  1 root root  279 Aug 19 19:19 cpan_install_D5gk.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_Jy44.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_KHRL.txt
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_OcwM.txt
-rw-------  1 root root   37 Aug 19 19:19 cpan_install_ZAyk.txt
drwx------  3 root root 4096 Aug 17 19:15 snap.lxd/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx/
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md        auctionAppServerWarmer      debugWeathervane.pl  output             runmany.sh                         weathervaneResults.csv
Branches.md         auctionBidService           dist                 pv01.yaml          settings.gradle                    workloadConfiguration
CODE-OF-CONDUCT.md  auctionWeb                  doc                  pv02.yaml          test-pvc.yaml                      workloadDriver
CONTRIBUTING.md     build.gradle                dockerImages         pv03.yaml          testing                            wv-pvc.yaml
ISSUES.md           buildDockerImages.log       gradle               pv04.yaml          tmpDir                             z
LICENSE.txt         buildDockerImages.pl        gradle.properties    pv05.yaml          version.txt
Notice.txt          configFiles                 gradlew              pvc2.yaml          weathervane.config.k8s.micro
README.md           create-persistent-vol.yaml  gradlew.bat          pvc3.yaml          weathervane.config.k8s.quickstart
Z_DIR               create-storage-class.yaml   my.yaml              runHarness         weathervane.config.k8s.small2
auctionApp          dbLoader                    outDir               runWeathervane.pl  weathervane.pl
mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p Z_DIR
cp z Z_DIR

mfm@mm74:/home/mfm/weathervane$ ls Z_DIR/
z
mfm@mm74:/home/mfm/weathervane$ cat Z_DIR/z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p Z_DIR
cp z Z_DIR

mfm@mm74:/home/mfm/weathervane$ rm Z_DIR/z
mfm@mm74:/home/mfm/weathervane$ rmdir Z_DIR/
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ ./z
-bash: ./z: Permission denied
mfm@mm74:/home/mfm/weathervane$ . z
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ ll /tmp
total 68
drwxrwxrwt 13 root root 4096 Aug 24 17:46 ./
drwxr-xr-x 23 root root 4096 Aug 17 19:47 ../
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .ICE-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .Test-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .X11-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .XIM-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .font-unix/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:45 220824174547/
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_2bKt.txt
-rw-------  1 root root  279 Aug 19 19:19 cpan_install_D5gk.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_Jy44.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_KHRL.txt
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_OcwM.txt
-rw-------  1 root root   37 Aug 19 19:19 cpan_install_ZAyk.txt
drwx------  3 root root 4096 Aug 17 19:15 snap.lxd/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx/
mfm@mm74:/home/mfm/weathervane$ ll /tmp/220824174547
total 28
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:45 ./
drwxrwxrwt 13 root root 4096 Aug 24 17:47 ../
-rw-rw-r--  1 mfm  mfm   400 Aug 24 17:45 ZOUTPUT
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 17:45 outDir/
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 17:45 tmpDir/
-rw-rw-r--  1 mfm  mfm   562 Aug 24 17:45 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm   261 Aug 24 17:45 z
mfm@mm74:/home/mfm/weathervane$ cat /tmp/220824174547/ZOUTPUT

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824175727
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ cd /tmp/220824175727
mfm@mm74:/tmp/220824175727$ ll
total 28
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:57 ./
drwxrwxrwt 14 root root 4096 Aug 24 17:57 ../
-rw-rw-r--  1 mfm  mfm   716 Aug 24 17:57 ZOUT
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 17:57 outDir/
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 17:57 tmpDir/
-rw-rw-r--  1 mfm  mfm   562 Aug 24 17:57 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm   277 Aug 24 17:57 z
mfm@mm74:/tmp/220824175727$ cat ZOUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/tmp/220824175727$ ls
ZOUT  outDir  tmpDir  weathervane.config.k8s.quickstart  z
mfm@mm74:/tmp/220824175727$ cat weathervane.config.k8s.quickstart
{
  "description" : "micro",
  "configurationSize": "micro",
  "runStrategy" : "fixed",
  "dockerNamespace" : "mikemoranamd",
  "kubernetesClusters" : [
    {
      "name" : "kubernetes",
      "kubeconfigFile" : "/home/mfm/.kube/config",
      "kubeconfigContext" : "kubernetes-admin@kubernetes",
    },
  ],
  "driverCluster" : "kubernetes",
  "appInstanceCluster" : "kubernetes",
  "appIngressMethod" : "clusterip",
  "cassandraDataStorageClass" : "local-storage",
  "postgresqlStorageClass" : "local-storage",
  "nginxCacheStorageClass" : "local-storage",
}
mfm@mm74:/tmp/220824175727$ ls
ZOUT  outDir  tmpDir  weathervane.config.k8s.quickstart  z
mfm@mm74:/tmp/220824175727$ cd outDir/
mfm@mm74:/tmp/220824175727/outDir$ ll
total 8
drwxrwxr-x 2 mfm mfm 4096 Aug 24 17:57 ./
drwxrwxr-x 4 mfm mfm 4096 Aug 24 17:57 ../
mfm@mm74:/tmp/220824175727/outDir$ cd ../tmpDir/
mfm@mm74:/tmp/220824175727/tmpDir$ ll
total 8
drwxrwxr-x 2 mfm mfm 4096 Aug 24 17:57 ./
drwxrwxr-x 4 mfm mfm 4096 Aug 24 17:57 ../
mfm@mm74:/tmp/220824175727/tmpDir$ cd
mfm@mm74:/home/mfm$ cd weathervane
mfm@mm74:/home/mfm/weathervane$ fg
vi z


[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ ll
total 740
drwxrwxr-x 21 mfm  mfm    4096 Aug 24 18:02 ./
drwxr-x--- 10 mfm  mfm    4096 Aug 24 17:15 ../
-rw-r--r--  1 root root      0 Aug 17 19:56 .accept-weathervane
drwxrwxr-x  8 mfm  mfm    4096 Aug 19 19:06 .git/
-rw-rw-r--  1 mfm  mfm    2411 Aug 17 19:47 .gitignore
drwxrwxr-x 10 mfm  mfm    4096 Aug 23 03:55 .gradle/
-rw-------  1 mfm  mfm   12288 Aug 24 18:02 .z.swp
-rw-rw-r--  1 mfm  mfm    2959 Aug 17 19:47 BRANCHING.md
-rw-rw-r--  1 mfm  mfm     200 Aug 17 19:47 Branches.md
-rw-rw-r--  1 mfm  mfm    5247 Aug 17 19:47 CODE-OF-CONDUCT.md
-rw-rw-r--  1 mfm  mfm    9540 Aug 17 19:47 CONTRIBUTING.md
-rw-rw-r--  1 mfm  mfm    4952 Aug 17 19:47 ISSUES.md
-rw-rw-r--  1 mfm  mfm    1485 Aug 17 19:47 LICENSE.txt
-rw-rw-r--  1 mfm  mfm     454 Aug 17 19:47 Notice.txt
-rw-rw-r--  1 mfm  mfm    4585 Aug 17 19:47 README.md
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:55 auctionApp/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionAppServerWarmer/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionBidService/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionWeb/
-rw-rw-r--  1 mfm  mfm   10152 Aug 17 19:47 build.gradle
-rw-rw-r--  1 mfm  mfm  378761 Aug 23 04:04 buildDockerImages.log
-rwxrwxr-x  1 mfm  mfm   13779 Aug 17 19:47 buildDockerImages.pl*
drwxrwxr-x  4 mfm  mfm    4096 Aug 17 19:47 configFiles/
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:18 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm     197 Aug 18 21:14 create-storage-class.yaml
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 dbLoader/
-rwxrwxr-x  1 mfm  mfm   21482 Aug 17 22:08 debugWeathervane.pl*
drwxr-xr-x  4 mfm  mfm    4096 Aug 23 03:56 dist/
drwxrwxr-x  8 mfm  mfm    4096 Aug 17 19:47 doc/
drwxrwxr-x 14 mfm  mfm    4096 Aug 17 19:47 dockerImages/
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 gradle/
-rw-rw-r--  1 mfm  mfm      20 Aug 17 19:47 gradle.properties
-rwxrwxr-x  1 mfm  mfm    5305 Aug 17 19:47 gradlew*
-rwxrwxr-x  1 mfm  mfm    2185 Aug 17 19:47 gradlew.bat*
-rw-rw-r--  1 mfm  mfm     354 Aug 17 21:42 my.yaml
drwxrwxr-x  3 mfm  mfm    4096 Aug 23 04:13 outDir/
drwxr-xr-x  2 root root   4096 Aug 17 19:56 output/
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv01.yaml
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv02.yaml
-rw-rw-r--  1 mfm  mfm     461 Aug 18 21:21 pv03.yaml
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:20 pv04.yaml
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:20 pv05.yaml
-rw-rw-r--  1 mfm  mfm     280 Aug 18 21:23 pvc2.yaml
-rw-rw-r--  1 mfm  mfm     280 Aug 18 21:23 pvc3.yaml
drwxrwxr-x 14 mfm  mfm    4096 Aug 17 19:47 runHarness/
-rwxrwxr-x  1 mfm  mfm   20538 Aug 18 20:34 runWeathervane.pl*
-rwxrwxr-x  1 mfm  mfm    2527 Aug 17 19:47 runmany.sh*
-rw-rw-r--  1 mfm  mfm     145 Aug 17 19:47 settings.gradle
-rw-rw-r--  1 mfm  mfm     277 Aug 18 21:23 test-pvc.yaml
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 testing/
drwxrwxr-x  2 mfm  mfm    4096 Aug 23 04:13 tmpDir/
-rw-rw-r--  1 mfm  mfm       6 Aug 17 19:47 version.txt
-rw-rw-r--  1 mfm  mfm     708 Aug 17 19:47 weathervane.config.k8s.micro
-rw-rw-r--  1 mfm  mfm     562 Aug 17 21:29 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm     721 Aug 17 19:47 weathervane.config.k8s.small2
-rwxrwxr-x  1 mfm  mfm   42556 Aug 17 19:47 weathervane.pl*
-rw-r--r--  1 root root      0 Aug 17 19:56 weathervaneResults.csv
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 workloadConfiguration/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 workloadDriver/
-rw-rw-r--  1 mfm  mfm     791 Aug 18 21:37 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm     294 Aug 24 18:02 z
mfm@mm74:/home/mfm/weathervane$ ll *.yaml
-rw-rw-r-- 1 mfm mfm 460 Aug 18 21:18 create-persistent-vol.yaml
-rw-rw-r-- 1 mfm mfm 197 Aug 18 21:14 create-storage-class.yaml
-rw-rw-r-- 1 mfm mfm 354 Aug 17 21:42 my.yaml
-rw-rw-r-- 1 mfm mfm 461 Aug 18 21:21 pv01.yaml
-rw-rw-r-- 1 mfm mfm 461 Aug 18 21:21 pv02.yaml
-rw-rw-r-- 1 mfm mfm 461 Aug 18 21:21 pv03.yaml
-rw-rw-r-- 1 mfm mfm 460 Aug 18 21:20 pv04.yaml
-rw-rw-r-- 1 mfm mfm 460 Aug 18 21:20 pv05.yaml
-rw-rw-r-- 1 mfm mfm 280 Aug 18 21:23 pvc2.yaml
-rw-rw-r-- 1 mfm mfm 280 Aug 18 21:23 pvc3.yaml
-rw-rw-r-- 1 mfm mfm 277 Aug 18 21:23 test-pvc.yaml
-rw-rw-r-- 1 mfm mfm 791 Aug 18 21:37 wv-pvc.yaml
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ [1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ .  z
Z_DIR=/tmp/220824180359
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ ll /tmp/220824180359
total 76
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:03 ./
drwxrwxrwt 15 root root 4096 Aug 24 18:04 ../
-rw-rw-r--  1 mfm  mfm   716 Aug 24 18:04 ZOUT
-rw-rw-r--  1 mfm  mfm   460 Aug 24 18:03 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm   197 Aug 24 18:03 create-storage-class.yaml
-rw-rw-r--  1 mfm  mfm   354 Aug 24 18:03 my.yaml
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 18:03 outDir/
-rw-rw-r--  1 mfm  mfm   461 Aug 24 18:03 pv01.yaml
-rw-rw-r--  1 mfm  mfm   461 Aug 24 18:03 pv02.yaml
-rw-rw-r--  1 mfm  mfm   461 Aug 24 18:03 pv03.yaml
-rw-rw-r--  1 mfm  mfm   460 Aug 24 18:03 pv04.yaml
-rw-rw-r--  1 mfm  mfm   460 Aug 24 18:03 pv05.yaml
-rw-rw-r--  1 mfm  mfm   280 Aug 24 18:03 pvc2.yaml
-rw-rw-r--  1 mfm  mfm   280 Aug 24 18:03 pvc3.yaml
-rw-rw-r--  1 mfm  mfm   277 Aug 24 18:03 test-pvc.yaml
drwxrwxr-x  2 mfm  mfm  4096 Aug 24 18:03 tmpDir/
-rw-rw-r--  1 mfm  mfm   562 Aug 24 18:03 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm   791 Aug 24 18:03 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm   294 Aug 24 18:03 z
mfm@mm74:/home/mfm/weathervane$ ll /tmp
total 76
drwxrwxrwt 15 root root 4096 Aug 24 18:05 ./
drwxr-xr-x 23 root root 4096 Aug 17 19:47 ../
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .ICE-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .Test-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .X11-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .XIM-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .font-unix/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:45 220824174547/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:57 220824175727/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:03 220824180359/
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_2bKt.txt
-rw-------  1 root root  279 Aug 19 19:19 cpan_install_D5gk.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_Jy44.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_KHRL.txt
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_OcwM.txt
-rw-------  1 root root   37 Aug 19 19:19 cpan_install_ZAyk.txt
drwx------  3 root root 4096 Aug 17 19:15 snap.lxd/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx/
mfm@mm74:/home/mfm/weathervane$ fg
vi z
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md        auctionAppServerWarmer      dbLoader             my.yaml    pvc3.yaml          weathervane.config.k8s.micro
Branches.md         auctionBidService           debugWeathervane.pl  outDir     runHarness         weathervane.config.k8s.quickstart
CODE-OF-CONDUCT.md  auctionWeb                  dist                 output     runWeathervane.pl  weathervane.config.k8s.small2
CONTRIBUTING.md     build.gradle                doc                  pv01.yaml  runmany.sh         weathervane.pl
ISSUES.md           buildDockerImages.log       dockerImages         pv02.yaml  settings.gradle    weathervaneResults.csv
LICENSE.txt         buildDockerImages.pl        gradle               pv03.yaml  test-pvc.yaml      workloadConfiguration
Notice.txt          configFiles                 gradle.properties    pv04.yaml  testing            workloadDriver
README.md           create-persistent-vol.yaml  gradlew              pv05.yaml  tmpDir             wv-pvc.yaml
auctionApp          create-storage-class.yaml   gradlew.bat          pvc2.yaml  version.txt        z
mfm@mm74:/home/mfm/weathervane$ git status
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   runWeathervane.pl

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        auctionApp/build/
        auctionAppServerWarmer/build/
        auctionBidService/build/
        create-persistent-vol.yaml
        create-storage-class.yaml
        dbLoader/build/
        debugWeathervane.pl
        my.yaml
        outDir/
        pv01.yaml
        pv02.yaml
        pv03.yaml
        pv04.yaml
        pv05.yaml
        pvc2.yaml
        pvc3.yaml
        test-pvc.yaml
        weathervane.config.k8s.quickstart
        weathervaneResults.csv
        workloadDriver/build/
        wv-pvc.yaml
        z

no changes added to commit (use "git add" and/or "git commit -a")
mfm@mm74:/home/mfm/weathervane$ git diff runWeathervane.pl
diff --git a/runWeathervane.pl b/runWeathervane.pl
index 28f5d790..f446029d 100755
--- a/runWeathervane.pl
+++ b/runWeathervane.pl
@@ -235,7 +235,7 @@ sub checkStorageClasses {
     ],
     \\\"resources\\\": {
       \\\"requests\\\": {
-        \\\"storage\\\": \\\"1Mi\\\"
+        \\\"storage\\\": \\\"1Gi\\\"
       }
     }
   }
@@ -252,6 +252,7 @@ END
                        # Create a PVC
                        my $pvcYamlStringCopy = $pvcYamlString;
                        $pvcYamlStringCopy =~ s/storageClassNameHere/$storageClassName/;
+                       print "\n***** $pvcYamlStringCopy\n";
                        $out = `echo "$pvcYamlStringCopy" | kubectl --kubeconfig=$kubeconfigFileName --context=$kubeconfigContext apply -f -`;

                        # Check 5 times for the status to equal Bound and exit if not sucessful
mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ vi runWeathervane.pl
mfm@mm74:/home/mfm/weathervane$ kubectl get pv
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
mfm@mm74:/home/mfm/weathervane$ cat pv01.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: weathervane-pv1
spec:
  capacity:
    storage: 10Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: local-storage
  local:
    path: /k8s/weathervane/vol/v01
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - mm74
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc
No resources found in default namespace.
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage   38h
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage   38h
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ ll /tmp
total 76
drwxrwxrwt 15 root root 4096 Aug 24 18:26 ./
drwxr-xr-x 23 root root 4096 Aug 17 19:47 ../
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .ICE-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .Test-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .X11-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .XIM-unix/
drwxrwxrwt  2 root root 4096 Aug 17 19:14 .font-unix/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:45 220824174547/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 17:57 220824175727/
drwxrwxr-x  4 mfm  mfm  4096 Aug 24 18:03 220824180359/
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_2bKt.txt
-rw-------  1 root root  279 Aug 19 19:19 cpan_install_D5gk.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_Jy44.txt
-rw-------  1 mfm  mfm    37 Aug 19 19:18 cpan_install_KHRL.txt
-rw-------  1 mfm  mfm     0 Aug 19 19:18 cpan_install_OcwM.txt
-rw-------  1 root root   37 Aug 19 19:19 cpan_install_ZAyk.txt
drwx------  3 root root 4096 Aug 17 19:15 snap.lxd/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-ModemManager.service-ezO3Qa/
drwx------  3 root root 4096 Aug 17 19:15 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-logind.service-Kc1YsI/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-resolved.service-eQkaV9/
drwx------  3 root root 4096 Aug 19 04:21 systemd-private-3aa83917b8e54e0489b16f133a64825c-systemd-timesyncd.service-0XUKYx/
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824182631
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ ll /tmp/220824182631
total 100
drwxrwxr-x  4 mfm  mfm   4096 Aug 24 18:26 ./
drwxrwxrwt 16 root root  4096 Aug 24 18:27 ../
-rw-rw-r--  1 mfm  mfm    716 Aug 24 18:26 ZOUT
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:26 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm    197 Aug 24 18:26 create-storage-class.yaml
-rw-rw-r--  1 mfm  mfm    354 Aug 24 18:26 my.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 18:26 outDir/
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:26 pv01.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:26 pv02.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:26 pv03.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:26 pv04.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:26 pv05.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 18:26 pvc2.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 18:26 pvc3.yaml
-rwxrwxr-x  1 mfm  mfm  20538 Aug 24 18:26 runWeathervane.pl*
-rw-rw-r--  1 mfm  mfm    277 Aug 24 18:26 test-pvc.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 18:26 tmpDir/
-rw-rw-r--  1 mfm  mfm    562 Aug 24 18:26 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm    791 Aug 24 18:26 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm    322 Aug 24 18:26 z
mfm@mm74:/home/mfm/weathervane$ vi z

[1]+  Stopped                 vi z
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ kubectl get pv
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc
No resources found in default namespace.
mfm@mm74:/home/mfm/weathervane$ kubectl get sc
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage   38h
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage   38h
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h
mfm@mm74:/home/mfm/weathervane$ jobs
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ cat create-storage-class.yaml
kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: local-storage
provisioner: kubernetes.io/no-provisioner
reclaimPolicy: Retain
volumeBindingMode: Immediate
mountOptions:
- debug
mfm@mm74:/home/mfm/weathervane$ jobs
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ [1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824184936
kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h
kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage   38h
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage   38h
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ cd /tmp/220824184936
mfm@mm74:/tmp/220824184936$ ll
total 100
drwxrwxr-x  4 mfm  mfm   4096 Aug 24 18:49 ./
drwxrwxrwt 17 root root  4096 Aug 24 18:50 ../
-rw-rw-r--  1 mfm  mfm    716 Aug 24 18:49 ZOUT
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:49 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm    197 Aug 24 18:49 create-storage-class.yaml
-rw-rw-r--  1 mfm  mfm    354 Aug 24 18:49 my.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 18:49 outDir/
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:49 pv01.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:49 pv02.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 18:49 pv03.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:49 pv04.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 18:49 pv05.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 18:49 pvc2.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 18:49 pvc3.yaml
-rwxrwxr-x  1 mfm  mfm  20538 Aug 24 18:49 runWeathervane.pl*
-rw-rw-r--  1 mfm  mfm    277 Aug 24 18:49 test-pvc.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 18:49 tmpDir/
-rw-rw-r--  1 mfm  mfm    562 Aug 24 18:49 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm    791 Aug 24 18:49 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm    676 Aug 24 18:49 z
mfm@mm74:/tmp/220824184936$ cat ZOUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/tmp/220824184936$ 1fg
1fg: command not found
mfm@mm74:/tmp/220824184936$ cd
mfm@mm74:/home/mfm$ cd weathervane
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824185250
kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h

kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h

kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage   38h
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage   38h

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ cat /tmp/220824185250/ZOUT
kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h

kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            38h

kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage   38h
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage   38h

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc cassandra-data-cassandra-0
Error from server (NotFound): persistentvolumeclaims "cassandra-data-cassandra-0" not found
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc cassandra-data-cassandra-0 -ns auctionw1i1
Error from server (NotFound): persistentvolumeclaims "cassandra-data-cassandra-0" not found
Error from server (NotFound): persistentvolumeclaims "auctionw1i1" not found
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc cassandra-data-cassandra-0 -namespace auctionw1i1
Error from server (NotFound): persistentvolumeclaims "cassandra-data-cassandra-0" not found
Error from server (NotFound): persistentvolumeclaims "auctionw1i1" not found
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc cassandra-data-cassandra-0 --namespace auctionw1i1
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                      STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   postgresql-postgresql-0   Pending                                      local-storage   38h
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
persistentvolumeclaim "postgresql-postgresql-0" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824191245

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d21h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            39h
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            39h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            39h

$ kubectl get pvc --all-namespaces
No resources found

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv1
persistentvolume "weathervane-pv1" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv2   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            39h
weathervane-pv3   10Gi       RWO            Retain           Released   default/weathervane-test-claim   local-storage            39h
mfm@mm74:/home/mfm/weathervane$ kubectl apply -f pv01.yaml
persistentvolume/weathervane-pv1 created
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM                            STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Available                                    local-storage            3s
weathervane-pv2   10Gi       RWO            Retain           Released    default/weathervane-test-claim   local-storage            39h
weathervane-pv3   10Gi       RWO            Retain           Released    default/weathervane-test-claim   local-storage            39h
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv2
persistentvolume "weathervane-pv2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv3
persistentvolume "weathervane-pv3" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl apply -f pv02.yaml
persistentvolume/weathervane-pv2 created
mfm@mm74:/home/mfm/weathervane$ kubectl apply -f pv03.yaml
persistentvolume/weathervane-pv3 created
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Available           local-storage            82s
weathervane-pv2   10Gi       RWO            Retain           Available           local-storage            8s
weathervane-pv3   10Gi       RWO            Retain           Available           local-storage            4s
mfm@mm74:/home/mfm/weathervane$ g
g: command not found
mfm@mm74:/home/mfm/weathervane$ fg
vi z

[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$
[1]+  Stopped                 vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824191813

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d22h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Available           local-storage            2m36s
weathervane-pv2   10Gi       RWO            Retain           Available           local-storage            82s
weathervane-pv3   10Gi       RWO            Retain           Available           local-storage            78s

$ kubectl get pvc --all-namespaces
No resources found

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 19:18:16 2022: Weathervane Version 2.1.1
Wed Aug 24 19:18:16 2022: Command-line parameters:
Wed Aug 24 19:18:16 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 19:18:16 2022: Run Configuration has 1 workload(s).
Wed Aug 24 19:18:16 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 19:18:16 2022: Workload  has 1 micro application instances:
Wed Aug 24 19:18:16 2022:       1 CoordinationServers
Wed Aug 24 19:18:16 2022:       1 WebServers
Wed Aug 24 19:18:16 2022:       1 DbServers
Wed Aug 24 19:18:16 2022:       1 NosqlServers
Wed Aug 24 19:18:16 2022:       1 MsgServers
Wed Aug 24 19:18:16 2022:       1 AppServers
Wed Aug 24 19:18:16 2022:       0 AuctionBidServers
Wed Aug 24 19:18:17 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 19:18:17 2022: Fixed Run Strategy starting run.
Wed Aug 24 19:18:17 2022: Stopping services from previous runs.
Wed Aug 24 19:19:06 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 19:20:40 2022: Preparing data for use in current run.
Wed Aug 24 19:21:01 2022: Data is not loaded for 3000 maxUsers for appInstance 1 of workload. Loading data.
Wed Aug 24 19:23:10 2022:  appInstance 1: Loading data for a maximum of 3000 users
Wed Aug 24 19:23:14 2022: Loading data -- Initial estimate of total load time is 0 hours, 6 min, 19 sec. Workload 1, appInstance 1.
Wed Aug 24 19:25:15 2022: Loading is 53.6% complete.  Current estimate of remaining load time is 0 hours, 3 min, 31 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:00 2022: Loading is 95.5% complete.  Current estimate of remaining load time is 0 hours, 0 min, 20 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:20 2022: Loading is 99.9% complete.  Current estimate of remaining load time is 0 hours, 0 min, 0 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:20 2022: Loading data took 0 hours, 4 min, 5 sec. Workload 1, appInstance 1.
Wed Aug 24 19:27:24 2022: Preparing auctions and warming data-services for appInstance 1 of workload.
Wed Aug 24 19:27:40 2022: Starting backend services
Wed Aug 24 19:52:58 2022: Couldn't bring up all backend services for appInstance 1 of workload 1.

Wed Aug 24 19:54:03 2022: Couldn't start backend services for run 0-0. Exiting.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Exit code for Run-Harness container is 255.
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ cd /tmp/220824191813
mfm@mm74:/tmp/220824191813$ ll
total 104
drwxrwxr-x  4 mfm  mfm   4096 Aug 24 19:18 ./
drwxrwxrwt 20 root root  4096 Aug 24 19:54 ../
-rw-rw-r--  1 mfm  mfm   5381 Aug 24 19:54 ZOUT
-rw-rw-r--  1 mfm  mfm    460 Aug 24 19:18 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm    197 Aug 24 19:18 create-storage-class.yaml
-rw-rw-r--  1 mfm  mfm    354 Aug 24 19:18 my.yaml
drwxrwxr-x  3 mfm  mfm   4096 Aug 24 19:18 outDir/
-rw-rw-r--  1 mfm  mfm    461 Aug 24 19:18 pv01.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 19:18 pv02.yaml
-rw-rw-r--  1 mfm  mfm    461 Aug 24 19:18 pv03.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 19:18 pv04.yaml
-rw-rw-r--  1 mfm  mfm    460 Aug 24 19:18 pv05.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 19:18 pvc2.yaml
-rw-rw-r--  1 mfm  mfm    280 Aug 24 19:18 pvc3.yaml
-rwxrwxr-x  1 mfm  mfm  20538 Aug 24 19:18 runWeathervane.pl*
-rw-rw-r--  1 mfm  mfm    277 Aug 24 19:18 test-pvc.yaml
drwxrwxr-x  2 mfm  mfm   4096 Aug 24 19:18 tmpDir/
-rw-rw-r--  1 mfm  mfm    562 Aug 24 19:18 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm    791 Aug 24 19:18 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm    807 Aug 24 19:18 z
mfm@mm74:/tmp/220824191813$ ll outDir/
total 16
drwxrwxr-x 3 mfm mfm 4096 Aug 24 19:18 ./
drwxrwxr-x 4 mfm mfm 4096 Aug 24 19:18 ../
drwxr-xr-x 3 mfm mfm 4096 Aug 24 19:18 0/
-rw-r--r-- 1 mfm mfm    1 Aug 24 19:18 sequence.num
mfm@mm74:/tmp/220824191813$ ll tmpDir/
total 8
drwxrwxr-x 2 mfm mfm 4096 Aug 24 19:18 ./
drwxrwxr-x 4 mfm mfm 4096 Aug 24 19:18 ../
mfm@mm74:/tmp/220824191813$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage            40m
weathervane-pv2   10Gi       RWO            Retain           Bound      auctionw1i1/postgresql-postgresql-0      local-storage            38m
weathervane-pv3   10Gi       RWO            Retain           Bound      auctionw1i1/cassandra-data-cassandra-0   local-storage            38m
mfm@mm74:/tmp/220824191813$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS   VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Bound    weathervane-pv3   10Gi       RWO            local-storage   36m
auctionw1i1   postgresql-postgresql-0      Bound    weathervane-pv2   10Gi       RWO            local-storage   36m
mfm@mm74:/tmp/220824191813$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d22h
mfm@mm74:/tmp/220824191813$ kubectl describe sc local-storage
Name:            local-storage
IsDefaultClass:  No
Annotations:     kubectl.kubernetes.io/last-applied-configuration={"apiVersion":"storage.k8s.io/v1","kind":"StorageClass","metadata":{"annotations":{},"name":"local-storage"},"mountOptions":["debug"],"provisioner":"kubernetes.io/no-provisioner","reclaimPolicy":"Retain","volumeBindingMode":"Immediate"}

Provisioner:           kubernetes.io/no-provisioner
Parameters:            <none>
AllowVolumeExpansion:  <unset>
MountOptions:
  debug
ReclaimPolicy:      Retain
VolumeBindingMode:  Immediate
Events:             <none>
mfm@mm74:/tmp/220824191813$ jobs
[1]+  Stopped                 vi z  (wd: /home/mfm/weathervane)
mfm@mm74:/tmp/220824191813$ fg
vi z    (wd: /home/mfm/weathervane)
mfm@mm74:/tmp/220824191813$ which awk
/usr/bin/awk
mfm@mm74:/tmp/220824191813$ kubectl delete pvc cassandra-data-cassandra-0 --namespace auctionw1i1
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
mfm@mm74:/tmp/220824191813$ kubectl delete pvc postgresql-postgresql-0 --namespace auctionw1i1
persistentvolumeclaim "postgresql-postgresql-0" deleted
mfm@mm74:/tmp/220824191813$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/tmp/220824191813$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   10Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage            50m
weathervane-pv2   10Gi       RWO            Retain           Released   auctionw1i1/postgresql-postgresql-0      local-storage            49m
weathervane-pv3   10Gi       RWO            Retain           Released   auctionw1i1/cassandra-data-cassandra-0   local-storage            49m
mfm@mm74:/tmp/220824191813$ kubectl delete pv weathervane-pv1
persistentvolume "weathervane-pv1" deleted
mfm@mm74:/tmp/220824191813$ kubectl delete pv weathervane-pv2
persistentvolume "weathervane-pv2" deleted
mfm@mm74:/tmp/220824191813$ kubectl delete pv weathervane-pv3
persistentvolume "weathervane-pv3" deleted
mfm@mm74:/tmp/220824191813$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d22h
mfm@mm74:/tmp/220824191813$ kubectl get pv --all-namespaces
No resources found
mfm@mm74:/tmp/220824191813$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/tmp/220824191813$ ls
ZOUT                        create-storage-class.yaml  outDir     pv02.yaml  pv04.yaml  pvc2.yaml  runWeathervane.pl  tmpDir                             wv-pvc.yaml
create-persistent-vol.yaml  my.yaml                    pv01.yaml  pv03.yaml  pv05.yaml  pvc3.yaml  test-pvc.yaml      weathervane.config.k8s.quickstart  z
mfm@mm74:/tmp/220824191813$ vi pv01.yaml
mfm@mm74:/tmp/220824191813$ vi pv02.yaml
mfm@mm74:/tmp/220824191813$ vi pv03.yaml
mfm@mm74:/tmp/220824191813$ mfm@mm74:/tmp/220824191813$ # changed 10Gi to 20Gi
mfm@mm74:/tmp/220824191813$ kubectl apply -f pv01.yaml
persistentvolume/weathervane-pv1 created
mfm@mm74:/tmp/220824191813$ kubectl apply -f pv02.yaml
persistentvolume/weathervane-pv2 created
mfm@mm74:/tmp/220824191813$ kubectl apply -f pv03.yaml
persistentvolume/weathervane-pv3 created
mfm@mm74:/tmp/220824191813$ fg
-bash: fg: current: no such job
mfm@mm74:/tmp/220824191813$ cd
mfm@mm74:/home/mfm$ cd weathervane\
> ^C
mfm@mm74:/home/mfm$ cd weathervane
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   20Gi       RWO            Retain           Available           local-storage            2m22s
weathervane-pv2   20Gi       RWO            Retain           Available           local-storage            2m18s
weathervane-pv3   20Gi       RWO            Retain           Available           local-storage            2m15s
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md            auctionBidService           dist               pv01.yaml          settings.gradle                    weathervaneResults.csv
Branches.md             auctionWeb                  doc                pv02.yaml          tee                                workloadConfiguration
CODE-OF-CONDUCT.md      build.gradle                dockerImages       pv03.yaml          test-pvc.yaml                      workloadDriver
CONTRIBUTING.md         buildDockerImages.log       gradle             pv04.yaml          testing                            wv-pvc.yaml
ISSUES.md               buildDockerImages.pl        gradle.properties  pv05.yaml          tmpDir                             z
LICENSE.txt             configFiles                 gradlew            pvc2.yaml          version.txt
Notice.txt              create-persistent-vol.yaml  gradlew.bat        pvc3.yaml          weathervane.config.k8s.micro
README.md               create-storage-class.yaml   my.yaml            runHarness         weathervane.config.k8s.quickstart
auctionApp              dbLoader                    outDir             runWeathervane.pl  weathervane.config.k8s.small2
auctionAppServerWarmer  debugWeathervane.pl         output             runmany.sh         weathervane.pl
mfm@mm74:/home/mfm/weathervane$ vi pv01.yaml pv02.yaml pv03.yaml
3 files to edit
mfm@mm74:/home/mfm/weathervane$ cat pv01.yaml pv02.yaml pv03.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: weathervane-pv1
spec:
  capacity:
    storage: 20Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: local-storage
  local:
    path: /k8s/weathervane/vol/v01
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - mm74
apiVersion: v1
kind: PersistentVolume
metadata:
  name: weathervane-pv2
spec:
  capacity:
    storage: 20Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: local-storage
  local:
    path: /k8s/weathervane/vol/v02
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - mm74
apiVersion: v1
kind: PersistentVolume
metadata:
  name: weathervane-pv3
spec:
  capacity:
    storage: 20Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: local-storage
  local:
    path: /k8s/weathervane/vol/v03
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - mm74
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824201306

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d22h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   20Gi       RWO            Retain           Available           local-storage            3m55s
weathervane-pv2   20Gi       RWO            Retain           Available           local-storage            3m51s
weathervane-pv3   20Gi       RWO            Retain           Available           local-storage            3m48s

$ kubectl get pvc --all-namespaces
No resources found

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 20:13:09 2022: Weathervane Version 2.1.1
Wed Aug 24 20:13:09 2022: Command-line parameters:
Wed Aug 24 20:13:09 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 20:13:09 2022: Run Configuration has 1 workload(s).
Wed Aug 24 20:13:09 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 20:13:09 2022: Workload  has 1 micro application instances:
Wed Aug 24 20:13:09 2022:       1 CoordinationServers
Wed Aug 24 20:13:09 2022:       1 WebServers
Wed Aug 24 20:13:09 2022:       1 DbServers
Wed Aug 24 20:13:09 2022:       1 NosqlServers
Wed Aug 24 20:13:09 2022:       1 MsgServers
Wed Aug 24 20:13:09 2022:       1 AppServers
Wed Aug 24 20:13:09 2022:       0 AuctionBidServers
Wed Aug 24 20:13:09 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 20:13:09 2022: Fixed Run Strategy starting run.
Wed Aug 24 20:13:09 2022: Stopping services from previous runs.
Wed Aug 24 20:13:59 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 20:15:33 2022: Preparing data for use in current run.
Wed Aug 24 20:15:52 2022: Data is already loaded for appInstance 1 of workload
Wed Aug 24 20:15:52 2022: Preparing auctions and warming data-services for appInstance 1 of workload.
Wed Aug 24 20:16:09 2022: Starting backend services
Wed Aug 24 20:41:27 2022: Couldn't bring up all backend services for appInstance 1 of workload 1.
Wed Aug 24 20:42:32 2022: Couldn't start backend services for run 0-0. Exiting.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Exit code for Run-Harness container is 255.

END OF WEATHERVANE PERL SCRIPT OUTPUT

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d23h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   20Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage            33m
weathervane-pv2   20Gi       RWO            Retain           Bound      auctionw1i1/postgresql-postgresql-0      local-storage            33m
weathervane-pv3   20Gi       RWO            Retain           Bound      auctionw1i1/cassandra-data-cassandra-0   local-storage            33m

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS   VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Bound    weathervane-pv3   20Gi       RWO            local-storage   28m
auctionw1i1   postgresql-postgresql-0      Bound    weathervane-pv2   20Gi       RWO            local-storage   28m

mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ vi pv0*.yaml
5 files to edit
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d23h
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ cd
mfm@mm74:/home/mfm$ cd weathervane
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824210845
Error from server (NotFound): persistentvolumeclaims "cassandra-data-cassandra-0" not found
Error from server (NotFound): persistentvolumeclaims "postgresql-postgresql-0" not found
Error from server (NotFound): persistentvolumes "weathervane-pv1" not found
Error from server (NotFound): persistentvolumes "weathervane-pv2" not found
Error from server (NotFound): persistentvolumes "weathervane-pv3" not found
persistentvolume/weathervane-pv1 created
persistentvolume/weathervane-pv2 created
persistentvolume/weathervane-pv3 created

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  5d23h

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   30Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv2   30Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv3   30Gi       RWO            Retain           Available           local-storage            0s

$ kubectl get pvc --all-namespaces
No resources found


BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 21:08:48 2022: Weathervane Version 2.1.1
Wed Aug 24 21:08:48 2022: Command-line parameters:
Wed Aug 24 21:08:48 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 21:08:48 2022: Run Configuration has 1 workload(s).
Wed Aug 24 21:08:48 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 21:08:48 2022: Workload  has 1 micro application instances:
Wed Aug 24 21:08:48 2022:       1 CoordinationServers
Wed Aug 24 21:08:48 2022:       1 WebServers
Wed Aug 24 21:08:48 2022:       1 DbServers
Wed Aug 24 21:08:48 2022:       1 NosqlServers
Wed Aug 24 21:08:48 2022:       1 MsgServers
Wed Aug 24 21:08:48 2022:       1 AppServers
Wed Aug 24 21:08:48 2022:       0 AuctionBidServers
Wed Aug 24 21:08:48 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 21:08:48 2022: Fixed Run Strategy starting run.
Wed Aug 24 21:08:48 2022: Stopping services from previous runs.
Wed Aug 24 21:09:37 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 21:11:12 2022: Preparing data for use in current run.
Wed Aug 24 21:11:31 2022: Data is already loaded for appInstance 1 of workload
Wed Aug 24 21:11:31 2022: Preparing auctions and warming data-services for appInstance 1 of workload.
Wed Aug 24 21:11:48 2022: Starting backend services
Wed Aug 24 21:37:05 2022: Couldn't bring up all backend services for appInstance 1 of workload 1.
Wed Aug 24 21:38:10 2022: Couldn't start backend services for run 0-0. Exiting.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Exit code for Run-Harness container is 255.

END OF WEATHERVANE PERL SCRIPT OUTPUT

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  6d

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   30Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage            29m
weathervane-pv2   30Gi       RWO            Retain           Bound      auctionw1i1/postgresql-postgresql-0      local-storage            29m
weathervane-pv3   30Gi       RWO            Retain           Bound      auctionw1i1/cassandra-data-cassandra-0   local-storage            29m

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS   VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Bound    weathervane-pv3   30Gi       RWO            local-storage   28m
auctionw1i1   postgresql-postgresql-0      Bound    weathervane-pv2   30Gi       RWO            local-storage   28m

mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824214232
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
persistentvolumeclaim "postgresql-postgresql-0" deleted
persistentvolume "weathervane-pv1" deleted
persistentvolume "weathervane-pv2" deleted
persistentvolume "weathervane-pv3" deleted
storageclass.storage.k8s.io "local-storage" deleted
Command 'cubectl' not found, did you mean:
  command 'kubectl' from snap kubectl (1.24.4)
See 'snap info <snapname>' for additional versions.
persistentvolume/weathervane-pv1 created
persistentvolume/weathervane-pv2 created
persistentvolume/weathervane-pv3 created

$ kubectl get sc --all-namespaces
No resources found

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   40Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv2   40Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv3   40Gi       RWO            Retain           Available           local-storage            0s

$ kubectl get pvc --all-namespaces
No resources found


BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 21:42:35 2022: Weathervane Version 2.1.1
Wed Aug 24 21:42:35 2022: Command-line parameters:
Wed Aug 24 21:42:35 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 21:42:35 2022: Run Configuration has 1 workload(s).
Wed Aug 24 21:42:35 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 21:42:35 2022: Workload  has 1 micro application instances:
Wed Aug 24 21:42:35 2022:       1 CoordinationServers
Wed Aug 24 21:42:35 2022:       1 WebServers
Wed Aug 24 21:42:35 2022:       1 DbServers
Wed Aug 24 21:42:35 2022:       1 NosqlServers
Wed Aug 24 21:42:35 2022:       1 MsgServers
Wed Aug 24 21:42:35 2022:       1 AppServers
Wed Aug 24 21:42:35 2022:       0 AuctionBidServers
Wed Aug 24 21:42:35 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 21:42:35 2022: Fixed Run Strategy starting run.
Wed Aug 24 21:42:35 2022: Stopping services from previous runs.
^C
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824214330
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
cc^C
mfm@mm74:/home/mfm/weathervane$ ^C
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824214423
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
^C
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
^C
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   2m19s
auctionw1i1   postgresql-postgresql-0      Bound         weathervane-pv2   40Gi       RWO            local-storage   2m19s
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   2m43s
auctionw1i1   postgresql-postgresql-0      Bound         weathervane-pv2   40Gi       RWO            local-storage   2m43s
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
persistentvolumeclaim "postgresql-postgresql-0" deleted

^C
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   3m34s
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   3m34s
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   40Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage            5m37s
weathervane-pv2   40Gi       RWO            Retain           Bound      auctionw1i1/postgresql-postgresql-0      local-storage            5m37s
weathervane-pv3   40Gi       RWO            Retain           Bound      auctionw1i1/cassandra-data-cassandra-0   local-storage            5m37s
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv1
persistentvolume "weathervane-pv1" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv2
persistentvolume "weathervane-pv2" deleted
^C
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            6m11s
weathervane-pv3   40Gi       RWO            Retain           Bound         auctionw1i1/cassandra-data-cassandra-0   local-storage            6m11s
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv3
persistentvolume "weathervane-pv3" deleted
^C
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            6m53s
weathervane-pv3   40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage            6m53s
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   6m6s
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   6m6s
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   7m36s
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   7m36s
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            8m36s
weathervane-pv3   40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage            8m36s
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            11m
weathervane-pv3   40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage            11m
mfm@mm74:/home/mfm/weathervane$ vi create-
mfm@mm74:/home/mfm/weathervane$ vi create-storage-class.yaml
mfm@mm74:/home/mfm/weathervane$ cp create-storage-class.yaml create-storage-class2.yaml
mfm@mm74:/home/mfm/weathervane$ vi create-storage-class2.yaml
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md            auctionBidService           debugWeathervane.pl  output             runmany.sh                         weathervane.pl
Branches.md             auctionWeb                  dist                 pv01.yaml          settings.gradle                    weathervaneResults.csv
CODE-OF-CONDUCT.md      build.gradle                doc                  pv02.yaml          tee                                workloadConfiguration
CONTRIBUTING.md         buildDockerImages.log       dockerImages         pv03.yaml          test-pvc.yaml                      workloadDriver
ISSUES.md               buildDockerImages.pl        gradle               pv04.yaml          testing                            wv-pvc.yaml
LICENSE.txt             configFiles                 gradle.properties    pv05.yaml          tmpDir                             z
Notice.txt              create-persistent-vol.yaml  gradlew              pvc2.yaml          version.txt
README.md               create-storage-class.yaml   gradlew.bat          pvc3.yaml          weathervane.config.k8s.micro
auctionApp              create-storage-class2.yaml  my.yaml              runHarness         weathervane.config.k8s.quickstart
auctionAppServerWarmer  dbLoader                    outDir               runWeathervane.pl  weathervane.config.k8s.small2
mfm@mm74:/home/mfm/weathervane$ cp pv01.yaml pv04.yaml
mfm@mm74:/home/mfm/weathervane$ cp pv02.yaml pv05.yaml
mfm@mm74:/home/mfm/weathervane$ cp pv03.yaml pv06.yaml
mfm@mm74:/home/mfm/weathervane$ vi pv04.yaml pv05.yaml pv06.yaml
3 files to edit
mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p $Z_DIR
echo "Z_DIR=$Z_DIR"
cp z $Z_DIR
cp weathervane.config.k8s.quickstart $Z_DIR
cp *.yaml $Z_DIR
cp runWeathervane.pl $Z_DIR

#kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
#kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
#kubectl delete pv weathervane-pv1
#kubectl delete pv weathervane-pv2
#kubectl delete pv weathervane-pv3
#kubectl delete sc local-storage

kubectl create -f create-storage-class2.yaml
kubectl apply -f pv04.yaml
kubectl apply -f pv05.yaml
kubectl apply -f pv06.yaml



echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT


./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir $Z_DIR/outDir --tmpDir $Z_DIR/tmpDir 2>&1 | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "END OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824215836
storageclass.storage.k8s.io/local-storage2 created
persistentvolume/weathervane-pv1-2 created
persistentvolume/weathervane-pv2-2 created
persistentvolume/weathervane-pv3-2 created

$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  1s

$ kubectl get pv --all-namespaces
NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS     REASON   AGE
weathervane-pv1-2   40Gi       RWO            Retain           Available                                              local-storage2            0s
weathervane-pv2     40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage             16m
weathervane-pv2-2   40Gi       RWO            Retain           Available                                              local-storage2            0s
weathervane-pv3     40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage             16m
weathervane-pv3-2   40Gi       RWO            Retain           Available                                              local-storage2            0s

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   15m
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   15m


BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Weathervane is unable to create a persistant volume using storage class local-storage in kubernetesCluster kubernetes.
Check the configuration of your cluster to ensure that the storage class exists and can provision persistent volumes.

END OF WEATHERVANE PERL SCRIPT OUTPUT

$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  32s

$ kubectl get pv --all-namespaces
NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS     REASON   AGE
weathervane-pv1-2   40Gi       RWO            Retain           Available                                              local-storage2            31s
weathervane-pv2     40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage             16m
weathervane-pv2-2   40Gi       RWO            Retain           Available                                              local-storage2            31s
weathervane-pv3     40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage             16m
weathervane-pv3-2   40Gi       RWO            Retain           Available                                              local-storage2            31s

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   15m
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   15m

mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md        auctionApp              create-persistent-vol.yaml  gradle             pv02.yaml   runWeathervane.pl  weathervane.config.k8s.micro       z
Branches.md         auctionAppServerWarmer  create-storage-class.yaml   gradle.properties  pv03.yaml   runmany.sh         weathervane.config.k8s.quickstart
CODE-OF-CONDUCT.md  auctionBidService       create-storage-class2.yaml  gradlew            pv04.yaml   settings.gradle    weathervane.config.k8s.small2
CONTRIBUTING.md     auctionWeb              dbLoader                    gradlew.bat        pv05.yaml   tee                weathervane.pl
ISSUES.md           build.gradle            debugWeathervane.pl         my.yaml            pv06.yaml   test-pvc.yaml      weathervaneResults.csv
LICENSE.txt         buildDockerImages.log   dist                        outDir             pvc2.yaml   testing            workloadConfiguration
Notice.txt          buildDockerImages.pl    doc                         output             pvc3.yaml   tmpDir             workloadDriver
README.md           configFiles             dockerImages                pv01.yaml          runHarness  version.txt        wv-pvc.yaml
mfm@mm74:/home/mfm/weathervane$ vi weathervane.config.k8s.quickstart
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  2m2s
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS     REASON   AGE
weathervane-pv1-2   40Gi       RWO            Retain           Available                                              local-storage2            2m10s
weathervane-pv2     40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage             18m
weathervane-pv2-2   40Gi       RWO            Retain           Available                                              local-storage2            2m10s
weathervane-pv3     40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage             18m
weathervane-pv3-2   40Gi       RWO            Retain           Available                                              local-storage2            2m10s
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv1-2
persistentvolume "weathervane-pv1-2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv2-2
persistentvolume "weathervane-pv2-2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv3-2
persistentvolume "weathervane-pv3-2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            18m
weathervane-pv3   40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage            18m
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   18m
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   18m
mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p $Z_DIR
echo "Z_DIR=$Z_DIR"
cp z $Z_DIR
cp weathervane.config.k8s.quickstart $Z_DIR
cp *.yaml $Z_DIR
cp runWeathervane.pl $Z_DIR

#kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
#kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
#kubectl delete pv weathervane-pv1
#kubectl delete pv weathervane-pv2
#kubectl delete pv weathervane-pv3
#kubectl delete sc local-storage

kubectl create -f create-storage-class2.yaml
kubectl apply -f pv04.yaml
kubectl apply -f pv05.yaml
kubectl apply -f pv06.yaml



echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT


./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir $Z_DIR/outDir --tmpDir $Z_DIR/tmpDir 2>&1 | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "END OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  3m29s
mfm@mm74:/home/mfm/weathervane$ kubectl delete sc local-storage2
storageclass.storage.k8s.io "local-storage2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv2   40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage            19m
weathervane-pv3   40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage            19m
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   19m
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   19m
mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p $Z_DIR
echo "Z_DIR=$Z_DIR"
cp z $Z_DIR
cp weathervane.config.k8s.quickstart $Z_DIR
cp *.yaml $Z_DIR
cp runWeathervane.pl $Z_DIR

#kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
#kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
#kubectl delete pv weathervane-pv1
#kubectl delete pv weathervane-pv2
#kubectl delete pv weathervane-pv3
#kubectl delete sc local-storage

kubectl create -f create-storage-class2.yaml
kubectl apply -f pv04.yaml
kubectl apply -f pv05.yaml
kubectl apply -f pv06.yaml



echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT


./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir $Z_DIR/outDir --tmpDir $Z_DIR/tmpDir 2>&1 | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "END OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824220248
storageclass.storage.k8s.io/local-storage2 created
persistentvolume/weathervane-pv1-2 created
persistentvolume/weathervane-pv2-2 created
persistentvolume/weathervane-pv3-2 created

$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  0s

$ kubectl get pv --all-namespaces
NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                    STORAGECLASS     REASON   AGE
weathervane-pv1-2   40Gi       RWO            Retain           Available                                              local-storage2            0s
weathervane-pv2     40Gi       RWO            Retain           Terminating   auctionw1i1/postgresql-postgresql-0      local-storage             20m
weathervane-pv2-2   40Gi       RWO            Retain           Available                                              local-storage2            0s
weathervane-pv3     40Gi       RWO            Retain           Terminating   auctionw1i1/cassandra-data-cassandra-0   local-storage             20m
weathervane-pv3-2   40Gi       RWO            Retain           Available                                              local-storage2            0s

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS        VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Terminating   weathervane-pv3   40Gi       RWO            local-storage   19m
auctionw1i1   postgresql-postgresql-0      Terminating   weathervane-pv2   40Gi       RWO            local-storage   19m


BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.

***** {
  \"kind\": \"PersistentVolumeClaim\",
  \"apiVersion\": \"v1\",
  \"metadata\": {
    \"name\": \"weathervane-test-claim\",
    \"annotations\": {
        \"volume.beta.kubernetes.io/storage-class\": \"local-storage2\"
    }
  },
  \"spec\": {
    \"accessModes\": [
      \"ReadWriteOnce\"
    ],
    \"resources\": {
      \"requests\": {
        \"storage\": \"1Gi\"
      }
    }
  }
}

Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 22:02:52 2022: Weathervane Version 2.1.1
Wed Aug 24 22:02:52 2022: Command-line parameters:
Wed Aug 24 22:02:52 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 22:02:52 2022: Run Configuration has 1 workload(s).
Wed Aug 24 22:02:52 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 22:02:52 2022: Workload  has 1 micro application instances:
Wed Aug 24 22:02:52 2022:       1 CoordinationServers
Wed Aug 24 22:02:52 2022:       1 WebServers
Wed Aug 24 22:02:52 2022:       1 DbServers
Wed Aug 24 22:02:52 2022:       1 NosqlServers
Wed Aug 24 22:02:52 2022:       1 MsgServers
Wed Aug 24 22:02:52 2022:       1 AppServers
Wed Aug 24 22:02:52 2022:       0 AuctionBidServers
Wed Aug 24 22:02:52 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 22:02:52 2022: Fixed Run Strategy starting run.
Wed Aug 24 22:02:52 2022: Stopping services from previous runs.
Wed Aug 24 22:04:22 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 22:05:57 2022: Preparing data for use in current run.
Wed Aug 24 22:06:15 2022: Data is already loaded for appInstance 1 of workload
Wed Aug 24 22:06:15 2022: Preparing auctions and warming data-services for appInstance 1 of workload.
Wed Aug 24 22:06:33 2022: Starting backend services
Wed Aug 24 22:31:50 2022: Couldn't bring up all backend services for appInstance 1 of workload 1.
Wed Aug 24 22:32:55 2022: Couldn't start backend services for run 0-0. Exiting.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Exit code for Run-Harness container is 255.

END OF WEATHERVANE PERL SCRIPT OUTPUT

$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  30m

$ kubectl get pv --all-namespaces
NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS     REASON   AGE
weathervane-pv1-2   40Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage2            30m
weathervane-pv2-2   40Gi       RWO            Retain           Bound      auctionw1i1/postgresql-postgresql-0      local-storage2            30m
weathervane-pv3-2   40Gi       RWO            Retain           Bound      auctionw1i1/cassandra-data-cassandra-0   local-storage2            30m

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS   VOLUME              CAPACITY   ACCESS MODES   STORAGECLASS     AGE
auctionw1i1   cassandra-data-cassandra-0   Bound    weathervane-pv3-2   40Gi       RWO            local-storage2   28m
auctionw1i1   postgresql-postgresql-0      Bound    weathervane-pv2-2   40Gi       RWO            local-storage2   28m

mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
persistentvolumeclaim "postgresql-postgresql-0" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS     CLAIM                                    STORAGECLASS     REASON   AGE
weathervane-pv1-2   40Gi       RWO            Retain           Released   default/weathervane-test-claim           local-storage2            35m
weathervane-pv2-2   40Gi       RWO            Retain           Released   auctionw1i1/postgresql-postgresql-0      local-storage2            35m
weathervane-pv3-2   40Gi       RWO            Retain           Released   auctionw1i1/cassandra-data-cassandra-0   local-storage2            35m
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv1-2
persistentvolume "weathervane-pv1-2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv2-2
persistentvolume "weathervane-pv2-2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pv weathervane-pv3-2
persistentvolume "weathervane-pv3-2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME             PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage2   kubernetes.io/no-provisioner   Retain          Immediate           false                  36m
mfm@mm74:/home/mfm/weathervane$ kubectl delete sc local-storage2
storageclass.storage.k8s.io "local-storage2" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ vi create-storage-class.yaml
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ vi runWeathervane.pl
mfm@mm74:/home/mfm/weathervane$ mfm@mm74:/home/mfm/weathervane$ ll
total 740
drwxrwxr-x 21 mfm  mfm    4096 Aug 24 22:44 ./
drwxr-x--- 10 mfm  mfm    4096 Aug 24 22:44 ../
-rw-r--r--  1 root root      0 Aug 17 19:56 .accept-weathervane
drwxrwxr-x  8 mfm  mfm    4096 Aug 24 18:06 .git/
-rw-rw-r--  1 mfm  mfm    2411 Aug 17 19:47 .gitignore
drwxrwxr-x 10 mfm  mfm    4096 Aug 23 03:55 .gradle/
-rw-rw-r--  1 mfm  mfm    2959 Aug 17 19:47 BRANCHING.md
-rw-rw-r--  1 mfm  mfm     200 Aug 17 19:47 Branches.md
-rw-rw-r--  1 mfm  mfm    5247 Aug 17 19:47 CODE-OF-CONDUCT.md
-rw-rw-r--  1 mfm  mfm    9540 Aug 17 19:47 CONTRIBUTING.md
-rw-rw-r--  1 mfm  mfm    4952 Aug 17 19:47 ISSUES.md
-rw-rw-r--  1 mfm  mfm    1485 Aug 17 19:47 LICENSE.txt
-rw-rw-r--  1 mfm  mfm     454 Aug 17 19:47 Notice.txt
-rw-rw-r--  1 mfm  mfm    4585 Aug 17 19:47 README.md
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:55 auctionApp/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionAppServerWarmer/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionBidService/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 auctionWeb/
-rw-rw-r--  1 mfm  mfm   10152 Aug 17 19:47 build.gradle
-rw-rw-r--  1 mfm  mfm  378761 Aug 23 04:04 buildDockerImages.log
-rwxrwxr-x  1 mfm  mfm   13779 Aug 17 19:47 buildDockerImages.pl*
drwxrwxr-x  4 mfm  mfm    4096 Aug 17 19:47 configFiles/
-rw-rw-r--  1 mfm  mfm     460 Aug 18 21:18 create-persistent-vol.yaml
-rw-rw-r--  1 mfm  mfm     197 Aug 24 21:40 create-storage-class.yaml
-rw-rw-r--  1 mfm  mfm     198 Aug 24 21:55 create-storage-class2.yaml
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 dbLoader/
-rwxrwxr-x  1 mfm  mfm   21482 Aug 17 22:08 debugWeathervane.pl*
drwxr-xr-x  4 mfm  mfm    4096 Aug 23 03:56 dist/
drwxrwxr-x  8 mfm  mfm    4096 Aug 17 19:47 doc/
drwxrwxr-x 14 mfm  mfm    4096 Aug 17 19:47 dockerImages/
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 gradle/
-rw-rw-r--  1 mfm  mfm      20 Aug 17 19:47 gradle.properties
-rwxrwxr-x  1 mfm  mfm    5305 Aug 17 19:47 gradlew*
-rwxrwxr-x  1 mfm  mfm    2185 Aug 17 19:47 gradlew.bat*
-rw-rw-r--  1 mfm  mfm     354 Aug 17 21:42 my.yaml
drwxrwxr-x  3 mfm  mfm    4096 Aug 23 04:13 outDir/
drwxr-xr-x  2 root root   4096 Aug 17 19:56 output/
-rw-rw-r--  1 mfm  mfm     461 Aug 24 21:42 pv01.yaml
-rw-rw-r--  1 mfm  mfm     461 Aug 24 21:42 pv02.yaml
-rw-rw-r--  1 mfm  mfm     461 Aug 24 21:42 pv03.yaml
-rw-rw-r--  1 mfm  mfm     464 Aug 24 21:57 pv04.yaml
-rw-rw-r--  1 mfm  mfm     464 Aug 24 21:57 pv05.yaml
-rw-rw-r--  1 mfm  mfm     464 Aug 24 21:58 pv06.yaml
-rw-rw-r--  1 mfm  mfm     280 Aug 18 21:23 pvc2.yaml
-rw-rw-r--  1 mfm  mfm     280 Aug 18 21:23 pvc3.yaml
drwxrwxr-x 14 mfm  mfm    4096 Aug 17 19:47 runHarness/
-rwxrwxr-x  1 mfm  mfm   20538 Aug 18 20:34 runWeathervane.pl*
-rwxrwxr-x  1 mfm  mfm    2527 Aug 17 19:47 runmany.sh*
-rw-rw-r--  1 mfm  mfm     145 Aug 17 19:47 settings.gradle
-rw-rw-r--  1 mfm  mfm      33 Aug 24 18:49 tee
-rw-rw-r--  1 mfm  mfm     277 Aug 18 21:23 test-pvc.yaml
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 testing/
drwxrwxr-x  2 mfm  mfm    4096 Aug 23 04:13 tmpDir/
-rw-rw-r--  1 mfm  mfm       6 Aug 17 19:47 version.txt
-rw-rw-r--  1 mfm  mfm     708 Aug 17 19:47 weathervane.config.k8s.micro
-rw-rw-r--  1 mfm  mfm     565 Aug 24 22:00 weathervane.config.k8s.quickstart
-rw-rw-r--  1 mfm  mfm     721 Aug 17 19:47 weathervane.config.k8s.small2
-rwxrwxr-x  1 mfm  mfm   42556 Aug 17 19:47 weathervane.pl*
-rw-r--r--  1 root root      0 Aug 17 19:56 weathervaneResults.csv
drwxrwxr-x  3 mfm  mfm    4096 Aug 17 19:47 workloadConfiguration/
drwxrwxr-x  4 mfm  mfm    4096 Aug 23 03:56 workloadDriver/
-rw-rw-r--  1 mfm  mfm     791 Aug 18 21:37 wv-pvc.yaml
-rw-rw-r--  1 mfm  mfm    1904 Aug 24 22:44 z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824224449
storageclass.storage.k8s.io/local-storage created
persistentvolume/weathervane-pv1 created
persistentvolume/weathervane-pv2 created
persistentvolume/weathervane-pv3 created

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  0s

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   40Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv2   40Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv3   40Gi       RWO            Retain           Available           local-storage            0s

$ kubectl get pvc --all-namespaces
No resources found


BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 22:44:53 2022: Weathervane Version 2.1.1
Wed Aug 24 22:44:53 2022: Command-line parameters:
Wed Aug 24 22:44:53 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 22:44:53 2022: Run Configuration has 1 workload(s).
Wed Aug 24 22:44:53 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 22:44:53 2022: Workload  has 1 micro application instances:
Wed Aug 24 22:44:53 2022:       1 CoordinationServers
Wed Aug 24 22:44:53 2022:       1 WebServers
Wed Aug 24 22:44:53 2022:       1 DbServers
Wed Aug 24 22:44:53 2022:       1 NosqlServers
Wed Aug 24 22:44:53 2022:       1 MsgServers
Wed Aug 24 22:44:53 2022:       1 AppServers
Wed Aug 24 22:44:53 2022:       0 AuctionBidServers
Wed Aug 24 22:44:53 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 22:44:53 2022: Fixed Run Strategy starting run.
Wed Aug 24 22:44:53 2022: Stopping services from previous runs.
Wed Aug 24 22:45:42 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 22:56:37 2022: Couldn't bring to running all data services for appInstance 1 of workload 1.
Wed Aug 24 22:56:37 2022: Couldn't start data services for appInstance 1 of workload .
See the Troubleshooting section of the User's Guide for assistance.
If this problem recurs, you can enable auto-remediation by setting "reloadOnFailure": true, in your configuration file.
Wed Aug 24 22:57:42 2022: Could not properly start the data services for run 0-0.  Exiting.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Exit code for Run-Harness container is 255.

END OF WEATHERVANE PERL SCRIPT OUTPUT

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  12m

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   40Gi       RWO            Retain           Available           local-storage            12m
weathervane-pv2   40Gi       RWO            Retain           Available           local-storage            12m
weathervane-pv3   40Gi       RWO            Retain           Available           local-storage            12m

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS     AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage2   12m
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage2   12m

mfm@mm74:/home/mfm/weathervane$ ls
BRANCHING.md        auctionApp              create-persistent-vol.yaml  gradle             pv02.yaml   runWeathervane.pl  weathervane.config.k8s.micro       z
Branches.md         auctionAppServerWarmer  create-storage-class.yaml   gradle.properties  pv03.yaml   runmany.sh         weathervane.config.k8s.quickstart
CODE-OF-CONDUCT.md  auctionBidService       create-storage-class2.yaml  gradlew            pv04.yaml   settings.gradle    weathervane.config.k8s.small2
CONTRIBUTING.md     auctionWeb              dbLoader                    gradlew.bat        pv05.yaml   tee                weathervane.pl
ISSUES.md           build.gradle            debugWeathervane.pl         my.yaml            pv06.yaml   test-pvc.yaml      weathervaneResults.csv
LICENSE.txt         buildDockerImages.log   dist                        outDir             pvc2.yaml   testing            workloadConfiguration
Notice.txt          buildDockerImages.pl    doc                         output             pvc3.yaml   tmpDir             workloadDriver
README.md           configFiles             dockerImages                pv01.yaml          runHarness  version.txt        wv-pvc.yaml
mfm@mm74:/home/mfm/weathervane$ ca pv01.yaml
ca: command not found
mfm@mm74:/home/mfm/weathervane$ cat pv01.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: weathervane-pv1
spec:
  capacity:
    storage: 40Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: local-storage
  local:
    path: /k8s/weathervane/vol/v01
  nodeAffinity:
    required:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
          - mm74
mfm@mm74:/home/mfm/weathervane$ cat weathervane.config.k8s.quickstart
{
  "description" : "micro",
  "configurationSize": "micro",
  "runStrategy" : "fixed",
  "dockerNamespace" : "mikemoranamd",
  "kubernetesClusters" : [
    {
      "name" : "kubernetes",
      "kubeconfigFile" : "/home/mfm/.kube/config",
      "kubeconfigContext" : "kubernetes-admin@kubernetes",
    },
  ],
  "driverCluster" : "kubernetes",
  "appInstanceCluster" : "kubernetes",
  "appIngressMethod" : "clusterip",
  "cassandraDataStorageClass" : "local-storage2",
  "postgresqlStorageClass" : "local-storage2",
  "nginxCacheStorageClass" : "local-storage2",
}
mfm@mm74:/home/mfm/weathervane$ vi weathervane.config.k8s.quickstart
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  28m
mfm@mm74:/home/mfm/weathervane$ cat weathervane.config.k8s.quickstart
{
  "description" : "micro",
  "configurationSize": "micro",
  "runStrategy" : "fixed",
  "dockerNamespace" : "mikemoranamd",
  "kubernetesClusters" : [
    {
      "name" : "kubernetes",
      "kubeconfigFile" : "/home/mfm/.kube/config",
      "kubeconfigContext" : "kubernetes-admin@kubernetes",
    },
  ],
  "driverCluster" : "kubernetes",
  "appInstanceCluster" : "kubernetes",
  "appIngressMethod" : "clusterip",
  "cassandraDataStorageClass" : "local-storage",
  "postgresqlStorageClass" : "local-storage",
  "nginxCacheStorageClass" : "local-storage",
  "reloadOnFailure" : true,
  "prepareConcurrency" : 4,
}
mfm@mm74:/home/mfm/weathervane$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  29m
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   40Gi       RWO            Retain           Available           local-storage            29m
weathervane-pv2   40Gi       RWO            Retain           Available           local-storage            29m
weathervane-pv3   40Gi       RWO            Retain           Available           local-storage            29m
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS     AGE
auctionw1i1   cassandra-data-cassandra-0   Pending                                      local-storage2   28m
auctionw1i1   postgresql-postgresql-0      Pending                                      local-storage2   28m
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
persistentvolumeclaim "cassandra-data-cassandra-0" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
persistentvolumeclaim "postgresql-postgresql-0" deleted
mfm@mm74:/home/mfm/weathervane$ kubectl get pvc --all-namespaces
No resources found
mfm@mm74:/home/mfm/weathervane$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   40Gi       RWO            Retain           Available           local-storage            30m
weathervane-pv2   40Gi       RWO            Retain           Available           local-storage            30m
weathervane-pv3   40Gi       RWO            Retain           Available           local-storage            30m
mfm@mm74:/home/mfm/weathervane$ jobs
mfm@mm74:/home/mfm/weathervane$ vi z
mfm@mm74:/home/mfm/weathervane$ . z
Z_DIR=/tmp/220824231635
Error from server (NotFound): persistentvolumeclaims "cassandra-data-cassandra-0" not found
Error from server (NotFound): persistentvolumeclaims "postgresql-postgresql-0" not found
persistentvolume "weathervane-pv1" deleted
persistentvolume "weathervane-pv2" deleted
persistentvolume "weathervane-pv3" deleted
storageclass.storage.k8s.io "local-storage" deleted
storageclass.storage.k8s.io/local-storage created
persistentvolume/weathervane-pv1 created
persistentvolume/weathervane-pv2 created
persistentvolume/weathervane-pv3 created

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  0s

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    REASON   AGE
weathervane-pv1   40Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv2   40Gi       RWO            Retain           Available           local-storage            0s
weathervane-pv3   40Gi       RWO            Retain           Available           local-storage            0s

$ kubectl get pvc --all-namespaces
No resources found


BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Starting Weathervane Run-Harness.  Pulling container image may take a few minutes.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Trying to pull docker.io/mikemoranamd/weathervane-runharness:2.1.1...
Getting image source signatures
Copying blob sha256:46c3ca2d900e247a9b07668b2a559b1b3c6c4012c1567d400782dabdcb8e583e
Copying blob sha256:5e4d1783f9dc0a3fe3ba2816f394c0cba06a2d7e87573358bb6c3e3e1f88c835
Copying blob sha256:7bd25576ce0f1c4f6aa580ec081e2a2799ef43f26ce754c635097e7283581dad
Copying blob sha256:da95f99c7262153653ac6da16bbfb4e418f95367d621a9c5c8e30d0a4492766e
Copying blob sha256:cb5003762b254e09d88aacc5c9e1f4891703ccc593f59e1b6ad9432c9964f05f
Copying blob sha256:f1ebab4da8587b064e5dcf3ba5784e93a1e08d52f9b034a0be8216dcfa84c6a8
Copying blob sha256:a5f7f36936936fbbb4b6c3d3298261f80de0e05f322debcab8ed666f63f17295
Copying blob sha256:0bd60150a924278b6b09eddb5405f4047ba82a1ea8f859039e65a693718b5dee
Copying blob sha256:ce71e56b1aceeb410748ececacc1e2d6ad13079203cf67042684ab2e7e8e1972
Copying blob sha256:2fb38f60d09c21e2caa8674cc9e50f446d1b76190faa05e7fb4d217d33ef2e9c
Copying blob sha256:3acce4789ab58228bfd160c697ff179f10185c698ba0f0473819e745fed88316
Copying blob sha256:ac9208207adaac3a48e54a4dc6b49c69e78c3072d2b3add7efdabf814db2133b
Copying config sha256:2a92e5c7e11a3c219c3438c46132f91f97bf9f2e59a878f0e8e76ff153ee051c
Writing manifest to image destination
Storing signatures
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Wed Aug 24 23:16:39 2022: Weathervane Version 2.1.1
Wed Aug 24 23:16:39 2022: Command-line parameters:
Wed Aug 24 23:16:39 2022: Writing output to /root/weathervane/output/0
Wed Aug 24 23:16:39 2022: Run Configuration has 1 workload(s).
Wed Aug 24 23:16:39 2022: Workload  has 1 workload-driver nodes
Wed Aug 24 23:16:39 2022: Workload  has 1 micro application instances:
Wed Aug 24 23:16:39 2022:       1 CoordinationServers
Wed Aug 24 23:16:39 2022:       1 WebServers
Wed Aug 24 23:16:39 2022:       1 DbServers
Wed Aug 24 23:16:39 2022:       1 NosqlServers
Wed Aug 24 23:16:39 2022:       1 MsgServers
Wed Aug 24 23:16:39 2022:       1 AppServers
Wed Aug 24 23:16:39 2022:       0 AuctionBidServers
Wed Aug 24 23:16:39 2022: Running Weathervane with Fixed Run Strategy using Full-Run RunProcedure.
Wed Aug 24 23:16:39 2022: Fixed Run Strategy starting run.
Wed Aug 24 23:16:39 2022: Stopping services from previous runs.
Wed Aug 24 23:17:28 2022: Configuring and starting data services for appInstance 1 of workload .
Wed Aug 24 23:19:03 2022: Preparing data for use in current run.
Wed Aug 24 23:19:24 2022: Data is not loaded for 3000 maxUsers for appInstance 1 of workload. Loading data.
Wed Aug 24 23:21:32 2022:  appInstance 1: Loading data for a maximum of 3000 users
Wed Aug 24 23:21:36 2022: Loading data -- Initial estimate of total load time is 0 hours, 6 min, 19 sec. Workload 1, appInstance 1.
Wed Aug 24 23:23:37 2022: Loading is 56.3% complete.  Current estimate of remaining load time is 0 hours, 3 min, 7 sec. Workload 1, appInstance 1.
Wed Aug 24 23:25:16 2022: Loading is 94.8% complete.  Current estimate of remaining load time is 0 hours, 0 min, 22 sec. Workload 1, appInstance 1.
Wed Aug 24 23:25:37 2022: Loading is 99.9% complete.  Current estimate of remaining load time is 0 hours, 0 min, 0 sec. Workload 1, appInstance 1.
Wed Aug 24 23:25:37 2022: Loading data took 0 hours, 4 min, 0 sec. Workload 1, appInstance 1.
Wed Aug 24 23:25:41 2022: Preparing auctions and warming data-services for appInstance 1 of workload.
Wed Aug 24 23:25:58 2022: Starting backend services
Wed Aug 24 23:51:15 2022: Couldn't bring up all backend services for appInstance 1 of workload 1.
Wed Aug 24 23:52:35 2022: Couldn't start backend services for run 0-0. Exiting.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
Exit code for Run-Harness container is 255.

END OF WEATHERVANE PERL SCRIPT OUTPUT

$ kubectl get sc --all-namespaces
NAME            PROVISIONER                    RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
local-storage   kubernetes.io/no-provisioner   Retain          Immediate           false                  36m

$ kubectl get pv --all-namespaces
NAME              CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM                                    STORAGECLASS    REASON   AGE
weathervane-pv1   40Gi       RWO            Retain           Bound       auctionw1i1/cassandra-data-cassandra-0   local-storage            36m
weathervane-pv2   40Gi       RWO            Retain           Bound       auctionw1i1/postgresql-postgresql-0      local-storage            36m
weathervane-pv3   40Gi       RWO            Retain           Available                                            local-storage            36m

$ kubectl get pvc --all-namespaces
NAMESPACE     NAME                         STATUS   VOLUME            CAPACITY   ACCESS MODES   STORAGECLASS    AGE
auctionw1i1   cassandra-data-cassandra-0   Bound    weathervane-pv1   40Gi       RWO            local-storage   35m
auctionw1i1   postgresql-postgresql-0      Bound    weathervane-pv2   40Gi       RWO            local-storage   35m

mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p $Z_DIR
echo "Z_DIR=$Z_DIR"
cp z $Z_DIR
cp weathervane.config.k8s.quickstart $Z_DIR
cp *.yaml $Z_DIR
cp runWeathervane.pl $Z_DIR


kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
kubectl delete pv weathervane-pv1
kubectl delete pv weathervane-pv2
kubectl delete pv weathervane-pv3
kubectl delete sc local-storage

kubectl create -f create-storage-class.yaml
kubectl apply -f pv01.yaml
kubectl apply -f pv02.yaml
kubectl apply -f pv03.yaml



echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT


./runWeathervane.pl --skipPvTest --configFile=weathervane.config.k8s.quickstart --outputDir $Z_DIR/outDir --tmpDir $Z_DIR/tmpDir 2>&1 | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "END OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$ history
    1  sudo apt update
    2  sudo apt install -y ca-certificates curl gnupg lsb-release
    3  curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
    4  echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list
    5  sudo apt update
    6  sudo apt install -y containerd.io
    7  wget https://github.com/opencontainers/runc/releases/download/v1.1.1/runc.amd64
    8  sudo install -m 755 runc.amd64 /usr/local/sbin/runc
    9  sudo mkdir -p /etc/containerd/
   10  containerd config default | sudo tee /etc/containerd/config.toml
   11  sudo sed -i 's/SystemdCgroup \= false/SystemdCgroup \= true/g' /etc/containerd/config.toml
   12  sudo sed -i 's/^disabled_plugins \=/\#disabled_plugins \=/g' /etc/containerd/config.toml
   13  sudo systemctl restart containerd
   14  sudo ufw allow 6443/tcp
   15  sudo ufw allow 2379/tcp
   16  sudo ufw allow 2380/tcp
   17  sudo ufw allow 10250/tcp
   18  sudo ufw allow 10257/tcp
   19  sudo ufw allow 10259/tcp
   20  sudo ufw reload
   21  sudo ufw allow 10250/tcp
   22  sudo ufw allow 30000:32767/tcp
   23  sudo ufw reload
   24  cat <<EOF | sudo tee /etc/modules-load.d/k8s.conf
   25  br_netfilter
   26  EOF
   27  cat <<EOF | sudo tee /etc/sysctl.d/k8s.conf
   28  net.bridge.bridge-nf-call-ip6tables = 1
   29  net.bridge.bridge-nf-call-iptables = 1
   30  net.ipv4.ip_forward = 1
   31  EOF
   32  sudo sysctl --system
   33  sudo swapoff -a
   34  sudo vi /etc/fstab  # comment out swap line
   35  sudo cat /etc/fstab
   36  sudo modprobe br_netfilter
   37  sudo sysctl net.bridge.bridge-nf-call-iptables=1
   38  sudo apt update
   39  sudo apt install -y apt-transport-https ca-certificates curl
   40  sudo curl -fsSLo /usr/share/keyrings/kubernetes-archive-keyring.gpg https://packages.cloud.google.com/apt/doc/apt-key.gpg
   41  echo "deb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://apt.kubernetes.io/ kubernetes-xenial main" | sudo tee /etc/apt/sources.list.d/kubernetes.list
   42  sudo apt update
   43  sudo apt install -y kubelet kubeadm kubectl
   44  sudo kubeadm init --pod-network-cidr=192.168.0.0/16
   45  mkdir -p $HOME/.kube
   46  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
   47  sudo chown $(id -u):$(id -g) $HOME/.kube/config
   48  kubectl taint nodes --all node-role.kubernetes.io/master-
   49  kubectl taint nodes --all node-role.kubernetes.io/control-plane-
   50  kubectl create -f https://projectcalico.docs.tigera.io/manifests/tigera-operator.yaml
   51  kubectl create -f https://projectcalico.docs.tigera.io/manifests/custom-resources.yaml
   52  kubectl get nodes --show-labels
   53  sudo mkdir -p /k8s/weathervane/vol
   54  sudo chmod -R 777 /k8s
   55  git clone http://github.com/vmware/weathervane
   56  cd weathervane/
   57  cat > create-persistent-vol.yaml << EOF
   58  apiVersion: v1
   59  kind: PersistentVolume
   60  metadata:
   61    name: weathervane-pv
   62  spec:
   63    capacity:
   64      storage: 400Gi
   65    accessModes:
   66    - ReadWriteOnce
   67    persistentVolumeReclaimPolicy: Retain
   68    storageClassName: local-storage
   69    local:
   70      path: /k8s/weathervane/vol
   71    nodeAffinity:
   72      required:
   73        nodeSelectorTerms:
   74        - matchExpressions:
   75          - key: kubernetes.io/hostname
   76            operator: In
   77            values:
   78            - mm74
   79  EOF
   80  kubectl create -f create-persistent-vol.yaml
   81  kubectl get pv
   82  cat > create-storage-class.yaml << EOF
   83  kind: StorageClass
   84  apiVersion: storage.k8s.io/v1
   85  metadata:
   86    name: local-storage
   87  provisioner: kubernetes.io/no-provisioner
   88  volumeBindingMode: Immediate
   89  EOF
   90  kubectl create -f create-storage-class.yaml
   91  kubectl get sc
   92  cat > weathervane.config.k8s.quickstart << EOF
   93  {
   94    "description" : "micro",
   95    "configurationSize": "micro",
   96    "runStrategy" : "fixed",
   97    "dockerNamespace" : "mikemoranamd",
   98    "kubernetesClusters" : [
   99      {
  100        "name" : "kubernetes",
  101        "kubeconfigFile" : "/home/mfm/.kube/config",
  102        "kubeconfigContext" : "",
  103      },
  104    ],
  105    "driverCluster" : "kubernetes",
  106    "appInstanceCluster" : "kubernetes",
  107    "appIngressMethod" : "clusterip",
  108    "cassandraDataStorageClass" : "local-storage",
  109    "postgresqlStorageClass" : "local-storage",
  110    "nginxCacheStorageClass" : "local-storage",
  111  }
  112  EOF
  113  cat create-persistent-vol.yaml
  114  cat create-storage-class.yaml
  115  cat weathervane.config.k8s.quickstart
  116  sudo ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  117  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  118  history
  119  ll
  120  history > ~/history_2208151459
  121  ll ~
  122  uptime
  123  who
  124  cd ..
  125  cd .ssh
  126  ll
  127  vi authorized_keys
  128  ll
  129  who
  130  cd
  131  ll
  132  cd weathervane/
  133  ll
  134  kubectl get pods
  135  kubectl get ns
  136  cat ~/.kube/config
  137  ls
  138  ./runWeathervane.pl --configFile weathervane.config.k8s.quickstart
  139  ll
  140  cp test-pvc.yaml my.yaml
  141  vi my.yaml
  142  python3
  143  fg
  144  ls
  145  cat my.yaml
  146  ks
  147  ls
  148  ll
  149  cp runWeathervane.pl debugWeathervane.pl
  150  vi debugWeathervane.pl
  151  ./debugWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  152  jobs
  153  vi debugWeathervane.pl
  154  ./debugWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  155  kubectl get nodes
  156  kubectl get nodes -o wide
  157  kube get pods --allnamespace
  158  kubectl get pods --allnamespace
  159  kubectl get pods --all-namespace
  160  kubectl get pods -all ns
  161  kubectl get pods --all-namespace
  162  kubectl get pods --all-namespaces
  163  cd weathervane/
  164  ls -lat
  165  vim weathervane.config.k8s.quickstart
  166  kubectl get persisistvolume
  167  kubectl get pv
  168  kubectl get sc
  169  vim weathervane.config.k8s.quickstart
  170  vim runWeathervane.pl
  171  kubectl get ns
  172  vim runWeathervane.pl
  173  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  174  kubectl get pv
  175  kubectl get sc
  176  dir
  177  vim runWeathervane.pl
  178  vim create-persistent-vol.yaml
  179  vim create-storage-class.yaml
  180  kubectl get sc
  181  kubectl delete sc local-storage
  182  kubectl get sc
  183  kubectl apply -f create-storage-class.yaml
  184  kubectl get sc
  185  ./runWeathervane.pl --help
  186  kubectl get pods --all-namespaces
  187  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  188  vim weathervane.config.k8s.micro
  189  vim weathervane.config.k8s.quickstart
  190  vim weathervane.config.k8s.micro
  191  vim runWeathervane.pl
  192  cat weathervane.config.k8s.quickstart
  193  cat /home/mfm/.kube/config
  194  cat weathervane.config.k8s.quickstart
  195  vim  weathervane.config.k8s.quickstart
  196  kubectl get pods --all-namespaces
  197  kubectl get pvc
  198  kubectl get pods --all-namespaces
  199  kubectl get pvc
  200  vim runWeathervane.pl
  201  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  202  vim runWeathervane.pl
  203  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  204  vim test-pvc.yaml
  205  vim test-pvc.yaml
  206  vim my.yaml
  207  kubectl apply -f my.yaml
  208  vim test-pvc.yaml
  209  kubectl apply -f my.yaml
  210  kubectl apply -f test-pvc.yaml
  211  vim test-pvc.yaml
  212  kubectl apply -f test-pvc.yaml
  213  kubectl get pvc
  214  kubectl describe pvc weathervane-test-claim-02
  215  kubectl get pvc
  216  kubectl describe pvc weathervane-test-claim-02
  217  who
  218  ls
  219  cat history_2208151459
  220  cd weathervane/
  221  ll
  222  cat create-storage-class.yaml
  223  cat create-persistent-vol.yaml
  224  cat weathervane.config.k8s.quickstart
  225  kubectl get nodes
  226  kubectl get pv
  227  kubectl get sc
  228  kubectl get pvc
  229  cd weathervane/
  230  kubectl describe weathervane-test-claim-02
  231  kubectl describe pvc weathervane-test-claim-02
  232  kubectl get pv
  233  kubectl describe pv weathervane-pv
  234  ls -lat /k8s/weathervane/vol
  235  vim create-persistent-vol.yaml
  236  kubectl get node -o wide
  237  kubectl show labels
  238  kubectl get node --show-lables
  239  kubectl get node --show-labels
  240  vim create-persistent-vol.yaml
  241  ps -a
  242  who
  243  cd .ssh
  244  ll
  245  vi authorized_keys
  246  cd
  247  ls
  248  who
  249  uptime
  250  who
  251  man curl
  252  who
  253  uptime
  254  who
  255  ls
  256  kubectl get ps
  257  kubectl get sc
  258  ls
  259  cd weathervane/
  260  ;s
  261  ls
  262  vi runWeathervane.pl~
  263  vi runWeathervane.pl
  264  jobs
  265  fg
  266  jobs
  267  fg
  268  ps -a
  269  jobs
  270  ps -aef
  271  ps -aef | grep mfm
  272  fg
  273  cd weathervane/
  274  ls -alt
  275  vim create-persistent-vol.yaml
  276  vim create-storage-class.yaml
  277  kubectl get pv
  278  kubectl get pvc
  279  kubectl delete pvc weathervane-test-claim-02
  280  kubectl get pvc
  281  kubectl get pv
  282  kubectl describe pv weathervane-pv
  283  vim create-persistent-vol.yaml
  284  kubectl get pv
  285  vim create-persistent-vol.yaml
  286  vim create-storage-class.yaml
  287  kubectl get sc
  288  kubectl delete sc local-storage
  289  kubectl get sc
  290  kubectl apply -f create-storage-class.yaml
  291  kubectl get sc
  292  kubectl get sc -o wide
  293  kubectl describe sc local-storage
  294  kubectl get pc
  295  kubectl get pv
  296  kubectl apply -f test-pvc.yaml
  297  vim test-pvc.yaml
  298  kubectl get pvc
  299  kubectl get pv
  300  kubectl describe pv weathervane-pv
  301  kubectl get sc
  302  kubectl get pvc
  303  vim test-pvc.yaml
  304  kubectl describe pvc weathervane-test-claim-02
  305  cat /proc/cpuinfo
  306  vim test-pvc.yaml
  307  vim create-persistent-vol.yaml
  308  kubectl get pvc
  309  kubectl delete pvc weathervane-test-claim-02
  310  kubectl apply -f test-pvc.yaml
  311  kubectl get pvc
  312  kubectl get pv
  313  kubectl describe pvc weathervane-test-claim
  314  kubectl delete pvc weathervane-test-claim
  315  vim test-pvc.yaml
  316  kubectl get pv
  317  kubectl get pvc
  318  kubectl apply -f test-pvc.yaml
  319  kubectl get pvc
  320  kubectl describe pvc weathervane-test-claim
  321  kubectl delete pvc weathervane-test-claim
  322  vim test-pvc.yaml
  323  kubectl get pv
  324  ls /k8s/weathervane/vol/
  325  cd /k8s/weathervane/
  326  ls -lat
  327  cd vol/
  328  ls 0lat
  329  ls -lat
  330  touch test.tmp
  331  ls -alt
  332  cd ~/weathervane/
  333  ls -lat
  334  kubectl delete pv weathervane-pv
  335  kubectl get pv
  336  kubectl apply -f create-persistent-vol.yaml
  337  kubectl get pv
  338  kubectl get sc
  339  kubectl apply -f test-pvc.yaml
  340  kubectl get pvc
  341  kubectl describe pvc weathervane-test-claim
  342  cp test-pvc.yaml pvc2.yaml
  343  vim pvc2.yaml
  344  kubectl get pv
  345  kubectl get pvc
  346  kubectl apply -f pvc2.yaml
  347  kubectl get pvc
  348  kubectl describe pvc weathervane-test-claim-02
  349  vim pvc2.yaml
  350  vim create-persistent-vol.yaml
  351  kubectl get pvc
  352  kubectl describe pvc weathervane-test-claim
  353  kubectl get pvc
  354  kubectl delete pvc weathervane-test-claim-02
  355  kubectl delete pvc weathervane-test-claim
  356  kubectl get pv
  357  kubectl delete pv weathervane-pv
  358  kubectl get sc
  359  history | grep run
  360  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  361  kubectl get pv
  362  kubectl get pvc
  363  kubectl get sc
  364  kubectl delete sc local-storage
  365  vim weathervane.config.k8s.quickstart
  366  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  367  kubectl get sc
  368  vim weathervane.config.k8s.quickstart
  369  vim runWeathervane.pl
  370  kubectl get pv
  371  kubectl get pvc
  372  kubectl get sc
  373  kubectl apply -f test-pvc.yaml
  374  kubectl get pvc
  375  kubectl get pv
  376  kubectl get sc
  377  kubectl describe pvc weathervane-test-claim
  378  vim create-persistent-vol.yaml
  379  vim create-storage-class.yaml
  380  kubectl delete pvc weathervane-test-claim
  381  kubectl get sc
  382  kubectl get pv
  383  kubectl get pvc
  384  kubectl apply -f create-storage-class.yaml
  385  kubectl get sc
  386  kubectl apply -f test-pvc.yaml
  387  kubectl get pvc
  388  kubectl get pv
  389  kubectl get pvc
  390  kubectl describe pvc weathervane-test-claim
  391  vim weathervane.config.k8s.micro
  392  vim configFiles/kubernetes/cassandra.yaml
  393  kubectl get sc
  394  vim weathervane.config.k8s.quickstart
  395  vim weathervane.config.k8s.micro
  396  vim create-storage-class.yaml
  397  kubectl get pvc
  398  kubectl get pv
  399  kubectl get pvc
  400  kubectl get pvc -o wide
  401  kubectl describe pvc weathervane-test-claim
  402  kubectl describe pvc weathervane-test-claim -o yaml
  403  kubectl get pvc weathervane-test-claim -o yaml
  404  kubectl get pv
  405  kubectl get pvpvc
  406  kubectl get pvc
  407  kubectl delete pvc weathervane-test-claim
  408  kubectl get sc
  409  kubectl delete sc local-storage
  410  vim create-storage-class.yaml
  411  kubectl apply -f create-storage-class.yaml
  412  kubectl get sc
  413  kubectl apply -f test-pvc.yaml
  414  kubectl get pvc
  415  kubectl describe pvc weathervane-test-claim
  416  vim create-persistent-vol.yaml
  417  mkdir /k8s/weathervane/vol/v01
  418  mkdir /k8s/weathervane/vol/v02
  419  mkdir /k8s/weathervane/vol/v03
  420  mkdir /k8s/weathervane/vol/v04
  421  mkdir /k8s/weathervane/vol/v05
  422  cp create-persistent-vol.yaml pv01.yaml
  423  cp create-persistent-vol.yaml pv02.yaml
  424  cp create-persistent-vol.yaml pv03.yaml
  425  cp create-persistent-vol.yaml pv04.yaml
  426  cp create-persistent-vol.yaml pv05.yaml
  427  vim pv01.yaml
  428  vim pv02.yaml
  429  vim pv03.yaml
  430  vim pv04.yaml
  431  vim pv05.yaml
  432  kubectl get pvc
  433  kubectl delete pvc weathervane-test-claim
  434  vim pv01.yaml
  435  vim pv02.yaml
  436  vim pv03.yaml
  437  kubectl apply -f pv01.yaml pv02.yaml pv03.yaml
  438  kubectl apply -f pv01.yaml
  439  kubectl apply -f pv02.yaml
  440  kubectl apply -f pv03.yaml
  441  kubectl get storage
  442  kubectl get sc
  443  vim test-pvc.yaml
  444  vim pvc2.yaml
  445  cp pvc2.yaml pvc3.yaml
  446  vim pvc3.yaml
  447  kubectl apply -f test-pvc.yaml
  448  kubectl apply -f pvc2.yaml
  449  kubectl apply -f pvc3.yaml
  450  kubectl get pvc
  451  kubectl delete pvc weathervane-test-claim weathervane-test-claim-02 weathervane-test-claim-03
  452  history | grep run
  453  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  454  kubectl get pvs
  455  kubectl get pvc
  456  kubectl get pv
  457  kubectl get sc
  458  kubectl get pv
  459  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  460  ls -alt
  461  ifconfig
  462  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  463  kubectl get pvs
  464  kubectl get pvc
  465  kubectl get pvc weathervane-test-claim -o yaml
  466  kubectl get pvc weathervane-test-claim -o yaml > p.yaml
  467  cd weathervane/
  468  vim wv-pvc.yaml
  469  kubectl apply -f wv-pvc.yaml
  470  kubectl get pvc
  471  kubectl get pv
  472  kubectl get pvc
  473  kubectl apply -f pvc2.yaml
  474  kubectl get pvc
  475  kubectl get nodes
  476  kubectl get pvc
  477  cd weathervane/
  478  kubectl get pvc
  479  kubectl get pv
  480  kubectl get sc
  481  ls /k8s/weathervane/vol/
  482  kubectl get pv
  483  kubectl describe pvc weathervane-test-claim
  484  kubectl get sc
  485  ./runWeathervane.pl --help
  486  kubectl get pvc
  487  kubectl delete pvc weathervane-test-claim
  488  kubectl delete pvc weathervane-test-claim-02
  489  kubectl get pv
  490  kubectl delete pv weathervane-pv1
  491  kubectl delete pv weathervane-pv2
  492  kubectl delete pv weathervane-pv3
  493  kubectl sc
  494  kubectl get sc
  495  vim runWeathervane.pl
  496  kubectl apply -f pv01.yaml
  497  kubectl apply -f pv02.yaml
  498  kubectl apply -f pv03.yaml
  499  kubectl get pv
  500  vim runWeathervane.pl
  501  history | grep run
  502  ./runWeathervane.pl  --configFile=weathervane.config.k8s.quickstart
  503  kubectl get pv
  504  kubectl get pvc
  505  kubectl get pvc --all-namespace
  506  kubectl get pvc --all-namespaces
  507  kubectl get ns
  508  docker
  509  sudo apt install docker.io
  510  docker
  511  sudo apt install podman-docker
  512  dock
  513  podman
  514  podman ps -a
  515  vim runWeathervane.pl
  516  docker
  517  sudo apt remove podman-docker
  518  sudo apt purge podman-docker
  519  podman ps -a
  520  sudo apt install docker.io
  521  sudo apt install containerd.io docker.io
  522  podma
  523  podman
  524  podmannamespave
  525  podmannamespace
  526  podmannamespaces
  527  dockernamespave
  528  dockernamespace
  529  vim runWeathervane.pl
  530  sudo apt install podman-docker
  531  which podman
  532  sudo ln -s /usr/bin/docker /usr/bin/podman
  533  sudo ln -s /usr/bin/podman /usr/bin/docker
  534  ls /usr/bin/docker
  535  docker
  536  docker ps -a
  537  history | grep run
  538  ./runWeathervane.pl  --configFile=weathervane.config.k8s.quickstart
  539  cd weathervane/
  540  ls -lat
  541  ./buildDockerImages.pl --username psonemal
  542  vim buildDockerImages.log
  543  cat buildDockerImages.
  544  cat buildDockerImages.log
  545  docker run --name weathervane-builder --rm -v /home/mfm/weathervane/.gradle:/root/.gradle -v /home/mfm/weathervane:/root/weathervane -w /root/weathervane --entrypoint /root/weathervane/gradlew openjdk:8
  546  hostname
  547  ./buildDockerImages.pl --private --host mm74
  548  cat buildDockerImages.log
  549  cat /etc/containers/registries.conf
  550  ./buildDockerImages.pl --username psonemal
  551  cat buildDockerImages.log
  552  history
  553  ll
  554  history > history_220819
  555  cd weathervane/
  556  ls
  557  ls -lrt
  558  cat buildDockerImages.log
  559  tail ~/.ssh/authorized_keys
  560  cat buildDockerImages.pl
  561  ./buildDockerImages.pl --username mikemoranamd
  562  cat buildDockerImages.log
  563  who
  564  cd weathervane/
  565  cat pv01.yaml
  566  cat pv02.yaml
  567  cat pv03.yaml
  568  cat pv04.yaml
  569  cat pv05.yaml
  570  cat pvc2.yaml
  571  cat pvc3.yaml
  572  cat wv-pvc.yaml
  573  git status
  574  ./runWeathervane.pl --skipPvTest --configFile=weathervane.config.k8s.quickstart
  575  locate Term/ReadKey.pm
  576  sudo apt install plocate
  577  sudo apt install mlocate
  578  locate Term/ReadKey.pm
  579  cpan Term::ReadKey
  580  sudo cpan Term::ReadKey
  581  ./runWeathervane.pl --skipPvTest --configFile=weathervane.config.k8s.quickstart
  582  sudo ./runWeathervane.pl --skipPvTest --configFile=weathervane.config.k8s.quickstart
  583  cd weathervane/
  584  kubectl get pv
  585  kubectl get pvc
  586  ls -lat
  587  vim buildDockerImages.log
  588  docker ps -a
  589  docker iamge ls
  590  docker image ls
  591  cat buildDockerImages.log
  592  docker run --name weathervane-builder
  593  vim buildDockerImages.pl
  594  ./buildDockerImages.pl --username psonemal@amd.com
  595  cat buildDockerImages.log.
  596  ./buildDockerImages.pl --username psonemal
  597  cat buildDockerImages.log.
  598  cat buildDockerImages.log
  599  cat /etc/containers/registries.conf
  600  cat buildDockerImages.log
  601  podman compose
  602  podman-compose up
  603  vim /etc/containers/registries.conf
  604  sudo vim /etc/containers/registries.conf
  605  ./buildDockerImages.pl --username psonemal
  606  kubectl get pv
  607  kubectl get pvc
  608  kubectl get sc
  609  history | grep kubectl
  610  kubectl get pvc
  611  kubectl get pvc --all-namespaces
  612  kubectl get pvc --all-namespace
  613  kubectl get pvc --all-namespaces
  614  kubectl get pvc
  615  kubectl get pvc --all-namespaces
  616  kubectl get pv --all-namespaces
  617  kubectl delete pv weathervane-pv1
  618  kubectl delete pv weathervane-pv2
  619  kubectl delete pv weathervane-pv3
  620  kubectl apply -f pv01.yaml
  621  kubectl apply -f pv02.yaml
  622  kubectl apply -f pv03.yaml
  623  kubectl get pv
  624  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart
  625  ./runWeathervane.pl --help
  626  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir /home/mfm/weathervane/output
  627  vim runWeathervane.pl
  628  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir /home/mfm/weathervane/outDir --tmpDir  /home/mfm/weathervane/tmpDir
  629  ls outDir/
  630  ls tmpDir/
  631  exit
  632  cat /etc/containers/registries.conf
  633  podman ps -a
  634  kubectl get pv
  635  kubectl get pvc
  636  kubectl get pvc --all-namespaces
  637  kubectl get pv --all-namespaces
  638  kubectl get pvc --all-namespaces
  639  cd weathervane/
  640  ls -lat tmpDir/
  641  ls -lat  outDir/
  642  cat outDir/sequence.num
  643  top
  644  docker ps -a
  645  history | grep run
  646  kubectl get sc
  647  kubectl get pv --all-namespaces
  648  kubectl get sc
  649  kubectl get pvc --all-namespaces
  650  exit
  651  kubectl get pv
  652  kubectl get pvc
  653  kubectl get sc
  654  cd weathervane/
  655  vim
  656  ls
  657  cat weathervane.config.k8s.quickstart
  658  uname -a
  659  ll
  660  which zip
  661  which pkzip
  662  cd weathervane/
  663  ls
  664  ls -lrt
  665  cd ..
  666  cp -R weathervane/ weathervane_backup
  667  ll
  668  cd weathervane_backup/
  669  ll
  670  cd ..
  671  du -s *
  672  cd weathervane
  673  ll
  674  history | grep quickstart
  675  history
  676  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir /home/mfm/weathervane/outDir --tmpDir  /home/mfm/weathervane/tmpDir
  677  kubectl get pv
  678  who
  679  curl curl localhost:c4231//SEV_Dashboard
  680  kubectl get pv
  681  cd weathervane/
  682  ll
  683  cat pv01.yaml
  684  kubectl get pvc
  685  kubectl get pv
  686  ls
  687  cd weathervane
  688  ll
  689  history > ~/history_220824
  690  vi ~/history_220824
  691  cat /etc/containers/registries.conf
  692  ls
  693  test
  694  which test
  695  run
  696  vi z
  697  df .
  698  df /tmp
  699  fg
  700  ./z
  701  . z
  702  ll /tmp
  703  ls
  704  cat z
  705  ls Z_DIR/
  706  cat Z_DIR/z
  707  rm Z_DIR/z
  708  rmdir Z_DIR/
  709  fg
  710  ./z
  711  . z
  712  ll /tmp
  713  ll /tmp/220824174547
  714  cat /tmp/220824174547/ZOUTPUT
  715  fg
  716  . z
  717  cd /tmp/220824175727
  718  ll
  719  cat ZOUT
  720  ls
  721  cat weathervane.config.k8s.quickstart
  722  ls
  723  cd outDir/
  724  ll
  725  cd ../tmpDir/
  726  ll
  727  cd
  728  cd weathervane
  729  fg
  730  ll
  731  ll *.yaml
  732  fg
  733  .  z
  734  ll /tmp/220824180359
  735  ll /tmp
  736  fg
  737  ls
  738  git status
  739  git diff runWeathervane.pl
  740  jobs
  741  vi runWeathervane.pl
  742  kubectl get pv
  743  cat pv01.yaml
  744  kubectl get pvc
  745  kubectl get pvc --all-namespaces
  746  kubectl get pv --all-namespaces
  747  vi z
  748  jobs
  749  ll /tmp
  750  . z
  751  ll /tmp/220824182631
  752  vi z
  753  kubectl get pv
  754  kubectl get pvc
  755  kubectl get sc
  756  kubectl get pv --all-namespaces
  757  kubectl get pvc --all-namespaces
  758  kubectl get sc --all-namespaces
  759  jobs
  760  cat create-storage-class.yaml
  761  jobs
  762  fg
  763  . z
  764  cd /tmp/220824184936
  765  ll
  766  cat ZOUT
  767  1fg
  768  cd
  769  cd weathervane
  770  fg
  771  . z
  772  cat /tmp/220824185250/ZOUT
  773  fg
  774  kubectl delete pvc cassandra-data-cassandra-0
  775  kubectl delete pvc cassandra-data-cassandra-0 -ns auctionw1i1
  776  kubectl delete pvc cassandra-data-cassandra-0 -namespace auctionw1i1
  777  kubectl delete pvc cassandra-data-cassandra-0 --namespace auctionw1i1
  778  kubectl get pvc --all-namespaces
  779  kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
  780  kubectl get pvc --all-namespaces
  781  fg
  782  . z
  783  kubectl get pvc --all-namespaces
  784  kubectl delete pv weathervane-pv1
  785  kubectl get pv --all-namespaces
  786  kubectl apply -f pv01.yaml
  787  kubectl get pv --all-namespaces
  788  kubectl delete pv weathervane-pv2
  789  kubectl delete pv weathervane-pv3
  790  kubectl apply -f pv02.yaml
  791  kubectl apply -f pv03.yaml
  792  kubectl get pv --all-namespaces
  793  g
  794  fg
  795  . z
  796  cd /tmp/220824191813
  797  ll
  798  ll outDir/
  799  ll tmpDir/
  800  kubectl get pv --all-namespaces
  801  kubectl get pvc --all-namespaces
  802  kubectl get sc --all-namespaces
  803  kubectl describe sc local-storage
  804  jobs
  805  fg
  806  which awk
  807  kubectl delete pvc cassandra-data-cassandra-0 --namespace auctionw1i1
  808  kubectl delete pvc postgresql-postgresql-0 --namespace auctionw1i1
  809  kubectl get pvc --all-namespaces
  810  kubectl get pv --all-namespaces
  811  kubectl delete pv weathervane-pv1
  812  kubectl delete pv weathervane-pv2
  813  kubectl delete pv weathervane-pv3
  814  kubectl get sc --all-namespaces
  815  kubectl get pv --all-namespaces
  816  kubectl get pvc --all-namespaces
  817  ls
  818  vi pv01.yaml
  819  vi pv02.yaml
  820  vi pv03.yaml
  821  # changed 10Gi to 20Gi
  822  kubectl apply -f pv01.yaml
  823  kubectl apply -f pv02.yaml
  824  kubectl apply -f pv03.yaml
  825  fg
  826  cd
  827  cd weathervane\
  828  cd weathervane
  829  kubectl get pvc --all-namespaces
  830  kubectl get pv --all-namespaces
  831  ls
  832  vi pv01.yaml pv02.yaml pv03.yaml
  833  cat pv01.yaml pv02.yaml pv03.yaml
  834  . z
  835  jobs
  836  vi z
  837  vi pv0*.yaml
  838  kubectl get sc --all-namespaces
  839  kubectl get pv --all-namespaces
  840  kubectl get pvc --all-namespaces
  841  vi z
  842  cd
  843  cd weathervane
  844  . z
  845  jobs
  846  vi z
  847  . z
  848  vi z
  849  . z
  850  vi z
  851  . z
  852  kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
  853  kubectl get pvc --all-namespaces
  854  kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
  855  kubectl get pvc --all-namespaces
  856  kubectl get sc --all-namespaces
  857  kubectl get pv --all-namespaces
  858  kubectl delete pv weathervane-pv1
  859  kubectl delete pv weathervane-pv2
  860  kubectl get pv --all-namespaces
  861  kubectl delete pv weathervane-pv3
  862  kubectl get pv --all-namespaces
  863  kubectl get pvc --all-namespaces
  864  kubectl get sc --all-namespaces
  865  kubectl get pvc --all-namespaces
  866  kubectl get pv --all-namespaces
  867  vi create-
  868  vi create-storage-class.yaml
  869  cp create-storage-class.yaml create-storage-class2.yaml
  870  vi create-storage-class2.yaml
  871  vi z
  872  ls
  873  cp pv01.yaml pv04.yaml
  874  cp pv02.yaml pv05.yaml
  875  cp pv03.yaml pv06.yaml
  876  vi pv04.yaml pv05.yaml pv06.yaml
  877  cat z
  878  . z
  879  jobs
  880  ls
  881  vi weathervane.config.k8s.quickstart
  882  kubectl get sc --all-namespaces
  883  kubectl get pv --all-namespaces
  884  kubectl delete pv weathervane-pv1-2
  885  kubectl delete pv weathervane-pv2-2
  886  kubectl delete pv weathervane-pv3-2
  887  kubectl get pv --all-namespaces
  888  kubectl get pvc --all-namespaces
  889  cat z
  890  kubectl get sc --all-namespaces
  891  kubectl delete sc local-storage2
  892  kubectl get sc --all-namespaces
  893  kubectl get pv --all-namespaces
  894  kubectl get pvc --all-namespaces
  895  cat z
  896  . z
  897  kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
  898  kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
  899  kubectl get pvc --all-namespaces
  900  kubectl get pv --all-namespaces
  901  kubectl delete pv weathervane-pv1-2
  902  kubectl delete pv weathervane-pv2-2
  903  kubectl delete pv weathervane-pv3-2
  904  kubectl get pv --all-namespaces
  905  kubectl get sc --all-namespaces
  906  kubectl delete sc local-storage2
  907  kubectl get sc --all-namespaces
  908  kubectl get pv --all-namespaces
  909  kubectl get pvc --all-namespaces
  910  jobs
  911  vi create-storage-class.yaml
  912  vi runWeathervane.pl
  913  ll
  914  . z
  915  ls
  916  ca pv01.yaml
  917  cat pv01.yaml
  918  cat weathervane.config.k8s.quickstart
  919  vi weathervane.config.k8s.quickstart
  920  kubectl get sc --all-namespaces
  921  cat weathervane.config.k8s.quickstart
  922  kubectl get sc --all-namespaces
  923  kubectl get pv --all-namespaces
  924  kubectl get pvc --all-namespaces
  925  kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
  926  kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
  927  kubectl get pvc --all-namespaces
  928  kubectl get pv --all-namespaces
  929  jobs
  930  vi z
  931  . z
  932  cat z
  933  history
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$
mfm@mm74:/home/mfm/weathervane$


SOM:
1024  history
 1025  cd weathervane
 1026  ls -alt
 1027  vim z
 1028  kubectl get pv --all-namespaces
 1029  kubectl get pvc --all-namespaces
 1030  kubectl get pods --all-namespaces
 1031  ls tmpDir/
 1032  ls -lat tmpDir/
 1033  ls -lat output/
 1034  ls -lat outDir/
 1035  cat outDir/sequence.num
 1036  podman ps -a
 1037  ls
 1038  kubectl get pvc --all-namespaces
 1039  kubectl get events --all-namespaces
 1040  kubectl get events
 1041  history | grep "run"
 1042  ./runWeathervane.pl --configFile=weathervane.config.k8s.quickstart --outputDir /home/mfm/weathervane/outDir --tmpDir  /home/mfm/weathervane/tmpDir
 1043  vim weathervane.config.k8s.quickstart
 1044  cd outDir/1/
 1045  ls -lat
 1046  vim debug.log
 1047  cd weathervane
 1048  ls -lat
 1049  ls outDir/
 1050  ls -lat tmpDir/
 1051  ls outDir/0/
 1052  ls outDir/0/1
 1053  kubectl get pods --all-namespaces
 1054  podman ps -a
 1055  kubectl describe pod cassandra-0 -ns auctionw1i1
 1056  kubectl describe pod cassandra-0 -n auctionw1i1
 1057  kubectl describe pod postgresql-0  -n auctionw1i1
 1058  top
 1059  !
 1060  kubectl get pods --all-namespaces
 1061  podman ps -a
 1062  top
 1063  kubectl get pods --all-namespaces
 1064  top
 1065  kubectl get pods --all-namespaces
 1066  kubectl describe pod tomcat-85d4b5fc8f-cdcvk -n auctionw1i1
 1067  kubectl describe pod tomcat-85d4b5fc8f-cdcvk -n auctionw1i1 > tomcat.pod.log
 1068  kubectl describe pod tomcat-85d4b5fc8f-cdcvk -n auctionw1i1
 1069  kubectl get pods --all-namespaces
 1070  kubectl describe pod zookeeper-0 -n auctionw1i1
 1071  kubectl describe pod zookeeper-0 -n auctionw1i1 > zookeeper.pod
 1072  kubectl get pods --all-namespaces
 1073  kubectl describe pod rabbitmq-5bbc8874bb-r64k4 -n auctionw1i1
 1074  kubectl describe pod rabbitmq-5bbc8874bb-r64k4 -n auctionw1i1 > rabbitmq.pod
 1075  kubectl get pods --all-namespaces
 1076  kubectl describe pod postgresql-0 -n auctionw1i1
 1077  kubectl describe pod postgresql-0 -n auctionw1i1 > postgresql.pod
 1078  kubectl get pods --all-namespaces
 1079  kubectl describe pod cassandra-0 -n auctionw1i1 > cassandra.pod
 1080  cat cassandra.pod
 1081  kubectl get pvc --all-namespace
 1082  kubectl get pvc --all-namespaces
 1083  kubectl get pvc --all-namespaces > pvcs.log
 1084  kubectl get pv --all-namespaces
 1085  kubectl get pv --all-namespaces > pvs.log
 1086  kubectl describe pv weathervane-pv1
 1087  kubectl describe pv weathervane-pv1 > pv1.describe
 1088  kubectl describe pv weathervane-pv2
 1089  kubectl describe pv weathervane-pv2 > pv2.describe
 1090  kubectl get pvc --all-namespaces
 1091  kubectl describe pvc cassandra-data-cassandra-0
 1092  kubectl describe pvc cassandra-data-cassandra-0 -n auctionw1i1
 1093  kubectl describe pvc cassandra-data-cassandra-0 -n auctionw1i1 > cassandra.data.pvc
 1094  kubectl describe pvc postgresql-postgresql-0 -n auctionw1i1 > postgresql.data.pvc
 1095  cat postgresql.data.pvc
 1096  kubectl get pvc --all-namespaces
 1097  kubectl get pods --all-namespaces
 1098  kubectl describe pod cassandra-0 -n auctionw1i1
 1099  ls
 1100  mkdir Som_logs
 1101  mv *.pod Som_logs/
 1102  mv *.describe Som_logs/
 1103  ls
 1104  mv tomcat.pod.log Som_logs/
 1105  mv cassandra.data.pvc Som_logs/
 1106  mv postgresql.data.pvc Som_logs/
 1107  cd Som_logs/
 1108  ls -lat
 1109  vim tomcat.pod.log
 1110  cat rabbitmq.pod
 1111  ls -lat
 1112  cat rabbitmq.pod
 1113  ls -lat
 1114  vim zookeeper.pod
 1115  vim postgresql.pod
 1116  vim cassandra.pod
 1117  vim tomcat.pod.log
 1118  mv tomcat.pod.log tomcat.pod
 1119  vim tomcat.pod

 mfm@mm74:/home/mfm/weathervane/Som_logs$ ll
total 48
drwxrwxr-x  2 mfm mfm 4096 Aug 25 04:46 ./
drwxrwxr-x 22 mfm mfm 4096 Aug 25 04:41 ../
-rw-rw-r--  1 mfm mfm  533 Aug 25 04:06 cassandra.data.pvc
-rw-rw-r--  1 mfm mfm 3108 Aug 25 04:02 cassandra.pod
-rw-rw-r--  1 mfm mfm  529 Aug 25 04:07 postgresql.data.pvc
-rw-rw-r--  1 mfm mfm 3060 Aug 25 04:02 postgresql.pod
-rw-rw-r--  1 mfm mfm  643 Aug 25 04:05 pv1.describe
-rw-rw-r--  1 mfm mfm  640 Aug 25 04:05 pv2.describe
-rw-rw-r--  1 mfm mfm 2822 Aug 25 04:01 rabbitmq.pod
-rw-rw-r--  1 mfm mfm 4391 Aug 25 04:00 tomcat.pod
-rw-rw-r--  1 mfm mfm 2722 Aug 25 04:01 zookeeper.pod
mfm@mm74:/home/mfm/weathervane/Som_logs$ cat cassandra.data.pvc
Name:          cassandra-data-cassandra-0
Namespace:     auctionw1i1
StorageClass:  local-storage
Status:        Bound
Volume:        weathervane-pv1
Labels:        app=auction
               impl=cassandra
               tier=data
               type=nosqlServer
Annotations:   pv.kubernetes.io/bind-completed: yes
               pv.kubernetes.io/bound-by-controller: yes
Finalizers:    [kubernetes.io/pvc-protection]
Capacity:      40Gi
Access Modes:  RWO
VolumeMode:    Filesystem
Used By:       cassandra-0
Events:        <none>
mfm@mm74:/home/mfm/weathervane/Som_logs$ cat cassandra.pod
Name:         cassandra-0
Namespace:    auctionw1i1
Priority:     0
Node:         mm74/145.40.99.43
Start Time:   Thu, 25 Aug 2022 03:49:39 +0000
Labels:       app=auction
              controller-revision-hash=cassandra-5fdbcf546d
              impl=cassandra
              statefulset.kubernetes.io/pod-name=cassandra-0
              tier=data
              type=nosqlServer
Annotations:  cni.projectcalico.org/containerID: 30e35a8f5c2ae9b0570af748d3cf8f33037ea4df34a31f3cfe99a94e455d4868
              cni.projectcalico.org/podIP: 192.168.23.120/32
              cni.projectcalico.org/podIPs: 192.168.23.120/32
Status:       Running
IP:           192.168.23.120
IPs:
  IP:           192.168.23.120
Controlled By:  StatefulSet/cassandra
Containers:
  cassandra:
    Container ID:   containerd://a4b19545ae69ec71a07de7298cea6010864b54d10a5dad6f45ed5175d9d78459
    Image:          mikemoranamd/weathervane-cassandra:2.1.1
    Image ID:       docker.io/mikemoranamd/weathervane-cassandra@sha256:6bc3b2f05afc4d74dcce0fca2e4641dcd883d12164d9a89b25d4eda9cfc191ee
    Ports:          7000/TCP, 7001/TCP, 7199/TCP, 9042/TCP
    Host Ports:     0/TCP, 0/TCP, 0/TCP, 0/TCP
    State:          Running
      Started:      Thu, 25 Aug 2022 03:49:43 +0000
    Ready:          True
    Restart Count:  0
    Requests:
      cpu:      150m
      memory:   1500Mi
    Readiness:  exec [/bin/sh -c nodetool status | grep $POD_IP | grep -Eq UN] delay=8s timeout=20s period=60s #success=1 #failure=3
    Environment Variables from:
      cassandra-config  ConfigMap  Optional: false
    Environment:
      POD_IP:   (v1:status.podIP)
    Mounts:
      /data from cassandra-data (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-97pkq (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             True
  ContainersReady   True
  PodScheduled      True
Volumes:
  cassandra-data:
    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)
    ClaimName:  cassandra-data-cassandra-0
    ReadOnly:   false
  kube-api-access-97pkq:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   Burstable
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  13m   default-scheduler  Successfully assigned auctionw1i1/cassandra-0 to mm74
  Normal  Pulled     12m   kubelet            Container image "mikemoranamd/weathervane-cassandra:2.1.1" already present on machine
  Normal  Created    12m   kubelet            Created container cassandra
  Normal  Started    12m   kubelet            Started container cassandra
mfm@mm74:/home/mfm/weathervane/Som_logs$ cat postgresql.data.pvc
Name:          postgresql-postgresql-0
Namespace:     auctionw1i1
StorageClass:  local-storage
Status:        Bound
Volume:        weathervane-pv2
Labels:        app=auction
               impl=postgresql
               tier=data
               type=dbServer
Annotations:   pv.kubernetes.io/bind-completed: yes
               pv.kubernetes.io/bound-by-controller: yes
Finalizers:    [kubernetes.io/pvc-protection]
Capacity:      40Gi
Access Modes:  RWO
VolumeMode:    Filesystem
Used By:       postgresql-0
Events:        <none>
mfm@mm74:/home/mfm/weathervane/Som_logs$ cat postgresql.pod
Name:         postgresql-0
Namespace:    auctionw1i1
Priority:     0
Node:         mm74/145.40.99.43
Start Time:   Thu, 25 Aug 2022 03:49:39 +0000
Labels:       app=auction
              controller-revision-hash=postgresql-6b65848d6
              impl=postgresql
              statefulset.kubernetes.io/pod-name=postgresql-0
              tier=data
              type=dbServer
Annotations:  cni.projectcalico.org/containerID: c27acc9d521528213af4b71a30ab1275ab8598f22e87099b261fda9d77219510
              cni.projectcalico.org/podIP: 192.168.23.118/32
              cni.projectcalico.org/podIPs: 192.168.23.118/32
Status:       Running
IP:           192.168.23.118
IPs:
  IP:           192.168.23.118
Controlled By:  StatefulSet/postgresql
Containers:
  postgresql:
    Container ID:   containerd://7d84ab0594e87c644237983a2812b7b418daeb1a5ea8d8847ac2e6645f04a162
    Image:          mikemoranamd/weathervane-postgresql:2.1.1
    Image ID:       docker.io/mikemoranamd/weathervane-postgresql@sha256:e7ff30cf3691d5b16f7ab6b2b182175a2b9c120ccd31e7d1ddf7693251f5e558
    Port:           5432/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Thu, 25 Aug 2022 03:49:40 +0000
    Ready:          True
    Restart Count:  0
    Requests:
      cpu:      50m
      memory:   1000Mi
    Readiness:  exec [/bin/sh -c cat /tmp/isReady && /usr/pgsql-9.3/bin/pg_isready -h 127.0.0.1 -p 5432] delay=33s timeout=5s period=60s #success=1 #failure=3
    Environment Variables from:
      postgresql-config  ConfigMap  Optional: false
    Environment:         <none>
    Mounts:
      /mnt from postgresql (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-qb644 (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             True
  ContainersReady   True
  PodScheduled      True
Volumes:
  postgresql:
    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)
    ClaimName:  postgresql-postgresql-0
    ReadOnly:   false
  kube-api-access-qb644:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   Burstable
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  12m   default-scheduler  Successfully assigned auctionw1i1/postgresql-0 to mm74
  Normal  Pulled     12m   kubelet            Container image "mikemoranamd/weathervane-postgresql:2.1.1" already present on machine
  Normal  Created    12m   kubelet            Created container postgresql
  Normal  Started    12m   kubelet            Started container postgresql
mfm@mm74:/home/mfm/weathervane/Som_logs$ cat pv1.describe
Name:              weathervane-pv1
Labels:            <none>
Annotations:       pv.kubernetes.io/bound-by-controller: yes
Finalizers:        [kubernetes.io/pv-protection]
StorageClass:      local-storage
Status:            Bound
Claim:             auctionw1i1/cassandra-data-cassandra-0
Reclaim Policy:    Retain
Access Modes:      RWO
VolumeMode:        Filesystem
Capacity:          40Gi
Node Affinity:
  Required Terms:
    Term 0:        kubernetes.io/hostname in [mm74]
Message:
Source:
    Type:  LocalVolume (a persistent volume backed by local storage on a node)
    Path:  /k8s/weathervane/vol/v01
Events:    <none>
mfm@mm74:/home/mfm/weathervane/Som_logs$ cat pv2.describe
Name:              weathervane-pv2
Labels:            <none>
Annotations:       pv.kubernetes.io/bound-by-controller: yes
Finalizers:        [kubernetes.io/pv-protection]
StorageClass:      local-storage
Status:            Bound
Claim:             auctionw1i1/postgresql-postgresql-0
Reclaim Policy:    Retain
Access Modes:      RWO
VolumeMode:        Filesystem
Capacity:          40Gi
Node Affinity:
  Required Terms:
    Term 0:        kubernetes.io/hostname in [mm74]
Message:
Source:
    Type:  LocalVolume (a persistent volume backed by local storage on a node)
    Path:  /k8s/weathervane/vol/v02
Events:    <none>
mfm@mm74:/home/mfm/weathervane/Som_logs$ cat rabbitmq.pod
Name:         rabbitmq-5bbc8874bb-r64k4
Namespace:    auctionw1i1
Priority:     0
Node:         mm74/145.40.99.43
Start Time:   Thu, 25 Aug 2022 03:49:40 +0000
Labels:       app=auction
              impl=rabbitmq
              pod-template-hash=5bbc8874bb
              tier=backend
              type=msgServer
Annotations:  cni.projectcalico.org/containerID: 821ba8d1172cd82bcf823d9d3e6d2d5935c434b1adae3df69a181d4dbb333734
              cni.projectcalico.org/podIP: 192.168.23.121/32
              cni.projectcalico.org/podIPs: 192.168.23.121/32
Status:       Running
IP:           192.168.23.121
IPs:
  IP:           192.168.23.121
Controlled By:  ReplicaSet/rabbitmq-5bbc8874bb
Containers:
  rabbitmq:
    Container ID:   containerd://f6408766c7756f0f332d2323be51088c330aa79829a6ff50a1042b16a6feaad0
    Image:          mikemoranamd/weathervane-rabbitmq:2.1.1
    Image ID:       docker.io/mikemoranamd/weathervane-rabbitmq@sha256:11dbb980c5c8b442490a2b47918b033e72889d537d6baf6f465ed1fde247ec2a
    Ports:          5672/TCP, 25672/TCP
    Host Ports:     0/TCP, 0/TCP
    State:          Running
      Started:      Thu, 25 Aug 2022 03:49:43 +0000
    Ready:          True
    Restart Count:  0
    Requests:
      cpu:      40m
      memory:   1000Mi
    Readiness:  exec [/bin/sh -c curl -f --user auction:auction 127.0.0.1:15672/api/healthchecks/node | grep -Eq ok] delay=21s timeout=5s period=60s #success=1 #failure=3
    Environment Variables from:
      rabbitmq-config  ConfigMap  Optional: false
    Environment:       <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-g4rrt (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             True
  ContainersReady   True
  PodScheduled      True
Volumes:
  kube-api-access-g4rrt:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   Burstable
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  12m   default-scheduler  Successfully assigned auctionw1i1/rabbitmq-5bbc8874bb-r64k4 to mm74
  Normal  Pulled     11m   kubelet            Container image "mikemoranamd/weathervane-rabbitmq:2.1.1" already present on machine
  Normal  Created    11m   kubelet            Created container rabbitmq
  Normal  Started    11m   kubelet            Started container rabbitmq
mfm@mm74:/home/mfm/weathervane/Som_logs$ cat tomcat.pod
Name:         tomcat-85d4b5fc8f-cdcvk
Namespace:    auctionw1i1
Priority:     0
Node:         mm74/145.40.99.43
Start Time:   Thu, 25 Aug 2022 03:51:50 +0000
Labels:       app=auction
              impl=tomcat
              pod-template-hash=85d4b5fc8f
              tier=backend
              type=appServer
Annotations:  cni.projectcalico.org/containerID: cef4cb4f4c5c1f9f269526229f6d6a91840e7c8746bb99fe51a3f14d0f4a73d0
              cni.projectcalico.org/podIP: 192.168.23.123/32
              cni.projectcalico.org/podIPs: 192.168.23.123/32
Status:       Running
IP:           192.168.23.123
IPs:
  IP:           192.168.23.123
Controlled By:  ReplicaSet/tomcat-85d4b5fc8f
Containers:
  tomcat:
    Container ID:   containerd://df33d64b79b8f95f5621bd2127d5a497e3e7c5fd8fb509f77827856c4cd65879
    Image:          mikemoranamd/weathervane-tomcat:2.1.1
    Image ID:       docker.io/mikemoranamd/weathervane-tomcat@sha256:ef4ff0e1ea43ea67864e938a07d1082609cb3b650e6d1e703099382443e89a39
    Ports:          8080/TCP, 8443/TCP, 9090/TCP
    Host Ports:     0/TCP, 0/TCP, 0/TCP
    State:          Running
      Started:      Thu, 25 Aug 2022 03:51:50 +0000
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     400m
      memory:  1500Mi
    Requests:
      cpu:      400m
      memory:   1500Mi
    Readiness:  exec [/bin/sh -c curl -s http://127.0.0.1:8080/auction/healthCheck | grep -Eq alive] delay=13s timeout=5s period=60s #success=1 #failure=3
    Environment Variables from:
      tomcat-config  ConfigMap  Optional: false
    Environment:     <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-9g75v (ro)
  warmer:
    Container ID:   containerd://afbaa5fd81a8176aff9be2e6265b0c22f0f9abd9c889f859be23b144782d5364
    Image:          mikemoranamd/weathervane-auctionappserverwarmer:2.1.1
    Image ID:       docker.io/mikemoranamd/weathervane-auctionappserverwarmer@sha256:19e0c3575e4874e8ad09f16959404cfc8f73654a206f9a742b5937844958f2de
    Port:           <none>
    Host Port:      <none>
    State:          Running
      Started:      Thu, 25 Aug 2022 03:51:50 +0000
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     100m
      memory:  500Mi
    Requests:
      cpu:     100m
      memory:  500Mi
    Environment Variables from:
      tomcat-config  ConfigMap  Optional: false
    Environment:     <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-9g75v (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             True
  ContainersReady   True
  PodScheduled      True
Volumes:
  kube-api-access-9g75v:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   Guaranteed
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type     Reason     Age                   From               Message
  ----     ------     ----                  ----               -------
  Normal   Scheduled  8m29s                 default-scheduler  Successfully assigned auctionw1i1/tomcat-85d4b5fc8f-cdcvk to mm74
  Normal   Pulled     8m29s                 kubelet            Container image "mikemoranamd/weathervane-tomcat:2.1.1" already present on machine
  Normal   Created    8m29s                 kubelet            Created container tomcat
  Normal   Started    8m29s                 kubelet            Started container tomcat
  Normal   Pulled     8m29s                 kubelet            Container image "mikemoranamd/weathervane-auctionappserverwarmer:2.1.1" already present on machine
  Normal   Created    8m29s                 kubelet            Created container warmer
  Normal   Started    8m29s                 kubelet            Started container warmer
  Warning  Unhealthy  7m12s                 kubelet            Readiness probe failed: command "/bin/sh -c curl -s http://127.0.0.1:8080/auction/healthCheck | grep -Eq alive" timed out
  Warning  Unhealthy  5m28s (x4 over 7m7s)  kubelet            Readiness probe failed:
mfm@mm74:/home/mfm/weathervane/Som_logs$ cat zookeeper.pod
Name:         zookeeper-0
Namespace:    auctionw1i1
Priority:     0
Node:         mm74/145.40.99.43
Start Time:   Thu, 25 Aug 2022 03:49:40 +0000
Labels:       app=auction
              controller-revision-hash=zookeeper-79d7f95659
              impl=zookeeper
              statefulset.kubernetes.io/pod-name=zookeeper-0
              tier=backend
              type=coordinationServer
Annotations:  cni.projectcalico.org/containerID: e2fad5f7ee8a71f9e6d1cb4b1e096699d831ed4c4a8de41e13707b36890c324d
              cni.projectcalico.org/podIP: 192.168.23.119/32
              cni.projectcalico.org/podIPs: 192.168.23.119/32
Status:       Running
IP:           192.168.23.119
IPs:
  IP:           192.168.23.119
Controlled By:  StatefulSet/zookeeper
Containers:
  zookeeper:
    Container ID:   containerd://f0e9960a63bd618cda34519b26d1dec47f8bdccc0eee8259d4c433f05591465e
    Image:          mikemoranamd/weathervane-zookeeper:2.1.1
    Image ID:       docker.io/mikemoranamd/weathervane-zookeeper@sha256:92b79355bfdb1c8f30d5a5014f8adbe3e61f4d9aa8730c0fd9368dd7570222e2
    Ports:          2181/TCP, 2888/TCP, 3888/TCP
    Host Ports:     0/TCP, 0/TCP, 0/TCP
    State:          Running
      Started:      Thu, 25 Aug 2022 03:49:43 +0000
    Ready:          True
    Restart Count:  0
    Requests:
      cpu:     1m
      memory:  100Mi
    Environment Variables from:
      zookeeper-config  ConfigMap  Optional: false
    Environment:        <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-pcm9k (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             True
  ContainersReady   True
  PodScheduled      True
Volumes:
  kube-api-access-pcm9k:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   Burstable
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  11m   default-scheduler  Successfully assigned auctionw1i1/zookeeper-0 to mm74
  Normal  Pulled     11m   kubelet            Container image "mikemoranamd/weathervane-zookeeper:2.1.1" already present on machine
  Normal  Created    11m   kubelet            Created container zookeeper
  Normal  Started    11m   kubelet            Started container zookeeper
mfm@mm74:/home/mfm/weathervane/Som_logs$


mfm@mm74:/home/mfm/weathervane$ cat z

TS="$(date +%y%m%d%H%M%S)"
Z_DIR="/tmp/$TS"
mkdir -p $Z_DIR
echo "Z_DIR=$Z_DIR"
cp z $Z_DIR
cp weathervane.config.k8s.quickstart $Z_DIR
cp *.yaml $Z_DIR
cp runWeathervane.pl $Z_DIR


kubectl delete pvc --namespace auctionw1i1 cassandra-data-cassandra-0
kubectl delete pvc --namespace auctionw1i1 postgresql-postgresql-0
kubectl delete pv weathervane-pv1
kubectl delete pv weathervane-pv2
kubectl delete pv weathervane-pv3
#kubectl delete sc local-storage

#kubectl create -f create-storage-class.yaml
kubectl apply -f pv01.yaml
kubectl apply -f pv02.yaml
kubectl apply -f pv03.yaml



echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "BEGIN OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT


./runWeathervane.pl --skipPvTest --configFile=weathervane.config.k8s.quickstart --outputDir $Z_DIR/outDir --tmpDir $Z_DIR/tmpDir 2>&1 | tee -a $Z_DIR/ZOUT


echo "" | tee -a $Z_DIR/ZOUT
echo "END OF WEATHERVANE PERL SCRIPT OUTPUT" | tee -a $Z_DIR/ZOUT

echo "" | tee -a $Z_DIR/ZOUT
echo "$ kubectl get sc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get sc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pv --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pv --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT

echo "$ kubectl get pvc --all-namespaces" | tee -a $Z_DIR/ZOUT
kubectl get pvc --all-namespaces 2>&1 | tee -a $Z_DIR/ZOUT
echo "" | tee -a $Z_DIR/ZOUT
mfm@mm74:/home/mfm/weathervane$